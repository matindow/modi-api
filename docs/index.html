<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:46,&quot;tests&quot;:14,&quot;passes&quot;:8,&quot;pending&quot;:0,&quot;failures&quot;:6,&quot;start&quot;:&quot;2022-04-14T08:50:40.103Z&quot;,&quot;end&quot;:&quot;2022-04-14T08:50:58.021Z&quot;,&quot;duration&quot;:17918,&quot;testsRegistered&quot;:229,&quot;passPercent&quot;:3.4934497816593884,&quot;pendingPercent&quot;:0,&quot;other&quot;:42,&quot;hasOther&quot;:true,&quot;skipped&quot;:215,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;157acba1-dc44-492d-98f4-11ebfb1e0144&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;728f3c1f-6642-43ee-b3ba-c4e29bedad52&quot;,&quot;title&quot;:&quot;customers&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;38dc064d-2a30-433a-bc2e-038709c472e4&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b94624ad-516c-4248-a190-cd4bd986d10c&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;customers POST 401 should fail without auth&quot;,&quot;duration&quot;:459,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2f7577f-1d04-4401-a1ff-f720498a5b8c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers POST 401 should satisfy api spec&quot;,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71e8cf0c-586b-405e-9461-96293d59b03e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b2f7577f-1d04-4401-a1ff-f720498a5b8c&quot;,&quot;71e8cf0c-586b-405e-9461-96293d59b03e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:482,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;201bc37c-958a-4437-986f-a83494a5efa7&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;customers POST 400 should fail with invalid body&quot;,&quot;duration&quot;:293,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/customers&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3145d45-587b-40b1-90d7-99c7a40122a7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers POST 400 should satisfy api spec&quot;,&quot;duration&quot;:31,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a412572-dc73-458e-88c2-a09f21b19ab0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c3145d45-587b-40b1-90d7-99c7a40122a7&quot;,&quot;8a412572-dc73-458e-88c2-a09f21b19ab0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:324,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;9c6d2c37-1544-4857-a5ae-30bb71d7dfd5&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer in \&quot;201\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 \&quot;after all\&quot; hook: delete customer in \&quot;201\&quot;&quot;,&quot;duration&quot;:386,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e15d7916-c62f-4910-b042-879030392778&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a customer&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 should create a customer&quot;,&quot;duration&quot;:774,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = response.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.mjs:51:7)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;e8866a24-fa3f-4560-b67e-6690d6b63d91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.mjs:55:14)\n    at processImmediate (node:internal/timers:464:21)&quot;},&quot;uuid&quot;:&quot;416e0c8e-6036-4d08-adac-a913463065e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually have created a customer&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 should actually have created a customer&quot;,&quot;duration&quot;:376,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.get(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.mjs:60:7)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;19daeeca-27ee-4272-8186-9752ec2bee87&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;e8866a24-fa3f-4560-b67e-6690d6b63d91&quot;,&quot;416e0c8e-6036-4d08-adac-a913463065e0&quot;,&quot;19daeeca-27ee-4272-8186-9752ec2bee87&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1150,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c44785b7-2801-4a56-bf52-130b4a929f4b&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers GET \&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2091,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const response = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = response.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.mjs:76:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;60b2715d-296d-4d1e-b3ac-a5b4a17188bb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers GET \&quot;after all\&quot; hook: delete customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:450,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ba4b375-9eaa-4a80-bb50-458e25173417&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0f2aee7b-6849-4f29-9043-2fb044a834ee&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get a customer without auth&quot;,&quot;fullTitle&quot;:&quot;customers GET 401 should fail to get a customer without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/customers/${customerLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;879224a2-a635-4a81-9d29-93488a2866c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1b748e8-3295-4f33-8327-323569a26726&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;879224a2-a635-4a81-9d29-93488a2866c3&quot;,&quot;b1b748e8-3295-4f33-8327-323569a26726&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;81e759d6-6d97-41ee-8d45-766f133ce9c5&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get a missing customer&quot;,&quot;fullTitle&quot;:&quot;customers GET 404 should fail to get a missing customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/customers/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc0bb2cc-96b8-4b49-8a3b-2e88dfb79f90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61bc615e-b3ec-4965-b911-988b4ab32414&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;dc0bb2cc-96b8-4b49-8a3b-2e88dfb79f90&quot;,&quot;61bc615e-b3ec-4965-b911-988b4ab32414&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;36a4cdd1-004d-4536-927e-aaa9ab0b7050&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get a customer&quot;,&quot;fullTitle&quot;:&quot;customers GET 200 should get a customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54d5a0f8-dec9-4271-822d-64839fc070f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1dccb76d-d9f6-463c-bce2-e6442d983112&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;54d5a0f8-dec9-4271-822d-64839fc070f8&quot;,&quot;1dccb76d-d9f6-463c-bce2-e6442d983112&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f82cfa17-2710-422e-9b9a-e9cd13a6a8dd&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers PATCH \&quot;before all\&quot; hook: create customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1776,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const response = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = response.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.mjs:126:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;8b1e8d61-f65d-4e50-92d9-28c70fe93a39&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers PATCH \&quot;after all\&quot; hook: delete customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;id&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;id&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.mjs:185:53)\n    at processImmediate (node:internal/timers:464:21)&quot;},&quot;uuid&quot;:&quot;73b25e66-5180-45c5-a33f-95649c4c21cb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e8a8709c-2761-42d4-ba3a-3a5a715039d8&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update a customer without auth&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 401 should fail to update a customer without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/customers/${customerLocal.id}`)\n\t.send(customer)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;854bee03-c692-4642-9852-b72f5776627c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64723a0a-ce3f-4fb7-a319-234688c8506c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;854bee03-c692-4642-9852-b72f5776627c&quot;,&quot;64723a0a-ce3f-4fb7-a319-234688c8506c&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;9be29b15-667f-4382-8e97-145c5e96c95e&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update a customer with invalid body&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 400 should fail to update a customer with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/customers/${customerLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;115a5dc4-9551-47fe-9e9e-ebbe6dead2f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ae0784c-1080-45bf-99a5-f8fa64d6d836&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;115a5dc4-9551-47fe-9e9e-ebbe6dead2f6&quot;,&quot;4ae0784c-1080-45bf-99a5-f8fa64d6d836&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;dfdd1946-c6e8-4620-9e74-8210184a6ee3&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update a missing customer&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 404 should fail to update a missing customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/customers/${missingId}`)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3403c6d-f0fe-4baf-b6c3-259aa9331f8f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;672376eb-a661-4e63-8056-f2514458f2e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d3403c6d-f0fe-4baf-b6c3-259aa9331f8f&quot;,&quot;672376eb-a661-4e63-8056-f2514458f2e5&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;34c7b438-fab9-421b-9975-7e480dfff8ad&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a customer&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 200 should update a customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/customers/${customerLocal.id}`)\n\t.send({ last_name: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be6464a6-6c4f-499a-ae0f-dec74449f496&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;954fb3dd-0672-4ae8-bf90-af8dae21a9c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update customer&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 200 should actually update customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.last_name).to.equal(&#x27;updated&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdcfbae3-570e-4c9a-8446-c02a84efecc4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;be6464a6-6c4f-499a-ae0f-dec74449f496&quot;,&quot;954fb3dd-0672-4ae8-bf90-af8dae21a9c8&quot;,&quot;bdcfbae3-570e-4c9a-8446-c02a84efecc4&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;48a28d10-01a2-4b47-ae8b-d585fa3d1cfc&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers DELETE \&quot;before all\&quot; hook: create customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:2325,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const response = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = response.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.mjs:196:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;09f5194e-5033-4343-bce0-e5bf1bc9d974&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer (should 404) in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers DELETE \&quot;after all\&quot; hook: delete customer (should 404) in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:443,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.mjs:235:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:402:35)\n    at endReadableNT (node:internal/streams/readable:1343:12)&quot;},&quot;uuid&quot;:&quot;542b28c8-91d5-4a93-9ede-7c0c8ea96a48&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b7cfcd35-95a5-42fb-bf87-a1c27c918f8e&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a customer without auth&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 401 should fail to delete a customer without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/customers/${customerLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b795f1f-a06e-4d46-9b34-71ed3edd95e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7af43e0f-99fe-4126-9459-34d1c1cba0c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;3b795f1f-a06e-4d46-9b34-71ed3edd95e9&quot;,&quot;7af43e0f-99fe-4126-9459-34d1c1cba0c8&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;9890c6e3-7692-41b6-a7ff-20ad90b52342&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing customer&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 404 should fail to delete a missing customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/customers/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b7b35b7-7fb3-437c-8157-a06f5a2e511d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d98e287e-57be-4d09-a32c-e037386e7781&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9b7b35b7-7fb3-437c-8157-a06f5a2e511d&quot;,&quot;d98e287e-57be-4d09-a32c-e037386e7781&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;97bdcd6a-82b2-49ec-a81a-a20b5e5732f5&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a customer&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 200 should delete a customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff55084a-5725-45bb-912c-363f7b9497e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c70791d6-a0cd-421a-9f14-822270b0d8a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ff55084a-5725-45bb-912c-363f7b9497e8&quot;,&quot;c70791d6-a0cd-421a-9f14-822270b0d8a2&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;aa090a35-2226-4723-a0cb-76f261a77721&quot;,&quot;title&quot;:&quot;orders&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;72037fc6-ec7e-4c12-b442-2f90ab363e07&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders POST \&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1013,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/orders.test.mjs:28:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;0e58f81a-e700-42ab-8d79-762daf39d044&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders POST \&quot;after all\&quot; hook: delete order, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:868,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffb78a85-a470-480b-b07c-eae217c04501&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;cfbc0921-bf97-4e2f-a3be-1515b7ae7219&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders POST 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b7b4b69-8b9f-4f99-9987-632a67c2f219&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders POST 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27ba6c23-1e94-42e1-bdbe-3dcad82845ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7b7b4b69-8b9f-4f99-9987-632a67c2f219&quot;,&quot;27ba6c23-1e94-42e1-bdbe-3dcad82845ce&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;49516a12-8c4e-44ec-8895-41ed8d7a5a6c&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;orders POST 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/orders&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42e47dd7-d887-467b-a142-55aaf57a0c3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08a356f1-a3eb-42ac-a982-4c9a4bc791cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;42e47dd7-d887-467b-a142-55aaf57a0c3b&quot;,&quot;08a356f1-a3eb-42ac-a982-4c9a4bc791cc&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;908b540e-1499-461f-8751-33dcf9406bdd&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an order&quot;,&quot;fullTitle&quot;:&quot;orders POST 201 should create an order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45b51f59-6bed-4097-a2c9-86685f910fe6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2fddc68b-505c-4ccd-b0aa-90e1b9c94f08&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;45b51f59-6bed-4097-a2c9-86685f910fe6&quot;,&quot;2fddc68b-505c-4ccd-b0aa-90e1b9c94f08&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;2d62819a-628f-42d9-9ee0-ae277c09eb98&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders GET \&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1998,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/orders.test.mjs:93:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;3d71373b-35a7-46d9-91d2-23820db63847&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders GET \&quot;after all\&quot; hook: delete order, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1310,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8e1bfaf-3c17-4f80-981c-a4dd799f262b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d3e828bf-83fa-4431-ba4a-86c1a5e25647&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/orders/${orderLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47365e84-e39d-4610-8040-32da90d86afb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3795cd6c-169c-4c17-93dc-5957593cf420&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;47365e84-e39d-4610-8040-32da90d86afb&quot;,&quot;3795cd6c-169c-4c17-93dc-5957593cf420&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;a0a70b30-cfa6-4363-ae13-2cd1b8759cb8&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing order&quot;,&quot;fullTitle&quot;:&quot;orders GET 404 should fail to get missing order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/orders/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f587a78d-1740-4adc-98cc-254fafaee4a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79b2b146-62b8-4247-b3a1-63471f2b116d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;f587a78d-1740-4adc-98cc-254fafaee4a0&quot;,&quot;79b2b146-62b8-4247-b3a1-63471f2b116d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e6fdbff4-fa1d-4b2d-9dd8-696b27f54c63&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an order&quot;,&quot;fullTitle&quot;:&quot;orders GET 200 should get an order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b51c75c-b460-42de-97e2-2825c91f439a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebaace36-cca1-4472-87aa-aa574975586f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6b51c75c-b460-42de-97e2-2825c91f439a&quot;,&quot;ebaace36-cca1-4472-87aa-aa574975586f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;364c8014-4ba7-4e5e-9adc-482a9faedc82&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders PATCH \&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1903,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/orders.test.mjs:163:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;8afd8252-2f18-4d41-bb5a-c0a25132da19&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders PATCH \&quot;after all\&quot; hook: delete order, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1681,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b350f9bd-9cb2-4e1e-83bb-095700aab8f8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9fc63d76-68d7-4251-a369-f7116958e4a4&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/orders/${orderLocal.id}`)\n\t.send(orderLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b01509d3-110e-4ab1-bcd8-ae9bf28f68c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a7de59b-1268-4d1f-ac15-beb5b73fb4a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b01509d3-110e-4ab1-bcd8-ae9bf28f68c5&quot;,&quot;0a7de59b-1268-4d1f-ac15-beb5b73fb4a6&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;411edd3a-3008-4ee0-a1a5-d7108bf181ca&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/orders/${orderLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0896db00-b853-47bf-b71c-1a85391797e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;73e3a4b0-b431-4645-aa57-567218b6ad7e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;0896db00-b853-47bf-b71c-1a85391797e0&quot;,&quot;73e3a4b0-b431-4645-aa57-567218b6ad7e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e50fa89f-3f94-4848-8243-c5169949d898&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 404 should fail to update missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/orders/${missingId}`)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29734c5d-f426-426b-bdcc-f5d6bff56cd0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7b284d8-6a7f-4e44-ba40-54651460c647&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;29734c5d-f426-426b-bdcc-f5d6bff56cd0&quot;,&quot;e7b284d8-6a7f-4e44-ba40-54651460c647&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;27551e0a-376e-469b-8a7b-26726aa8c871&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an order&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 200 should update an order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/orders/${orderLocal.id}`)\n\t.send({ status_code: &#x27;200&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f8b0fed-9ee9-4471-9805-6fe58482b384&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46cac33a-cce6-408f-9dd3-3b1fd762d199&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update order&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 200 should actually update order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.status_code).to.equal(&#x27;200&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec9d6425-b15e-4751-9fc6-3a55a164f34c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;8f8b0fed-9ee9-4471-9805-6fe58482b384&quot;,&quot;46cac33a-cce6-408f-9dd3-3b1fd762d199&quot;,&quot;ec9d6425-b15e-4751-9fc6-3a55a164f34c&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;522f5e9d-e1a1-42d1-9ece-ebd246e3ade5&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders DELETE \&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1826,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/orders.test.mjs:253:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;9348f52a-9191-49aa-b44e-db21968648d8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders DELETE \&quot;after all\&quot; hook: delete order, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:476,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/orders.test.mjs:300:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:402:35)\n    at endReadableNT (node:internal/streams/readable:1343:12)&quot;},&quot;uuid&quot;:&quot;e4c9b8de-7d4a-4547-92ad-043663fbf34e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b7088528-9dc3-41b5-8f6e-8decbde50df9&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/orders/${orderLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e857e58-7b1d-4b49-aff1-fb13c60fba4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;394d45c6-9117-4a3d-89cf-3932aefe3b37&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;1e857e58-7b1d-4b49-aff1-fb13c60fba4d&quot;,&quot;394d45c6-9117-4a3d-89cf-3932aefe3b37&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;76cac7e9-6529-40c9-9a02-6f987ffb9767&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing order&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 404 should fail to delete a missing order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/orders/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ee42bf2-850d-424d-b7a9-98ed4a211747&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4ff2d31-f192-4f4d-99b3-2ffb4471c5b3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9ee42bf2-850d-424d-b7a9-98ed4a211747&quot;,&quot;d4ff2d31-f192-4f4d-99b3-2ffb4471c5b3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c8db3ac5-07c1-4c53-b983-ac6c0753ce2c&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an order&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 200 should delete an order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00f5fe43-6893-48a8-bedb-1514fea67e30&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be5cf011-ed03-4ef7-af23-bbbb69b3f9f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;00f5fe43-6893-48a8-bedb-1514fea67e30&quot;,&quot;be5cf011-ed03-4ef7-af23-bbbb69b3f9f3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;ec13c6f6-2a0e-472f-8347-8dc77ae86e91&quot;,&quot;title&quot;:&quot;sales_modifiers&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b83c36f2-5136-4de6-859f-d5641ebc44ec&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST \&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1074,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\nsales_modifierLocal.order_id = orderLocal.id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sales_modifiers.test.mjs:30:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;6f6237d2-7fbe-4247-a137-b7ebfb055d12&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST \&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:899,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;271ce95f-32bc-4ac8-9232-ef472c1d198d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;335a4e72-c993-4132-9140-82778a4818d0&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d6a0391-f542-4dcd-950e-c9d60df7b85e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35432910-caa7-4446-b809-d5499321bb4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;3d6a0391-f542-4dcd-950e-c9d60df7b85e&quot;,&quot;35432910-caa7-4446-b809-d5499321bb4d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0a6b15c2-fbbe-4633-a9e7-f69e91b9a904&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2f7822d-64e8-44b0-b7e6-1baf10cf12db&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0508ddbc-438c-4e22-838c-8aef3711bb17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d2f7822d-64e8-44b0-b7e6-1baf10cf12db&quot;,&quot;0508ddbc-438c-4e22-838c-8aef3711bb17&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;6cd525f8-b3cb-4728-b90c-8b2d6834c29b&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 \&quot;after all\&quot; hook: delete sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${response.body.id}`)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21301acf-09e0-419b-8a39-6c23cae5359f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 should create a sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3010aa2-582e-413d-9d11-f6e2d7355fd2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea2aff1c-39c9-4b01-829d-0baea9b7b5e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the order&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 should be visible on the order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const orderResponse = await request.get(`/orders/${orderLocal.id}`)\n\t.query({ sales_modifiers: &#x27;true&#x27; })\n\t.auth(username, password)\n\t.expect(200)\nexpect(orderResponse.body.sales_modifiers.length).to.equal(1)\nexpect(orderResponse.body.sales_modifiers[0].id).to.equal(response.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd9aa12f-5f11-478b-b8f4-081a8c71bd94&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c3010aa2-582e-413d-9d11-f6e2d7355fd2&quot;,&quot;ea2aff1c-39c9-4b01-829d-0baea9b7b5e3&quot;,&quot;dd9aa12f-5f11-478b-b8f4-081a8c71bd94&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e6c39abd-3648-47e1-8de0-e74e4999ca3b&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET \&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2118,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\norderLocal = orderResponse.body\nsales_modifierLocal.order_id = orderLocal.id\nconst sales_modifierResponse = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(201)\nsales_modifierLocal = sales_modifierResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sales_modifiers.test.mjs:116:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;0c4abf6e-61e6-407f-b263-7a56b28c385c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete sales_modifier, job_site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET \&quot;after all\&quot; hook: delete sales_modifier, job_site, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:432,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sales_modifiers.test.mjs:174:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;2cc65d02-309c-413c-af70-f178dfdf2e3c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9a497f52-c4ab-4267-918e-9b03cb52a06c&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e249bb5d-089b-4402-923f-b33ea6fad014&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63b9175b-2c67-4dc5-a6cd-6c7b7ada2180&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e249bb5d-089b-4402-923f-b33ea6fad014&quot;,&quot;63b9175b-2c67-4dc5-a6cd-6c7b7ada2180&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;609b2822-62e5-4bee-911a-869e8f80a9d0&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 404 should fail to get missing sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/sales_modifiers/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7447353d-18f3-4bbd-9478-e522e9e4e3fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd3b8a3c-3383-4abc-ae0d-632803770675&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7447353d-18f3-4bbd-9478-e522e9e4e3fe&quot;,&quot;fd3b8a3c-3383-4abc-ae0d-632803770675&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;12520ae1-4a8f-481e-95ae-3e0226035085&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 200 should get an sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3eae3f54-2149-4fe0-a322-8ab63ff54687&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f88f8b52-a12f-48f7-a646-13ae94a4bd2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;3eae3f54-2149-4fe0-a322-8ab63ff54687&quot;,&quot;f88f8b52-a12f-48f7-a646-13ae94a4bd2e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;93d78907-6f40-4f03-a224-eddbbda1855d&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH \&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1476,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\nsales_modifierLocal.order_id = orderLocal.id\nconst sales_modifierResponse = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(201)\nsales_modifierLocal = sales_modifierResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sales_modifiers.test.mjs:199:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;debe4f3f-1a71-4a57-a4a3-b41ab7604538&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH \&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:503,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sales_modifiers.test.mjs:277:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;e2ef2afd-9e67-43cf-b097-425ddc11f1bb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ebcfa2ae-7887-40e6-a270-0dcdf634d696&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.send(sales_modifierLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36b56cb6-9547-4f9e-8cb1-1c2c292903dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38e472ee-9c5b-480f-b3b1-5ec33f442066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;36b56cb6-9547-4f9e-8cb1-1c2c292903dd&quot;,&quot;38e472ee-9c5b-480f-b3b1-5ec33f442066&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;1cbca029-735a-410f-bf98-4079c9422fdb&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4305e7cc-a15f-40f0-a039-ee463dcb83d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f26c94d-bb09-4ad9-9fc8-6259b93e675e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;4305e7cc-a15f-40f0-a039-ee463dcb83d7&quot;,&quot;9f26c94d-bb09-4ad9-9fc8-6259b93e675e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;855207dd-42ed-4d4e-86ef-8017d4396784&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 404 should fail to update missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/sales_modifiers/${missingId}`)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a788324-80f4-436a-ba85-5f5bb994b31f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49d097cb-e7d0-47d4-9fe9-d7d325347f43&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;5a788324-80f4-436a-ba85-5f5bb994b31f&quot;,&quot;49d097cb-e7d0-47d4-9fe9-d7d325347f43&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;b27c2d62-c54a-44ba-a8fa-96d940044ea9&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 200 should update an sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.send({ value: 500 })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2a3e99a-6992-4902-a250-400eb01e96c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eac7a7c3-89ed-4d66-8ee3-03a5f5259583&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 200 should actually update sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.value).to.equal(500)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50e509cd-8455-4986-b155-8de6b7e3b331&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e2a3e99a-6992-4902-a250-400eb01e96c0&quot;,&quot;eac7a7c3-89ed-4d66-8ee3-03a5f5259583&quot;,&quot;50e509cd-8455-4986-b155-8de6b7e3b331&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;947dd14e-6fa5-4448-b99f-4eaa49e196b9&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE \&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:2505,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\nsales_modifierLocal.order_id = orderLocal.id\nconst sales_modifierResponse = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(201)\nsales_modifierLocal = sales_modifierResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sales_modifiers.test.mjs:302:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;bd995aa1-dee0-4259-b2a5-880c23dce695&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE \&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:2121,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2bfc7a42-805c-4620-99c1-7f9c7ce2aeb5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;dddc191e-9307-4b29-8dbe-490e76fe0860&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;944fea5c-664d-41ad-ac59-40b5cbf71da3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ef893f0-2d17-4d22-a251-f18877c9367d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;944fea5c-664d-41ad-ac59-40b5cbf71da3&quot;,&quot;6ef893f0-2d17-4d22-a251-f18877c9367d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;692f4e14-229e-4372-a946-8631f71ab0ea&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete missing order body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 404 should fail to delete missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/sales_modifiers/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44bac8b9-da3c-48c5-898e-a58d4cbdd3af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d63d051a-d19a-484f-87d7-01a25e358f41&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;44bac8b9-da3c-48c5-898e-a58d4cbdd3af&quot;,&quot;d63d051a-d19a-484f-87d7-01a25e358f41&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;ca9aeefa-c8ef-4072-b991-26ed4c5d975b&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 200 should delete an sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2749e123-886f-4e53-bef6-2ae8aeea8c28&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c90fee7-0e2e-4bde-9b73-8dfdb42fa896&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2749e123-886f-4e53-bef6-2ae8aeea8c28&quot;,&quot;1c90fee7-0e2e-4bde-9b73-8dfdb42fa896&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;cd9d03be-6fea-4d7a-af0a-4679d3d75606&quot;,&quot;title&quot;:&quot;addresses&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;342fb81d-3913-405a-a57f-eb0dd94fb2a2&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses POST \&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:908,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const response = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\naddressLocal.customer_id = response.body.id&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15ab1416-19a7-4f36-bcb2-87fef0973131&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses POST \&quot;after all\&quot; hook: delete address, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:886,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27a0c880-a1aa-490d-9ebb-04fc019b28dd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e0e8a580-1d6b-49b6-8ec8-b102f7fd33ab&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses POST 401 should fail without auth&quot;,&quot;duration&quot;:294,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d9a02b9-da78-44fa-aa04-c78847bf635c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses POST 401 should satisfy api spec&quot;,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f01c9f29-dd9e-4ef6-a9b3-f57ea08ca413&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2d9a02b9-da78-44fa-aa04-c78847bf635c&quot;,&quot;f01c9f29-dd9e-4ef6-a9b3-f57ea08ca413&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:321,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;bec5182a-3d9a-4907-bf4f-3143366c8b61&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;addresses POST 400 should fail with invalid body&quot;,&quot;duration&quot;:299,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/addresses&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\nexpect(response.status).to.equal(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a52baf48-32a8-4b49-9bfa-bb8fa5ca18ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses POST 400 should satisfy api spec&quot;,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15ad5d33-fb25-4c6b-b546-ce7b5076cc62&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a52baf48-32a8-4b49-9bfa-bb8fa5ca18ba&quot;,&quot;15ad5d33-fb25-4c6b-b546-ce7b5076cc62&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:323,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;daa15f2a-3dd9-4278-a863-c13199a41c0f&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an address&quot;,&quot;fullTitle&quot;:&quot;addresses POST 201 should create an address&quot;,&quot;duration&quot;:373,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal = response.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.mjs:57:7)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;e92e5186-91dd-4f67-9e62-967af1776068&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.mjs:61:14)\n    at processImmediate (node:internal/timers:464:21)&quot;},&quot;uuid&quot;:&quot;5f81d9a9-4021-419f-b9c8-c7c86ddc47c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually have created an address&quot;,&quot;fullTitle&quot;:&quot;addresses POST 201 should actually have created an address&quot;,&quot;duration&quot;:1,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.get(`/addresses/${response.body.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;body&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;body&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.mjs:64:46)\n    at processImmediate (node:internal/timers:464:21)&quot;},&quot;uuid&quot;:&quot;d661dfd7-0b93-4688-910d-4bc28362b6d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;e92e5186-91dd-4f67-9e62-967af1776068&quot;,&quot;5f81d9a9-4021-419f-b9c8-c7c86ddc47c1&quot;,&quot;d661dfd7-0b93-4688-910d-4bc28362b6d3&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:374,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;78be9574-4943-4427-81e6-b4039f5f2291&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses GET \&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2091,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\naddressLocal.customer_id = customerResponse.body.id\nconst addressResponse = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal = addressResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.mjs:87:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;4def131e-2e90-4ef0-936c-49856a32f533&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses GET \&quot;after all\&quot; hook: delete address, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:814,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6812c7f-a3a4-4de1-95f6-60f69ca18762&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e8efdb61-eec2-467a-abac-414a23e16e79&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/addresses/${addressLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a22b5cda-3f40-4d54-878e-2fa77d15280a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f15b2fb4-cf7f-4f00-89fb-2a8c966d4fd4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;a22b5cda-3f40-4d54-878e-2fa77d15280a&quot;,&quot;f15b2fb4-cf7f-4f00-89fb-2a8c966d4fd4&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;9ea2c544-d9e8-4ddc-8f5b-6fda6d3411e9&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing address&quot;,&quot;fullTitle&quot;:&quot;addresses GET 404 should fail to get missing address&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/addresses/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b8b874b-9672-46a6-9360-83a4121786e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20f53d72-3534-4ac5-87c7-edec06fa68aa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;3b8b874b-9672-46a6-9360-83a4121786e0&quot;,&quot;20f53d72-3534-4ac5-87c7-edec06fa68aa&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;95d99f91-70f1-42d2-bfd9-db778fe92634&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get a address&quot;,&quot;fullTitle&quot;:&quot;addresses GET 200 should get a address&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f268f04-39f6-4b09-8d30-743620c86477&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4837685-493d-4fa0-a756-086614eb64f4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7f268f04-39f6-4b09-8d30-743620c86477&quot;,&quot;e4837685-493d-4fa0-a756-086614eb64f4&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;ab482bc6-1623-43e7-8e1f-8a76e251475d&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, address in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH \&quot;before all\&quot; hook: create customer, address in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:2192,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\naddressLocal.customer_id = customerResponse.body.id\nconst addressResponse = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal = addressResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.mjs:150:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;b2e1d687-acc1-48c0-99b8-6e4c6cc779b8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH \&quot;after all\&quot; hook: delete address, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1027,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43184e3d-047f-4b56-89a8-5cf35bbe73e4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3f898885-11ad-46d9-bdde-43979b5254c8&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/addresses/${addressLocal.id}`)\n\t.send(addressLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;174c6a19-884f-4c26-8ee2-203afb6d21bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ea5518f-30e8-4b2b-805d-ef7a9ed4fc86&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;174c6a19-884f-4c26-8ee2-203afb6d21bb&quot;,&quot;0ea5518f-30e8-4b2b-805d-ef7a9ed4fc86&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;4aa9026d-efef-4c5f-95f1-2f1c6abb525e&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/addresses/${addressLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;520c4bec-3cdb-4c6f-a90e-b320f7bac548&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf3cc6df-644a-45a6-8ef1-841974488513&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;520c4bec-3cdb-4c6f-a90e-b320f7bac548&quot;,&quot;cf3cc6df-644a-45a6-8ef1-841974488513&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;64f7acd3-1b8a-452e-b63c-b708d664f29f&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing address body&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 404 should fail to update missing address body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/addresses/${missingId}`)\n\t.send({ address: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4a38b36-1778-4582-a9db-a2fc5a0e00a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64dfdd9b-52d3-4a26-b8a9-b4f81fed2120&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e4a38b36-1778-4582-a9db-a2fc5a0e00a2&quot;,&quot;64dfdd9b-52d3-4a26-b8a9-b4f81fed2120&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;55305e38-4cab-4141-b724-3730f8d58193&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an address&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 200 should update an address&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/addresses/${addressLocal.id}`)\n\t.send({ address: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78072e5b-321d-457f-84e4-24581c82facc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1c705a2-2020-434e-a191-b25cb077f766&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually have updated address&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 200 should actually have updated address&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.address).to.equal(&#x27;updated&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c005a1a8-c9f0-4d41-8d43-a0d512222a0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;78072e5b-321d-457f-84e4-24581c82facc&quot;,&quot;f1c705a2-2020-434e-a191-b25cb077f766&quot;,&quot;c005a1a8-c9f0-4d41-8d43-a0d512222a0b&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;87749492-1eaa-4987-a1ce-362933cc0115&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, address in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE \&quot;before all\&quot; hook: create customer, job site, address in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:2068,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal.customer_id = customerResponse.body.id\nconst addressResponse = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal = addressResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.mjs:234:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;da8a235d-7f31-4cee-859b-85e359fe6123&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE \&quot;after all\&quot; hook: delete address, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:399,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.mjs:280:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:402:35)\n    at endReadableNT (node:internal/streams/readable:1343:12)&quot;},&quot;uuid&quot;:&quot;0234863b-4088-40c0-b2ca-a59a7f31ba63&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fe8d8cdc-2027-45de-b6b6-92dc0d890585&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/addresses/${addressLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16b524bc-404d-4783-b4b4-7f259cbb31a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;101def55-240b-4a20-adf4-71d85a75f5c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;16b524bc-404d-4783-b4b4-7f259cbb31a1&quot;,&quot;101def55-240b-4a20-adf4-71d85a75f5c8&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;4b3d6ba4-eac0-4347-ac3f-1680fa3b5626&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing address&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 404 should fail to delete a missing address&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/addresses/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a28a4496-dd5a-4972-93c6-6fed49bda68d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6511f529-cdab-4bce-9512-684a0b03cbfb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;a28a4496-dd5a-4972-93c6-6fed49bda68d&quot;,&quot;6511f529-cdab-4bce-9512-684a0b03cbfb&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c15aeac5-4cfd-4cf1-86b6-446472497bc4&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an address&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 200 should delete an address&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08e7a84b-319b-4763-84bf-c7b6785a3f9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1d495c9-7f0a-45f0-8f9c-8066869f6865&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;08e7a84b-319b-4763-84bf-c7b6785a3f9b&quot;,&quot;e1d495c9-7f0a-45f0-8f9c-8066869f6865&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;62714f39-49e6-46e7-b501-b925f33be264&quot;,&quot;title&quot;:&quot;items&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3af74b71-402f-4e18-bc47-e8f21acdf0c0&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;items POST \&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1081,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/items.test.mjs:29:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;7f0fa29a-81cc-490a-a0e7-d2f3bce37f63&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, jobsite, estimate, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;items POST \&quot;after all\&quot; hook: delete order, jobsite, estimate, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1343,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/estimates/${orderLocal.estimate_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ef39565-e0cc-45e7-a7ef-492bd229bf75&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1c1a1501-c747-4732-aef5-7fb4c35ce97d&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items POST 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/items&#x27;)\n\t.send(item)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;314818e5-fd83-4df2-9d24-2cb1fe14ef7b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1d4c14d-bcfb-4d24-90d8-cf0d487e00eb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;314818e5-fd83-4df2-9d24-2cb1fe14ef7b&quot;,&quot;f1d4c14d-bcfb-4d24-90d8-cf0d487e00eb&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;9305cca5-55ab-4b24-a9ac-8a2b2339fa6b&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;items POST 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/items&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b055c90-8dd1-42ee-a245-26eed541993d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;266762ad-4bcd-41e7-98d9-8d1f6a8eb600&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7b055c90-8dd1-42ee-a245-26eed541993d&quot;,&quot;266762ad-4bcd-41e7-98d9-8d1f6a8eb600&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;99804f9d-d7d7-49c8-9bf5-916999fe0083&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0feb0d30-107f-4df3-bef9-468eb2dd2be0&quot;,&quot;title&quot;:&quot;order&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order \&quot;after all\&quot; hook: delete item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemResponse.body.id}`)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;280a5417-b4d8-4681-bc1f-0076f360ca8b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order should create an item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9430b51-8fcc-402b-8451-e072fc17128a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a07bcb7e-89fe-4f91-bdda-d2ea22e58446&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the order&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order should be visible on the order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const orderResponse = await request.get(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(orderResponse.body.items.length).to.equal(1)\nexpect(orderResponse.body.items[0].id).to.equal(itemResponse.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d705c2c6-0d8c-4fed-8b0b-3e0921fdfbbf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d9430b51-8fcc-402b-8451-e072fc17128a&quot;,&quot;a07bcb7e-89fe-4f91-bdda-d2ea22e58446&quot;,&quot;d705c2c6-0d8c-4fed-8b0b-3e0921fdfbbf&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;222d64b4-d620-4b0e-b9cc-95697322326f&quot;,&quot;title&quot;:&quot;estimate&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate \&quot;after all\&quot; hook: delete item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemResponse.body.id}`)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f38fe8f-53c0-478f-8260-caa976daa004&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate should create an item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a011d87-c79c-4f8c-94cb-a1ebd8606f52&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;713b4a27-705b-49fb-80c2-0cffb6d6410a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the estimate&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate should be visible on the estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const estimateResponse = await request.get(`/estimates/${orderLocal.estimate_id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(estimateResponse.body.items.length).to.equal(1)\nexpect(estimateResponse.body.items[0].id).to.equal(itemResponse.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62d4aebd-f158-481c-baba-950b61bd135e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7a011d87-c79c-4f8c-94cb-a1ebd8606f52&quot;,&quot;713b4a27-705b-49fb-80c2-0cffb6d6410a&quot;,&quot;62d4aebd-f158-481c-baba-950b61bd135e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;4237d689-c3a8-4ad5-9e4b-59699e56b0ac&quot;,&quot;title&quot;:&quot;site&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 site \&quot;after all\&quot; hook: delete item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemResponse.body.id}`)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8230464a-8f00-49fb-bee7-8230517375aa&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 site should create an item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;abaff8d2-90a9-4038-9d9e-e5498f3bad0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 201 site should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98d056b8-11cf-4cac-9482-7e966ccbaf90&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the site&quot;,&quot;fullTitle&quot;:&quot;items POST 201 site should be visible on the site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const siteResponse = await request.get(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(siteResponse.body.items.length).to.equal(1)\nexpect(siteResponse.body.items[0].id).to.equal(itemResponse.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f8b0a46-c1a2-4cd5-8e35-edbe6804a124&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;abaff8d2-90a9-4038-9d9e-e5498f3bad0f&quot;,&quot;98d056b8-11cf-4cac-9482-7e966ccbaf90&quot;,&quot;0f8b0a46-c1a2-4cd5-8e35-edbe6804a124&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;56dca263-88ca-4a82-873f-6a199e616938&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;items GET \&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2277,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;customerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\nitemLocal.site_id = customerResponse.body.site_id\nconst itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)\nitemLocal = itemResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/items.test.mjs:165:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;d9c33ff8-da2d-4310-893e-f1ca9da2e979&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item, job_site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;items GET \&quot;after all\&quot; hook: delete item, job_site, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:336,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${itemLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/items.test.mjs:214:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;fcc1c1fe-1bc1-462d-b817-b5dd3349b016&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ebce3627-96c2-420b-a100-5a1abace39c1&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/items/${itemLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b2eaf75-08ed-49d4-9d80-b7d6837188e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e29c4784-e2bb-48af-9cb4-575e96eb2cd9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9b2eaf75-08ed-49d4-9d80-b7d6837188e3&quot;,&quot;e29c4784-e2bb-48af-9cb4-575e96eb2cd9&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e64581bd-e67d-4828-9f0f-274919833231&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing item&quot;,&quot;fullTitle&quot;:&quot;items GET 404 should fail to get missing item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/items/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d311c5b-de67-40f1-8cb3-7af3688ee5d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c627eca3-f781-49ba-ab1c-c0616c34e0ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6d311c5b-de67-40f1-8cb3-7af3688ee5d7&quot;,&quot;c627eca3-f781-49ba-ab1c-c0616c34e0ef&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;77420d1e-2b86-4019-912e-fef80f6b0018&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an item&quot;,&quot;fullTitle&quot;:&quot;items GET 200 should get an item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c2d0269-9e19-4484-9fd4-ba6e9bbd94ee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a34d1fc-73d0-4843-893a-b4a8dfdc6313&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;8c2d0269-9e19-4484-9fd4-ba6e9bbd94ee&quot;,&quot;6a34d1fc-73d0-4843-893a-b4a8dfdc6313&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;6655bd4e-974a-428a-b77a-b304aa56d3fc&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;items PATCH \&quot;before all\&quot; hook: create customer, job site in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:2263,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;customerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\nitemLocal.site_id = customerResponse.body.site_id\ncustomerLocal = customerResponse.body\nconst itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)\nitemLocal = itemResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/items.test.mjs:236:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;87c756d6-9e9d-4062-b5f8-0d712bb93f72&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item, estimate, site, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;items PATCH \&quot;after all\&quot; hook: delete item, estimate, site, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:584,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/estimates/${customerLocal.estimate_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${customerLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/items.test.mjs:306:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;324cdbcf-e04b-46c1-ae91-505fde2771fc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ad806c03-3de6-4eaa-910f-7b18cf90b2c8&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/items/${itemLocal.id}`)\n\t.send(itemLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9501d592-1625-4a92-8ca5-35d6a4f8c970&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96557b58-03b3-44de-a297-b98e4b2dbf68&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9501d592-1625-4a92-8ca5-35d6a4f8c970&quot;,&quot;96557b58-03b3-44de-a297-b98e4b2dbf68&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d2fab11b-624a-424a-9376-6ff268c7f953&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;items PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/items/${itemLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35d94f1d-2938-494c-88f4-5ff4be15dd26&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bd79363-8169-424d-94d2-239325ca887f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;35d94f1d-2938-494c-88f4-5ff4be15dd26&quot;,&quot;8bd79363-8169-424d-94d2-239325ca887f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;1dfd8089-6bb6-4d96-8f34-9d98ae5d5c3b&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;items PATCH 404 should fail to update missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/items/${missingId}`)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6bc1c32a-399c-4ae4-aa4c-1be4fc7f1b8b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;793d8fa8-5b93-41c8-b0a7-34e10e95b5e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6bc1c32a-399c-4ae4-aa4c-1be4fc7f1b8b&quot;,&quot;793d8fa8-5b93-41c8-b0a7-34e10e95b5e8&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f6cb3358-d874-4d0b-a93e-84b65a0fea5f&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an item&quot;,&quot;fullTitle&quot;:&quot;items PATCH 200 should update an item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/items/${itemLocal.id}`)\n\t.send({ estimate_id: customerLocal.estimate_id, site_id: &#x27;&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0174b90a-7012-491e-baf8-d4900bd1c488&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dac702ef-818d-4e71-abf5-5564d1e6ccee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update item&quot;,&quot;fullTitle&quot;:&quot;items PATCH 200 should actually update item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.estimate_id).to.equal(customerLocal.estimate_id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d65811c-5c40-4198-9656-89102273b7b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;0174b90a-7012-491e-baf8-d4900bd1c488&quot;,&quot;dac702ef-818d-4e71-abf5-5564d1e6ccee&quot;,&quot;2d65811c-5c40-4198-9656-89102273b7b0&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c2ad3c63-af25-4049-aa86-ce0ca9a576bd&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;items DELETE \&quot;before all\&quot; hook: create customer, job site in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1894,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;customerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\nitemLocal.site_id = customerResponse.body.site_id\ncustomerLocal = customerResponse.body\nconst itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)\nitemLocal = itemResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/items.test.mjs:330:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;18dddfe4-9147-469b-9cf1-0c37620efa9c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, item, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;items DELETE \&quot;after all\&quot; hook: delete job_site, item, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1618,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/sites/${customerLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;887fd585-4d32-42e5-a004-48e87527fe7d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5482fd38-5075-45e6-8f43-4c7acc14080d&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/items/${itemLocal.id}`)\n\t.send(itemLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67e553c5-7c23-43b0-bff6-a202d4975242&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b1eac288-fce2-494e-a3a6-d58d40424840&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;67e553c5-7c23-43b0-bff6-a202d4975242&quot;,&quot;b1eac288-fce2-494e-a3a6-d58d40424840&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;09e78bb4-89f6-49c8-99e5-c073f98a183f&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete missing order body&quot;,&quot;fullTitle&quot;:&quot;items DELETE 404 should fail to delete missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/items/${missingId}`)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a814b41-b9fb-4d44-b44f-faefa1139016&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;812843c2-5d6f-437e-aaab-8d552c1e7e18&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9a814b41-b9fb-4d44-b44f-faefa1139016&quot;,&quot;812843c2-5d6f-437e-aaab-8d552c1e7e18&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;47f661c5-2273-463d-bd1d-0d430a3dad7f&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an item&quot;,&quot;fullTitle&quot;:&quot;items DELETE 200 should delete an item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e59addf-43bb-4620-abcb-91883ba5c9cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25c7a0af-c17b-4d40-b2dc-865dfec0b521&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7e59addf-43bb-4620-abcb-91883ba5c9cc&quot;,&quot;25c7a0af-c17b-4d40-b2dc-865dfec0b521&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;fa73a622-ea90-403a-803b-00555da8f8e7&quot;,&quot;title&quot;:&quot;estimates&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4d2d0df8-700a-4bc8-a7fa-bdcb6fe25f66&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates POST \&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:953,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal.customer_id = customerResponse.body.id\nestimateLocal.site_id = customerResponse.body.site_id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/estimates.test.mjs:28:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;6df11e4e-c966-4f60-b2bd-bc52f2ea253c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates POST \&quot;after all\&quot; hook: delete estimate, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:921,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae693a94-80b9-40dd-a25f-381af596e5cf&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7b51b289-45fa-4904-949e-13691b30e91a&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates POST 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd27b5ce-531a-41fe-90fa-2fa5156dcbc2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates POST 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a6b5ed4b-8799-4381-a1ba-1fce45620df4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;bd27b5ce-531a-41fe-90fa-2fa5156dcbc2&quot;,&quot;a6b5ed4b-8799-4381-a1ba-1fce45620df4&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;381c1b7f-2b7a-49a2-9dc4-f02e8f68fbab&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;estimates POST 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/estimates&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2c7cb42-60a4-434a-8b6c-cb34762315f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0ebe086-90bf-4e45-862d-cc340d5f8f29&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b2c7cb42-60a4-434a-8b6c-cb34762315f0&quot;,&quot;f0ebe086-90bf-4e45-862d-cc340d5f8f29&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;1dd7a3b1-2869-4d03-ba8e-d140f9f637c4&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates POST 201 should create an estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2aa4b676-db08-4926-9e45-0877460c6fd5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f22698d-6c59-4148-b0cf-5195d6351f65&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually have created an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates POST 201 should actually have created an estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.get(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a697f533-595a-4252-a313-b9a0914ff921&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2aa4b676-db08-4926-9e45-0877460c6fd5&quot;,&quot;6f22698d-6c59-4148-b0cf-5195d6351f65&quot;,&quot;a697f533-595a-4252-a313-b9a0914ff921&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;af816fb2-d997-4ec7-93a0-bd73486c3b1f&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates GET \&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1746,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\nestimateLocal.customer_id = customerResponse.body.id\nestimateLocal.site_id = customerResponse.body.site_id\nconst estimateResponse = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal = estimateResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/estimates.test.mjs:98:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;7b258ec4-1ae9-4102-90b7-af939fa34d0c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates GET \&quot;after all\&quot; hook: delete estimate, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1418,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;361d4890-951e-4eb0-b697-c367c997b425&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0bd24bf9-bedf-40d4-8810-a2f73d2c5ea5&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/estimates/${estimateLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d62eae5-0b8f-477e-8e29-ef66603837ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d90a6060-ee68-4932-b446-7e117a175588&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9d62eae5-0b8f-477e-8e29-ef66603837ca&quot;,&quot;d90a6060-ee68-4932-b446-7e117a175588&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0a6849eb-5659-464c-b68c-a327926949d2&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing estimate&quot;,&quot;fullTitle&quot;:&quot;estimates GET 404 should fail to get missing estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/estimates/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dea445d1-2a3d-4bb1-9aba-b5b6cf0fd0b1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1ab99a6-cacd-4f73-b85b-2270c5926a9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;dea445d1-2a3d-4bb1-9aba-b5b6cf0fd0b1&quot;,&quot;e1ab99a6-cacd-4f73-b85b-2270c5926a9d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0e851553-9743-4b82-a119-7b07fa3760b0&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates GET 200 should get an estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4c3b49c-5c94-43ad-9dfa-62964ae4d3f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7540f5b9-4e52-4d37-b558-164561a21a0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e4c3b49c-5c94-43ad-9dfa-62964ae4d3f2&quot;,&quot;7540f5b9-4e52-4d37-b558-164561a21a0f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;cc6c4e3c-f511-4bb0-bd55-70e759e270e7&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH \&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:2589,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;customerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = customerResponse.body\n// Add required object references to example data before create\nestimateLocal.customer_id = customerLocal.id\nestimateLocal.site_id = customerLocal.site_id\nconst estimateResponse = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal = estimateResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/estimates.test.mjs:168:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;1c7f4581-2b24-4b50-a5b1-27a619dc9902&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH \&quot;after all\&quot; hook: delete estimate, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1675,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cffa8785-df8f-4aff-a2d7-16a9fdd14e7c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;47a1c602-d71c-4062-b675-1d6c67dbb194&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/estimates/${estimateLocal.id}`)\n\t.send(estimateLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5582004-41c9-420a-9393-b91b37a8da0d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b3fb719-da4d-4316-8d45-b5f310c7a0a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d5582004-41c9-420a-9393-b91b37a8da0d&quot;,&quot;0b3fb719-da4d-4316-8d45-b5f310c7a0a8&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;82e76c7a-e652-46ff-8767-2ce9a8d7d928&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/estimates/${estimateLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5274d87-aeb5-46e4-bac3-5bef10e9630b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41026555-75e7-4a1e-81fe-5866feb8d5e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d5274d87-aeb5-46e4-bac3-5bef10e9630b&quot;,&quot;41026555-75e7-4a1e-81fe-5866feb8d5e8&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;65c5461c-f483-40ed-8e95-05565156ebc1&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing estimate body&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 404 should fail to update missing estimate body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/estimates/${missingId}`)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f372c836-c281-4373-8729-775f60e40f7f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;996671ad-0926-42fa-aa05-55f09fd2ca1f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;f372c836-c281-4373-8729-775f60e40f7f&quot;,&quot;996671ad-0926-42fa-aa05-55f09fd2ca1f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e619553e-25ab-4c4a-8e50-280050cbce00&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create second customer&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 \&quot;before all\&quot; hook: create second customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;secondCustomer = { ...customer }\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\nsecondCustomer = customerResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;917be57d-d2c8-46a1-8e46-d4178b86c4be&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete second customer&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 \&quot;after all\&quot; hook: delete second customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.patch(`/estimates/${estimateLocal.id}`)\n\t.send({ customer_id: customerLocal.id })\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${secondCustomer.id}`)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;861c6761-5926-419a-b906-72482ec050fb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 should update an estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/estimates/${estimateLocal.id}`)\n\t.send({ customer_id: secondCustomer.id })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3f1708a-80fa-49e9-ac58-0a7dd7d69b91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ebd39fc-0476-4818-950e-dcbc05be87e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update customer_id&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 should actually update customer_id&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\nexpect(response.body.customer_id).to.equal(secondCustomer.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f277ebe1-0b11-48b9-92a7-51360cfb7c10&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c3f1708a-80fa-49e9-ac58-0a7dd7d69b91&quot;,&quot;8ebd39fc-0476-4818-950e-dcbc05be87e9&quot;,&quot;f277ebe1-0b11-48b9-92a7-51360cfb7c10&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;880ba585-af83-40aa-aaa4-63f984334a68&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE \&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:2109,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal.customer_id = customerResponse.body.id\nestimateLocal.site_id = customerResponse.body.site_id\nconst estimateResponse = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal = estimateResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/estimates.test.mjs:275:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;f67318de-f639-43a5-a76f-6d8771f584a7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE \&quot;after all\&quot; hook: delete estimate, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:290,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/estimates.test.mjs:322:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:402:35)\n    at endReadableNT (node:internal/streams/readable:1343:12)&quot;},&quot;uuid&quot;:&quot;ff4efc9b-1bc6-41c0-9355-fae1c1721c4f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b3a4e0cf-a411-4b22-bafb-323214bcd00e&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/estimates/${estimateLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31a77f43-8981-44b8-b1df-0e172901c843&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb8e5243-d382-46bc-8bb1-7e614f72a7f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;31a77f43-8981-44b8-b1df-0e172901c843&quot;,&quot;bb8e5243-d382-46bc-8bb1-7e614f72a7f5&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;06bacc58-4712-42fa-a4a7-e1f0ae391b0b&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing estimate&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 404 should fail to delete a missing estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/estimates/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65b43bbd-4f7d-465f-93ff-19b4fba90758&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db5a1ec1-3b3a-45ce-a53e-802f997fcdd1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;65b43bbd-4f7d-465f-93ff-19b4fba90758&quot;,&quot;db5a1ec1-3b3a-45ce-a53e-802f997fcdd1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;61a50eca-5655-4ee0-b58d-48f0d1dfeada&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 200 should delete an estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99f63d7d-399b-420c-b8f2-038f54eea594&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebe3282d-ba6b-4841-9480-d2337f396472&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;99f63d7d-399b-420c-b8f2-038f54eea594&quot;,&quot;ebe3282d-ba6b-4841-9480-d2337f396472&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;93da265a-6509-4d1e-aa38-f052bf2352e0&quot;,&quot;title&quot;:&quot;payments&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8c1a333d-b2fb-43de-aa7c-6ec5880b95a7&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments POST \&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:886,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst response = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = response.body.id\norderLocal.site_id = response.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal.order_id = orderResponse.id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/payments.test.mjs:29:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;7a527412-bbe4-4230-b52b-b575e3f1d853&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments POST \&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:871,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bd93f90-e9a4-48d0-9a44-7e3c09cf900f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;17666d6d-74c4-43c2-9c7c-ff2b0f031f41&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments POST 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/payments&#x27;)\n\t.send(payment)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa45b249-1802-41bc-a063-90c8267eff71&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments POST 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4597c136-3ee8-4603-904b-e138b28297ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;fa45b249-1802-41bc-a063-90c8267eff71&quot;,&quot;4597c136-3ee8-4603-904b-e138b28297ca&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;23a96c1c-ff12-4eae-b3d8-77ed0c1d8609&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;payments POST 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/payments&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9be171cf-8c65-4d5e-94de-f71511f6ac77&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f53cada-03f5-44d5-9a95-c40c99e649f4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9be171cf-8c65-4d5e-94de-f71511f6ac77&quot;,&quot;8f53cada-03f5-44d5-9a95-c40c99e649f4&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;4e12b18f-ea88-46c4-b071-d9c1c9cbf63e&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete payment&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 \&quot;after all\&quot; hook: delete payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfa97c77-2c54-4cff-a548-8844c9c592f6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a payment&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 should create a payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/payments&#x27;)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b010927-daa8-4101-820b-84076edd105f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79773ab1-5ef1-4ee2-9af4-0e6a05ae27ea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the order&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 should be visible on the order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const orderResponse = await request.get(`/orders/${paymentLocal.order_id}`)\n\t.query({ payments: &#x27;true&#x27; })\n\t.auth(username, password)\n\t.expect(200)\nexpect(orderResponse.body.payments.length).to.equal(1)\nexpect(orderResponse.body.payments[0].id).to.equal(paymentLocal.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbfe47a3-34b0-4b71-ad28-26a926395d26&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;1b010927-daa8-4101-820b-84076edd105f&quot;,&quot;79773ab1-5ef1-4ee2-9af4-0e6a05ae27ea&quot;,&quot;bbfe47a3-34b0-4b71-ad28-26a926395d26&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f8881fd1-b5d6-4c3c-845c-0cb53005d206&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments GET \&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;duration&quot;:3309,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\npaymentLocal.order_id = orderLocal.id\nconst paymentResponse = await request.post(&#x27;/payments&#x27;)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal = paymentResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/payments.test.mjs:113:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;260921e2-41a9-428d-840f-5ec137f5f533&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete payment, job_site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments GET \&quot;after all\&quot; hook: delete payment, job_site, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1581,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/payments.test.mjs:172:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;30f2df64-56e5-40f9-b857-3c272adbdbe4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fefd7e48-e23a-4cbc-8af9-edda6717a6f5&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/payments/${paymentLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;245924b4-5aa0-476a-acba-b4c919872802&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cf2e9fa-46fc-42a2-b325-45cf828d0bc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;245924b4-5aa0-476a-acba-b4c919872802&quot;,&quot;9cf2e9fa-46fc-42a2-b325-45cf828d0bc7&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;ffe6d3e6-5c13-4f3e-8053-14a8249b48b3&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing payment&quot;,&quot;fullTitle&quot;:&quot;payments GET 404 should fail to get missing payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/payments/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;277a94cd-ab68-4455-be86-986b11f65eea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64ac755e-1b10-4ea8-8a1e-0537e6eeb4a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;277a94cd-ab68-4455-be86-986b11f65eea&quot;,&quot;64ac755e-1b10-4ea8-8a1e-0537e6eeb4a2&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f47dad3e-e9d1-4ad6-9c4f-b65bfcef5235&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an payment&quot;,&quot;fullTitle&quot;:&quot;payments GET 200 should get an payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98c83cad-18b8-43f0-95e5-1cd0b7d8341a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06455fc8-4d53-4a31-93c3-0b3a13651cf3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;98c83cad-18b8-43f0-95e5-1cd0b7d8341a&quot;,&quot;06455fc8-4d53-4a31-93c3-0b3a13651cf3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;82695e78-21d7-4bbc-ad2f-65ef18ff7c0b&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments PATCH \&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:2120,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\npaymentLocal.order_id = orderLocal.id\nconst paymentResponse = await request.post(&#x27;/payments&#x27;)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal = paymentResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/payments.test.mjs:197:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;06cd7859-11ab-4abf-978c-2432a1a0c85b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments PATCH \&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:407,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/payments.test.mjs:275:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;f43e6260-5620-41ce-ba8d-872a8af77378&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4b7b6892-382f-4337-b024-357d94dfa433&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/payments/${paymentLocal.id}`)\n\t.send(paymentLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b42af9e2-7df8-4793-ae04-c6f7a6e9a457&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a6504a3-2f5c-4aa0-9612-58697b88cfd3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b42af9e2-7df8-4793-ae04-c6f7a6e9a457&quot;,&quot;2a6504a3-2f5c-4aa0-9612-58697b88cfd3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;8fb0eaa6-a3e2-4f5a-beba-d425ead5a92c&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/payments/${paymentLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1d27662-107c-4445-a44f-5b29fb4ccb46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ed150a0-5fbc-449b-bbde-650d45947ebf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c1d27662-107c-4445-a44f-5b29fb4ccb46&quot;,&quot;6ed150a0-5fbc-449b-bbde-650d45947ebf&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;eb4284b5-abd4-4291-99e8-febae2d39fc9&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 404 should fail to update missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/payments/${missingId}`)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8647ec2-09f8-4367-a418-e82f02457ebe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e144ffce-b87f-43c8-b3d3-29a7553c0bf5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d8647ec2-09f8-4367-a418-e82f02457ebe&quot;,&quot;e144ffce-b87f-43c8-b3d3-29a7553c0bf5&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d65b8c29-6b28-48da-b545-bf65666754f4&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an payment&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 200 should update an payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/payments/${paymentLocal.id}`)\n\t.send({ payment_amount: 500 })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2081a6a5-12db-49dd-8021-782f8fd891d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab09826f-befa-4cad-b866-9453badb0107&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update payment&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 200 should actually update payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.payment_amount).to.equal(500)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;01023662-6211-4399-8928-3de55ce65718&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2081a6a5-12db-49dd-8021-782f8fd891d1&quot;,&quot;ab09826f-befa-4cad-b866-9453badb0107&quot;,&quot;01023662-6211-4399-8928-3de55ce65718&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;fb92df84-74fc-43c0-ab26-e4fc7e3ff2a8&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments DELETE \&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:2071,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\npaymentLocal.order_id = orderLocal.id\nconst paymentResponse = await request.post(&#x27;/payments&#x27;)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal = paymentResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/payments.test.mjs:300:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;42420da7-e027-4168-a93f-39b0d7fc7666&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments DELETE \&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1196,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c32a2a00-93f7-40ea-99f2-1c38ee12d5d6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;87a349b9-04ab-4d18-b2a2-58ebaaf235f7&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/payments/${paymentLocal.id}`)\n\t.send(paymentLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;faace995-c6b0-46ec-b3c2-d8a615861454&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a6ed3cb-b332-4029-b804-bf94bb0a29ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;faace995-c6b0-46ec-b3c2-d8a615861454&quot;,&quot;5a6ed3cb-b332-4029-b804-bf94bb0a29ce&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;4797bfb0-5cfe-4957-95b3-6a5efc85b852&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete missing order body&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 404 should fail to delete missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/payments/${missingId}`)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;518a6b3e-db49-4b4d-985e-8e303eb0061c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8e798de-4d94-4b8d-85f4-3a23c7e349d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;518a6b3e-db49-4b4d-985e-8e303eb0061c&quot;,&quot;e8e798de-4d94-4b8d-85f4-3a23c7e349d6&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d6e215c2-93b0-4dd3-8611-f4b61ac41f20&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an payment&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 200 should delete an payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c8b59be-df29-4ee7-b8b8-26ca6f8c6b14&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;600f6b72-25af-4f16-98fa-8462d2f9caa1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;0c8b59be-df29-4ee7-b8b8-26ca6f8c6b14&quot;,&quot;600f6b72-25af-4f16-98fa-8462d2f9caa1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;bb4f45b7-fee7-4f25-a1f5-405043f5484e&quot;,&quot;title&quot;:&quot;sites&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f14d426a-98fa-4f85-be3f-181c3324ba65&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites POST \&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1739,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal.customer_id = customerResponse.body.id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sites.test.mjs:26:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;15376ac4-b03b-4289-9517-0d9a21ed96be&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites POST \&quot;after all\&quot; hook: delete site, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:590,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e5e56ee-ad32-4c9a-ad00-9f8398bde9dd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2222b15f-67aa-42ab-bac3-c4e2531dea41&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites POST 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6cbb747b-2c02-4374-a117-f3c688120e99&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites POST 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65bcdbff-c339-4164-9f4b-9abf25fe10ea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6cbb747b-2c02-4374-a117-f3c688120e99&quot;,&quot;65bcdbff-c339-4164-9f4b-9abf25fe10ea&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0e6bf75f-48bc-4433-b7e5-bfea59a9382f&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sites POST 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sites&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d9ff39b-8ec3-4622-b998-2f647e2063e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83653f41-820f-4dab-ba63-6b0275f3023f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9d9ff39b-8ec3-4622-b998-2f647e2063e9&quot;,&quot;83653f41-820f-4dab-ba63-6b0275f3023f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;6d33b366-af9b-4ed1-8732-f04124f03224&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an site&quot;,&quot;fullTitle&quot;:&quot;sites POST 201 should create an site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff0c4b45-0b88-48b0-b506-f72d4726fa81&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21b38c07-4820-4c9b-b664-faf7a165d89d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually have created a site&quot;,&quot;fullTitle&quot;:&quot;sites POST 201 should actually have created a site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea8b4770-fcc5-4bbc-a9ce-a2c1e38b2e5e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ff0c4b45-0b88-48b0-b506-f72d4726fa81&quot;,&quot;21b38c07-4820-4c9b-b664-faf7a165d89d&quot;,&quot;ea8b4770-fcc5-4bbc-a9ce-a2c1e38b2e5e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0dee9485-0e79-4270-bc93-f12bb64d10ba&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites GET \&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;duration&quot;:766,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\nsiteLocal.customer_id = customerResponse.body.id\nconst siteResponse = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal = siteResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sites.test.mjs:88:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;34d9e1d1-719a-40c2-b6fa-8c7c1195886b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites GET \&quot;after all\&quot; hook: delete site, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:588,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84420084-e247-4972-9c78-315e29c2e2da&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;91ce3936-e8a5-4f5a-a950-6887ec4f8c44&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sites/${siteLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3aef2da9-49af-460d-bc8c-719ee59f6318&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12963927-28d8-4a79-9db4-6261f1a2d48f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;3aef2da9-49af-460d-bc8c-719ee59f6318&quot;,&quot;12963927-28d8-4a79-9db4-6261f1a2d48f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;a127f103-3398-4cf1-a272-5096f263372b&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing site&quot;,&quot;fullTitle&quot;:&quot;sites GET 404 should fail to get missing site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/sites/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3e25d05-d4a9-4be2-bd95-d74d8ceb0afa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3610155-c8a6-47ef-8f6f-caf28ec35321&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;a3e25d05-d4a9-4be2-bd95-d74d8ceb0afa&quot;,&quot;d3610155-c8a6-47ef-8f6f-caf28ec35321&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0a2bd8b6-6604-4c1e-8941-fa03ff5f9008&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get a site&quot;,&quot;fullTitle&quot;:&quot;sites GET 200 should get a site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\n// update local reference with successful response body\nsiteLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4df19bc-2f02-4a99-b08d-5b874ba0b6dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62dd2bac-648e-4092-a699-af7066767a72&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b4df19bc-2f02-4a99-b08d-5b874ba0b6dc&quot;,&quot;62dd2bac-648e-4092-a699-af7066767a72&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;78b24380-3136-426c-8e97-cd88be896bb6&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, site in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites PATCH \&quot;before all\&quot; hook: create customer, job site, site in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:711,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\nsiteLocal.customer_id = customerResponse.body.id\nconst siteResponse = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal = siteResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sites.test.mjs:154:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;176ae4a3-26b3-4d26-a078-ff8551f99a31&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites PATCH \&quot;after all\&quot; hook: delete site, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:588,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e10a7bf-f2f4-46cc-8c5f-d9c37dbdd069&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6a329cb9-a186-4df2-955b-497b3ca840a4&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sites/${siteLocal.id}`)\n\t.send(siteLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fdaa72b-5647-49af-9619-7a3f6d28bb9e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7009c3f8-57ee-4161-88c1-deb0d9e75aff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9fdaa72b-5647-49af-9619-7a3f6d28bb9e&quot;,&quot;7009c3f8-57ee-4161-88c1-deb0d9e75aff&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;6b9fe490-4bee-49f7-a8ef-d7968fa2e1a0&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sites/${siteLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\nexpect(response.status).to.equal(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b25ebfb0-f5ce-414f-8a10-80d330090248&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55a03f98-978f-46f3-b176-50e5fb59f1e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b25ebfb0-f5ce-414f-8a10-80d330090248&quot;,&quot;55a03f98-978f-46f3-b176-50e5fb59f1e3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;dcd63c27-e4fc-4664-a3f6-30f0ee4aa6a4&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing site body&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 404 should fail to update missing site body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/sites/${missingId}`)\n\t.send(siteLocal)\n\t.auth(username, password)\nexpect(response.status).to.equal(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e233098f-46c3-4196-b6c3-5f87832dd78a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab1b0dda-6718-40aa-8cb7-9b5f5b8d5ec0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e233098f-46c3-4196-b6c3-5f87832dd78a&quot;,&quot;ab1b0dda-6718-40aa-8cb7-9b5f5b8d5ec0&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;ead95073-56c3-4b34-ae7f-1916f3ac0947&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an site&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 200 should update an site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sites/${siteLocal.id}`)\n\t.send({ project_name: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d7fc1e8-3c5f-4fe5-b45a-fd0b323c15ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61893c6e-3c86-4ba7-ae32-81ce84f0e6d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update customer_id&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 200 should actually update customer_id&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.project_name).to.equal(&#x27;updated&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af950c4a-95f8-49ce-84a6-8ef7eaeb95f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;1d7fc1e8-3c5f-4fe5-b45a-fd0b323c15ca&quot;,&quot;61893c6e-3c86-4ba7-ae32-81ce84f0e6d2&quot;,&quot;af950c4a-95f8-49ce-84a6-8ef7eaeb95f9&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c3ad3a3a-7556-46f8-9c18-9007582f0fcf&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, site in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites DELETE \&quot;before all\&quot; hook: create customer, site in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:730,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal.customer_id = customerResponse.body.id\nconst siteResponse = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal = siteResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sites.test.mjs:237:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;f2d07700-d928-4cc9-8227-122009a0263c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites DELETE \&quot;after all\&quot; hook: delete site, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:288,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sites.test.mjs:283:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:402:35)\n    at endReadableNT (node:internal/streams/readable:1343:12)&quot;},&quot;uuid&quot;:&quot;cc720191-f4f8-4d32-88ef-151be7d0db00&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2c5abbc7-a5d9-414f-8880-5c2ede46aa8a&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/sites/${siteLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdc95b13-82c1-4432-9905-302976b64f39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a28eb98-08c7-48ec-bf95-0ea847968467&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;bdc95b13-82c1-4432-9905-302976b64f39&quot;,&quot;1a28eb98-08c7-48ec-bf95-0ea847968467&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;81f48497-3fee-4e45-8526-d6700a05c29f&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing site&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 404 should fail to delete a missing site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/sites/${missingId}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e8c2b24-91bd-4b2f-a84c-8d67d3430740&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36fafdea-e687-4eea-abe7-e5cd2e2f99a9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;1e8c2b24-91bd-4b2f-a84c-8d67d3430740&quot;,&quot;36fafdea-e687-4eea-abe7-e5cd2e2f99a9&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;fc6c8eac-f297-40ec-8315-1bbc7e21c5d0&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an site&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 200 should delete an site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;414f6a58-bec6-4281-9443-fc7b4295dc20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a0da76a-47ca-43f6-94ff-901e2ef528fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;414f6a58-bec6-4281-9443-fc7b4295dc20&quot;,&quot;8a0da76a-47ca-43f6-94ff-901e2ef528fc&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;9.2.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;docs&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;docs&quot;,&quot;reportTitle&quot;:&quot;modi-api&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;docs\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\docs\\index.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\docs\\index.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>