<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:46,&quot;tests&quot;:14,&quot;passes&quot;:8,&quot;pending&quot;:0,&quot;failures&quot;:6,&quot;start&quot;:&quot;2022-04-13T22:34:53.910Z&quot;,&quot;end&quot;:&quot;2022-04-13T22:35:38.807Z&quot;,&quot;duration&quot;:44897,&quot;testsRegistered&quot;:229,&quot;passPercent&quot;:3.4934497816593884,&quot;pendingPercent&quot;:0,&quot;other&quot;:42,&quot;hasOther&quot;:true,&quot;skipped&quot;:215,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;e3c77c0e-fea9-4a47-8079-db6120a53711&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;886a6511-13cc-4002-9c28-b4d86bfd7b30&quot;,&quot;title&quot;:&quot;addresses&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;07e30cba-07a9-4a6b-8f63-757f57e3b72b&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses POST \&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:809,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request.post(&#x27;/customers&#x27;)\n    .send(customer)\n    .auth(username, password)\naddressLocal.customer_id = res.body.id&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43a1b64a-6053-4492-9e66-083156f6975c&quot;,&quot;parentUUID&quot;:&quot;07e30cba-07a9-4a6b-8f63-757f57e3b72b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses POST \&quot;after all\&quot; hook: delete address, customer in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:630,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fd44c8e-1c11-4d3a-a13e-45e2aa608074&quot;,&quot;parentUUID&quot;:&quot;07e30cba-07a9-4a6b-8f63-757f57e3b72b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;bdcd06e2-ccb1-4d5b-9b9d-878dffee12b8&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses POST 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:275,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/addresses&#x27;)\n    .send(addressLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d20c9ab-1523-40fe-82d3-b0a8deef47c7&quot;,&quot;parentUUID&quot;:&quot;bdcd06e2-ccb1-4d5b-9b9d-878dffee12b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses POST 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51a8653d-def9-42fc-af3d-ecd0446f07a1&quot;,&quot;parentUUID&quot;:&quot;bdcd06e2-ccb1-4d5b-9b9d-878dffee12b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4d20c9ab-1523-40fe-82d3-b0a8deef47c7&quot;,&quot;51a8653d-def9-42fc-af3d-ecd0446f07a1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:289,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;7a6a12fb-4368-4bf5-a49d-84e1a295f107&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;addresses POST 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:314,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/addresses&#x27;)\n    .send({ \&quot;invalid\&quot;: \&quot;invalid\&quot; })\n    .auth(username, password)\nexpect(res.status).to.equal(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f152870-3962-422f-ab6e-16ab6379f270&quot;,&quot;parentUUID&quot;:&quot;7a6a12fb-4368-4bf5-a49d-84e1a295f107&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses POST 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f269a71-387e-43f8-b77b-60925c2e8cab&quot;,&quot;parentUUID&quot;:&quot;7a6a12fb-4368-4bf5-a49d-84e1a295f107&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9f152870-3962-422f-ab6e-16ab6379f270&quot;,&quot;8f269a71-387e-43f8-b77b-60925c2e8cab&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:322,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;2642faa1-8d26-4fc1-ba13-13c8c8b43a1c&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an address&quot;,&quot;fullTitle&quot;:&quot;addresses POST 201 should create an address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:315,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/addresses&#x27;)\n    .send(addressLocal)\n    .auth(username, password)\n    .expect(201)\naddressLocal = res.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/addresses.test.mjs:60:22)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;4d97d0d4-a5cd-42e7-941e-350d26d04243&quot;,&quot;parentUUID&quot;:&quot;2642faa1-8d26-4fc1-ba13-13c8c8b43a1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses POST 201 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/addresses.test.mjs:64:21)\n    at processImmediate (node:internal/timers:466:21)&quot;},&quot;uuid&quot;:&quot;d1a6316f-9314-4306-a902-a16b3f6f5891&quot;,&quot;parentUUID&quot;:&quot;2642faa1-8d26-4fc1-ba13-13c8c8b43a1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually have created an address&quot;,&quot;fullTitle&quot;:&quot;addresses POST 201 should actually have created an address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.get(`/addresses/${res.body.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;body&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;body&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/addresses.test.mjs:67:53)\n    at processImmediate (node:internal/timers:466:21)&quot;},&quot;uuid&quot;:&quot;d24eefbc-67cf-4f15-917e-150582aab8e9&quot;,&quot;parentUUID&quot;:&quot;2642faa1-8d26-4fc1-ba13-13c8c8b43a1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;4d97d0d4-a5cd-42e7-941e-350d26d04243&quot;,&quot;d1a6316f-9314-4306-a902-a16b3f6f5891&quot;,&quot;d24eefbc-67cf-4f15-917e-150582aab8e9&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:315,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;318b251f-0d51-45c7-84aa-2f40122c160f&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses GET \&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:741,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customer)\n    .auth(username, password)\n    .expect(201)\n// add required object references to example data before create\naddressLocal.customer_id = customerResponse.body.id\nlet addressResponse = await request.post(&#x27;/addresses&#x27;)\n    .send(addressLocal)\n    .auth(username, password)\n    .expect(201)\naddressLocal = addressResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/addresses.test.mjs:91:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;e0ec7abd-a766-4de0-bb17-664e01c6bfde&quot;,&quot;parentUUID&quot;:&quot;318b251f-0d51-45c7-84aa-2f40122c160f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses GET \&quot;after all\&quot; hook: delete address, customer in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:590,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad92b10b-a471-4c05-8eff-a1a2e9e138bf&quot;,&quot;parentUUID&quot;:&quot;318b251f-0d51-45c7-84aa-2f40122c160f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b03843f1-79ab-45f3-96ff-2dfaa42afcb9&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses GET 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/addresses/${addressLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96113aef-a4dd-4fd7-9927-71d33afcc13f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses GET 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20e99843-29a9-453a-88ba-7dc6fa02645b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;96113aef-a4dd-4fd7-9927-71d33afcc13f&quot;,&quot;20e99843-29a9-453a-88ba-7dc6fa02645b&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;0fa17c21-b2d3-42a1-8e99-4e17fc895af0&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing address&quot;,&quot;fullTitle&quot;:&quot;addresses GET 404 should fail to get missing address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\n                let missing_id = &#x27;00000&#x27;\n                res = await request.get(`/addresses/${missing_id}`)\n                    .auth(username, password)\n                    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5ecd336-f2dd-4e20-baaa-cb27e13a9f82&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses GET 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50caf1fc-627d-43c3-955d-bbd6b9ce5136&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;f5ecd336-f2dd-4e20-baaa-cb27e13a9f82&quot;,&quot;50caf1fc-627d-43c3-955d-bbd6b9ce5136&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;0ebdb1cd-d32f-43b6-a6e1-edc47ca3d2eb&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get a address&quot;,&quot;fullTitle&quot;:&quot;addresses GET 200 should get a address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/addresses/${addressLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a296787d-140f-4ab1-9d09-7c72d5c7c0de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses GET 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc485af1-4f71-449a-8368-0642c61a9df3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;a296787d-140f-4ab1-9d09-7c72d5c7c0de&quot;,&quot;bc485af1-4f71-449a-8368-0642c61a9df3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;18082a82-05a9-4dc8-a390-23ffabced4f1&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, address in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH \&quot;before all\&quot; hook: create customer, address in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:732,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customer)\n    .auth(username, password)\n    .expect(201)\n// add required object references to example data before create\naddressLocal.customer_id = customerResponse.body.id\nlet addressResponse = await request.post(&#x27;/addresses&#x27;)\n    .send(addressLocal)\n    .auth(username, password)\n    .expect(201)\naddressLocal = addressResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/addresses.test.mjs:161:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;c8a317eb-e86e-492a-ad38-7a10c6a6d67a&quot;,&quot;parentUUID&quot;:&quot;18082a82-05a9-4dc8-a390-23ffabced4f1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH \&quot;after all\&quot; hook: delete address, customer in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:573,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;206269f3-a226-4471-9eb9-e7c5f36c1935&quot;,&quot;parentUUID&quot;:&quot;18082a82-05a9-4dc8-a390-23ffabced4f1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4b7d22d1-2c5a-43b7-a089-ac9944eb4a69&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/addresses/${addressLocal.id}`)\n    .send(addressLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bd3db2c-c77f-47d1-ba81-3f384294405a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c742913f-27c4-4fb1-ae20-f59ceb092b64&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;3bd3db2c-c77f-47d1-ba81-3f384294405a&quot;,&quot;c742913f-27c4-4fb1-ae20-f59ceb092b64&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;05adeabf-30ac-4587-bb07-97a916b79251&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/addresses/${addressLocal.id}`)\n    .send({ &#x27;invalid&#x27;: &#x27;invalid&#x27; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3a844e6-312a-482a-9208-94cefe8e1890&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e67905de-8ff7-4e99-9ab9-8c3c4e3da8bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b3a844e6-312a-482a-9208-94cefe8e1890&quot;,&quot;e67905de-8ff7-4e99-9ab9-8c3c4e3da8bd&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;60375482-d96d-4bf9-85e4-113a8956508e&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing address body&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 404 should fail to update missing address body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.patch(`/addresses/${missing_id}`)\n    .send({ \&quot;address\&quot;: \&quot;updated\&quot; })\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba8b3f95-378d-4add-902c-cb81238f9720&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da25b487-7a5f-41fc-933e-6f7b8c585219&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ba8b3f95-378d-4add-902c-cb81238f9720&quot;,&quot;da25b487-7a5f-41fc-933e-6f7b8c585219&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;2978a287-28dd-42b7-b7b0-e7e317ad8d64&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an address&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 200 should update an address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/addresses/${addressLocal.id}`)\n    .send({ \&quot;address\&quot;: \&quot;updated\&quot; })\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e94d5c4-2e38-4db3-b138-238650e180b6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f52d414-cb31-4794-a3c3-ffe81494a522&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually have updated address&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 200 should actually have updated address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/addresses/${addressLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nexpect(res.body.address).to.equal(&#x27;updated&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;055795fe-4f16-4805-bbd5-a2640373f094&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6e94d5c4-2e38-4db3-b138-238650e180b6&quot;,&quot;4f52d414-cb31-4794-a3c3-ffe81494a522&quot;,&quot;055795fe-4f16-4805-bbd5-a2640373f094&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;b03d8c6e-b3f0-45f0-8e8e-13600409c391&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, address in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE \&quot;before all\&quot; hook: create customer, job site, address in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:805,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customer)\n    .auth(username, password)\n    .expect(201)\naddressLocal.customer_id = customerResponse.body.id\nlet addressResponse = await request.post(&#x27;/addresses&#x27;)\n    .send(addressLocal)\n    .auth(username, password)\n    .expect(201)\naddressLocal = addressResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/addresses.test.mjs:247:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;33264cda-ca44-46cb-838c-986c56da7e86&quot;,&quot;parentUUID&quot;:&quot;b03d8c6e-b3f0-45f0-8e8e-13600409c391&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE \&quot;after all\&quot; hook: delete address, customer in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:280,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n                .auth(username, password)\n                .expect(404)\n            await request.delete(`/customers/${addressLocal.customer_id}`)\n                .auth(username, password)\n                .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/addresses.test.mjs:297:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;d677d956-94d6-4b78-8859-8221f609c7d8&quot;,&quot;parentUUID&quot;:&quot;b03d8c6e-b3f0-45f0-8e8e-13600409c391&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f90905d6-ff25-49f9-9375-1ee6b1629910&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/addresses/${addressLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3a539f1d-5ab4-4db7-a6a1-85887d595bad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b356eb0-c6a0-4794-8b97-faad092152a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;3a539f1d-5ab4-4db7-a6a1-85887d595bad&quot;,&quot;9b356eb0-c6a0-4794-8b97-faad092152a1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;6689b3ce-311f-456f-807d-d3da29a76429&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing address&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 404 should fail to delete a missing address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.delete(`/addresses/${missing_id}`)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d772c47-8102-4adb-925b-6c7cb3defb18&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58a20630-45d2-4f68-8809-0c4d96757ca7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2d772c47-8102-4adb-925b-6c7cb3defb18&quot;,&quot;58a20630-45d2-4f68-8809-0c4d96757ca7&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;fdd4d48b-5b21-4de7-b7a5-269a0723a2a4&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\addresses.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an address&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 200 should delete an address&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/addresses/${addressLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27bca1f3-8539-4c6a-bdc2-92a307dd6c0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f66e8cc-cb4a-4d58-aacc-412f9b48a119&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;27bca1f3-8539-4c6a-bdc2-92a307dd6c0b&quot;,&quot;2f66e8cc-cb4a-4d58-aacc-412f9b48a119&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;2be65eec-3009-46b3-ae64-61ce7df45e5b&quot;,&quot;title&quot;:&quot;customers&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1050e161-01e0-4240-ad70-cff6aa4b37cf&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3138809a-9075-4c17-9497-84f1d3830700&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;customers POST 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:289,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/customers&#x27;)\n    .send(customer)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95861ddc-61bd-4e0c-b16a-d88f9ce71cd0&quot;,&quot;parentUUID&quot;:&quot;3138809a-9075-4c17-9497-84f1d3830700&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers POST 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4f24c4e-0cf5-4b84-9d69-37ac27fd62d2&quot;,&quot;parentUUID&quot;:&quot;3138809a-9075-4c17-9497-84f1d3830700&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;95861ddc-61bd-4e0c-b16a-d88f9ce71cd0&quot;,&quot;b4f24c4e-0cf5-4b84-9d69-37ac27fd62d2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:297,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;88426991-3e44-4aee-a047-141cb1156cf8&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;customers POST 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:310,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/customers&#x27;)\n    .send({ \&quot;invalid\&quot;: \&quot;invalid\&quot; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4aaa9c99-f59a-4bff-80c9-92742af39a63&quot;,&quot;parentUUID&quot;:&quot;88426991-3e44-4aee-a047-141cb1156cf8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers POST 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdd0a771-c984-4bd5-bd1f-25e9232eab6e&quot;,&quot;parentUUID&quot;:&quot;88426991-3e44-4aee-a047-141cb1156cf8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4aaa9c99-f59a-4bff-80c9-92742af39a63&quot;,&quot;bdd0a771-c984-4bd5-bd1f-25e9232eab6e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:318,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;e7e34285-6dd1-4b42-853b-1d837d746649&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer in \&quot;201\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 \&quot;after all\&quot; hook: delete customer in \&quot;201\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:281,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c8f68b5-6fca-47f8-af9a-b16ee0b241b6&quot;,&quot;parentUUID&quot;:&quot;e7e34285-6dd1-4b42-853b-1d837d746649&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a customer&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 should create a customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:771,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\ncustomerLocal = res.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/customers.test.mjs:54:22)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;8f2bab6d-03bc-47b3-9648-e7eda2fdaa9b&quot;,&quot;parentUUID&quot;:&quot;e7e34285-6dd1-4b42-853b-1d837d746649&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/customers.test.mjs:58:21)\n    at processImmediate (node:internal/timers:466:21)&quot;},&quot;uuid&quot;:&quot;eff8e1d0-0cb7-4cba-aa04-c2a834572c55&quot;,&quot;parentUUID&quot;:&quot;e7e34285-6dd1-4b42-853b-1d837d746649&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually have created a customer&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 should actually have created a customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:273,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.get(`/customers/${customerLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/customers.test.mjs:63:22)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;36f125d9-0392-4f67-a7d7-86cf20bbbbf4&quot;,&quot;parentUUID&quot;:&quot;e7e34285-6dd1-4b42-853b-1d837d746649&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;8f2bab6d-03bc-47b3-9648-e7eda2fdaa9b&quot;,&quot;eff8e1d0-0cb7-4cba-aa04-c2a834572c55&quot;,&quot;36f125d9-0392-4f67-a7d7-86cf20bbbbf4&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1044,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;566610bd-b017-4f93-ae18-04d5cecb2a22&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers GET \&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:694,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\ncustomerLocal = res.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/customers.test.mjs:79:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;dc3a7062-491d-410f-8fa2-d18d5eaedcda&quot;,&quot;parentUUID&quot;:&quot;566610bd-b017-4f93-ae18-04d5cecb2a22&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers GET \&quot;after all\&quot; hook: delete customer in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:289,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb5e3ca1-0452-4e1e-9099-89628a28ddae&quot;,&quot;parentUUID&quot;:&quot;566610bd-b017-4f93-ae18-04d5cecb2a22&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d144512f-b9d2-4fe8-9f4a-c6e1f8e3a6e9&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get a customer without auth&quot;,&quot;fullTitle&quot;:&quot;customers GET 401 should fail to get a customer without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/customers/${customerLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0edeb238-f801-4cd3-8662-abd08525bd44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers GET 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f993499-8b3b-490e-813c-835feb687981&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;0edeb238-f801-4cd3-8662-abd08525bd44&quot;,&quot;2f993499-8b3b-490e-813c-835feb687981&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;a0b9dec1-08d8-426c-b079-e312042d0021&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get a missing customer&quot;,&quot;fullTitle&quot;:&quot;customers GET 404 should fail to get a missing customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let missing_id = &#x27;00000&#x27;\nres = await request.get(`/customers/${missing_id}`)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e787f7ba-a96a-4b3c-9b20-a5d71c18ce3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers GET 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff2e25ca-34f0-4249-9071-afc07d287363&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e787f7ba-a96a-4b3c-9b20-a5d71c18ce3f&quot;,&quot;ff2e25ca-34f0-4249-9071-afc07d287363&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;33c2a088-ceaa-46d0-8788-1b99982f9eac&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get a customer&quot;,&quot;fullTitle&quot;:&quot;customers GET 200 should get a customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/customers/${customerLocal.id}`)\n                    .auth(username, password)\n                    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;65a16941-a300-4b62-ba90-7a986dd5602b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers GET 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;539477b4-334e-48a4-b76f-d9cee3686407&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;65a16941-a300-4b62-ba90-7a986dd5602b&quot;,&quot;539477b4-334e-48a4-b76f-d9cee3686407&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;49af3890-8ffa-4ac0-a13d-4c25d02f97a3&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers PATCH \&quot;before all\&quot; hook: create customer in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:762,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request.post(&#x27;/customers&#x27;)\n    .send(customer)\n    .auth(username, password)\n    .expect(201)\ncustomerLocal = res.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/customers.test.mjs:132:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;f02a7dd6-7b82-4241-899c-e0ed44d82d97&quot;,&quot;parentUUID&quot;:&quot;49af3890-8ffa-4ac0-a13d-4c25d02f97a3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers PATCH \&quot;after all\&quot; hook: delete customer in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;id&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;id&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/customers.test.mjs:193:62)\n    at processImmediate (node:internal/timers:466:21)&quot;},&quot;uuid&quot;:&quot;e127a397-e6ea-4cd4-8846-6821f0639177&quot;,&quot;parentUUID&quot;:&quot;49af3890-8ffa-4ac0-a13d-4c25d02f97a3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7015ce2f-e572-477d-89a3-b2b0f90d2db0&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update a customer without auth&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 401 should fail to update a customer without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/customers/${customerLocal.id}`)\n    .send(customer)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a45f2921-59ef-42bd-8e5b-6f9f0b1686bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f774228b-873e-4097-9aec-0d77955500fe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;a45f2921-59ef-42bd-8e5b-6f9f0b1686bf&quot;,&quot;f774228b-873e-4097-9aec-0d77955500fe&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;9a6f2626-6b03-4b83-a8a7-d22df3b81b98&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update a customer with invalid body&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 400 should fail to update a customer with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/customers/${customerLocal.id}`)\n    .send({ \&quot;invalid\&quot;: \&quot;invalid\&quot; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4803e43c-cfdc-417d-b73f-35c2c2e00e80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2d6ef92-ad1c-47f3-a2da-ebc95feb5a44&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;4803e43c-cfdc-417d-b73f-35c2c2e00e80&quot;,&quot;b2d6ef92-ad1c-47f3-a2da-ebc95feb5a44&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;3f433a59-b455-4771-9438-3b6653786cab&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update a missing customer&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 404 should fail to update a missing customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let missing_id = &#x27;00000&#x27;\nres = await request.patch(`/customers/${missing_id}`)\n    .send(customer)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e459ef3-6cf5-4675-a18f-3a92a1ee7347&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;406d09a9-5c84-451b-a13c-96985b7c8dec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;1e459ef3-6cf5-4675-a18f-3a92a1ee7347&quot;,&quot;406d09a9-5c84-451b-a13c-96985b7c8dec&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;c9b0555f-a4ad-4ff3-8a03-5c6b6ea65514&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a customer&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 200 should update a customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/customers/${customerLocal.id}`)\n    .send({ \&quot;last_name\&quot;: \&quot;updated\&quot; })\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc1ef7f0-8399-453b-b40e-b7289c6b66b6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f5b07b7-960d-45e9-b0de-b47d685e4127&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update customer&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 200 should actually update customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/customers/${customerLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nexpect(res.body.last_name).to.equal(\&quot;updated\&quot;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7468892-cfb9-4718-8fc6-80fce1cc61bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;fc1ef7f0-8399-453b-b40e-b7289c6b66b6&quot;,&quot;0f5b07b7-960d-45e9-b0de-b47d685e4127&quot;,&quot;a7468892-cfb9-4718-8fc6-80fce1cc61bd&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;4fc9bdad-d16e-4804-8df5-96ad0bf0560a&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers DELETE \&quot;before all\&quot; hook: create customer in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:796,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let res = await request.post(&#x27;/customers&#x27;)\n    .send(customer)\n    .auth(username, password)\n    .expect(201)\ncustomerLocal = res.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/customers.test.mjs:205:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;3e64e958-67dd-40b9-9856-ad243bbf1475&quot;,&quot;parentUUID&quot;:&quot;4fc9bdad-d16e-4804-8df5-96ad0bf0560a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer (should 404) in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers DELETE \&quot;after all\&quot; hook: delete customer (should 404) in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:292,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/customers.test.mjs:244:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;317f630c-08a4-4b04-b5ca-8423774d9d45&quot;,&quot;parentUUID&quot;:&quot;4fc9bdad-d16e-4804-8df5-96ad0bf0560a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e8184262-95ed-4df9-9917-e899dbba22c9&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a customer without auth&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 401 should fail to delete a customer without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/customers/${customerLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dad33ce8-ab1d-4d22-8d41-466945c9a26e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a3647bc-e919-4011-a399-0db2dacdc080&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;dad33ce8-ab1d-4d22-8d41-466945c9a26e&quot;,&quot;6a3647bc-e919-4011-a399-0db2dacdc080&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;b4354188-4bfa-4e76-b57f-8aea530b3d2b&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing customer&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 404 should fail to delete a missing customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let missing_id = &#x27;00000&#x27;\nres = await request.delete(`/customers/${missing_id}`)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe906e8b-4a06-47c7-8eaa-5686881e2039&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09cc9f5d-3559-4de3-bbfb-cc84da6bf4c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;fe906e8b-4a06-47c7-8eaa-5686881e2039&quot;,&quot;09cc9f5d-3559-4de3-bbfb-cc84da6bf4c3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;62f80622-ee18-4658-ac30-8cd76964b04d&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\customers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\customers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a customer&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 200 should delete a customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/customers/${customerLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a686cb4-f6f2-4faa-ba7f-c50842a633c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ad2fd996-6b2b-4180-ba73-ae1c12e22908&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;0a686cb4-f6f2-4faa-ba7f-c50842a633c2&quot;,&quot;ad2fd996-6b2b-4180-ba73-ae1c12e22908&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;9f3ae052-7433-4e77-890e-a771d2ff0391&quot;,&quot;title&quot;:&quot;estimates&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;05ba4bf8-5cb3-47bb-a178-90ad931931aa&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates POST \&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:826,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\nestimateLocal.customer_id = customerResponse.body.id\nestimateLocal.site_id = customerResponse.body.site_id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/estimates.test.mjs:31:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;45b0d510-61ee-4616-be83-bb2c0e1a1a11&quot;,&quot;parentUUID&quot;:&quot;05ba4bf8-5cb3-47bb-a178-90ad931931aa&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates POST \&quot;after all\&quot; hook: delete estimate, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:879,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dc859b0c-2660-4fe1-8290-9d9731d7ee05&quot;,&quot;parentUUID&quot;:&quot;05ba4bf8-5cb3-47bb-a178-90ad931931aa&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a4d50797-7eca-4e40-b987-92487b927392&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates POST 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/estimates&#x27;)\n    .send(estimateLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f72ca6b-9fd1-4219-beb6-ea144ed66920&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates POST 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2c4a805-1ffc-4a0d-b93c-b0946c1109d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;0f72ca6b-9fd1-4219-beb6-ea144ed66920&quot;,&quot;d2c4a805-1ffc-4a0d-b93c-b0946c1109d9&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;ff7ae614-27be-4f68-a25e-ec69cc51c3e8&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;estimates POST 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/estimates&#x27;)\n    .send({ &#x27;invalid&#x27;: &#x27;invalid&#x27; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d5f2c7e-bfb6-44bb-84ac-0d53255b9582&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates POST 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3098e634-77f0-4061-bfa4-399f7735181a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6d5f2c7e-bfb6-44bb-84ac-0d53255b9582&quot;,&quot;3098e634-77f0-4061-bfa4-399f7735181a&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;f21fac64-1a77-4cbd-9771-e89955f1459e&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates POST 201 should create an estimate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/estimates&#x27;)\n    .send(estimateLocal)\n    .auth(username, password)\n    .expect(201)\nestimateLocal = res.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcb1520f-abdf-4d9a-9661-2ac0d104d171&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates POST 201 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf3652b3-1b7f-4d78-b9b7-b5a98789dbd2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually have created an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates POST 201 should actually have created an estimate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.get(`/estimates/${estimateLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1a74a35-e7b0-4c7a-b94f-8b36add56403&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;fcb1520f-abdf-4d9a-9661-2ac0d104d171&quot;,&quot;bf3652b3-1b7f-4d78-b9b7-b5a98789dbd2&quot;,&quot;d1a74a35-e7b0-4c7a-b94f-8b36add56403&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;0a8d7768-5a77-442b-8d11-dbaa7139d71a&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates GET \&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:756,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\n// add required object references to example data before create\nestimateLocal.customer_id = customerResponse.body.id\nestimateLocal.site_id = customerResponse.body.site_id\nlet estimateResponse = await request.post(&#x27;/estimates&#x27;)\n    .send(estimateLocal)\n    .auth(username, password)\n    .expect(201)\nestimateLocal = estimateResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/estimates.test.mjs:102:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;d2d3f403-edac-4afc-9c81-9d6b1f9e5f4d&quot;,&quot;parentUUID&quot;:&quot;0a8d7768-5a77-442b-8d11-dbaa7139d71a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates GET \&quot;after all\&quot; hook: delete estimate, customer in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:877,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0cb13012-ae60-47a8-91b6-f9c5ba4d60da&quot;,&quot;parentUUID&quot;:&quot;0a8d7768-5a77-442b-8d11-dbaa7139d71a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fde2a226-77aa-4b8e-b24d-49761f1aea1f&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates GET 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/estimates/${estimateLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd0499c9-10da-4d36-a232-64b645148d5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates GET 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eee14dd3-2af0-46d5-a93c-cb7938e0c3b3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;dd0499c9-10da-4d36-a232-64b645148d5d&quot;,&quot;eee14dd3-2af0-46d5-a93c-cb7938e0c3b3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;57ed325a-5c5f-4434-a6d5-e5c6c6766cf9&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing estimate&quot;,&quot;fullTitle&quot;:&quot;estimates GET 404 should fail to get missing estimate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\n                let missing_id = &#x27;00000&#x27;\n                res = await request.get(`/estimates/${missing_id}`)\n                    .auth(username, password)\n                    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa1a3f6d-80e4-43fb-a0c6-5cd7ce3ccf2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates GET 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8e4d778c-e4fc-4e3d-baa0-4c6f0953c8cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;aa1a3f6d-80e4-43fb-a0c6-5cd7ce3ccf2a&quot;,&quot;8e4d778c-e4fc-4e3d-baa0-4c6f0953c8cc&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;020a15a6-d005-4982-97b6-be514fe106b4&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates GET 200 should get an estimate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/estimates/${estimateLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3aa77754-230a-47e8-9233-158b4e2f65db&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates GET 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36f35dc8-696e-4d01-8ee1-a1b3a1b3ba68&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;3aa77754-230a-47e8-9233-158b4e2f65db&quot;,&quot;36f35dc8-696e-4d01-8ee1-a1b3a1b3ba68&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;1caf0e20-7e25-4228-8884-d4a982702f3c&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH \&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:776,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;customerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\ncustomerLocal = customerResponse.body\n// add required object references to example data before create\nestimateLocal.customer_id = customerLocal.id\nestimateLocal.site_id = customerLocal.site_id\nlet estimateResponse = await request.post(&#x27;/estimates&#x27;)\n    .send(estimateLocal)\n    .auth(username, password)\n    .expect(201)\nestimateLocal = estimateResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/estimates.test.mjs:178:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;74e7fd15-9f85-4035-a6be-db4d64069164&quot;,&quot;parentUUID&quot;:&quot;1caf0e20-7e25-4228-8884-d4a982702f3c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH \&quot;after all\&quot; hook: delete estimate, customer in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:843,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;881ee376-e2a6-4036-8948-6023f535c73f&quot;,&quot;parentUUID&quot;:&quot;1caf0e20-7e25-4228-8884-d4a982702f3c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;34375f52-96b7-42ee-9e87-c9e753d1590d&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/estimates/${estimateLocal.id}`)\n    .send(estimateLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;949f74c9-9dbe-41e3-a4e8-438461c2f9b3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2907b346-da03-44aa-b56b-0de94cfb438c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;949f74c9-9dbe-41e3-a4e8-438461c2f9b3&quot;,&quot;2907b346-da03-44aa-b56b-0de94cfb438c&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;7a409ca1-26aa-4ec0-8695-04f8803db523&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/estimates/${estimateLocal.id}`)\n    .send({ &#x27;invalid&#x27;: &#x27;invalid&#x27; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34763a3c-1058-4482-820d-27cf49f4609d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;efd6cbd3-7ffa-4806-b5b1-00e0cf1629dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;34763a3c-1058-4482-820d-27cf49f4609d&quot;,&quot;efd6cbd3-7ffa-4806-b5b1-00e0cf1629dd&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;c2e28e5f-e480-4c5d-9dfd-6bfaf2c4fb79&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing estimate body&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 404 should fail to update missing estimate body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.patch(`/estimates/${missing_id}`)\n    .send(estimateLocal)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac52ed8c-57c0-4cfe-b541-8057e80e3b64&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;498dd485-3abe-4219-b14c-d8f3b2c8d8ac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ac52ed8c-57c0-4cfe-b541-8057e80e3b64&quot;,&quot;498dd485-3abe-4219-b14c-d8f3b2c8d8ac&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;15f2bc63-e09d-4cdf-b6ac-4be5b5d595f2&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create second customer&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 \&quot;before all\&quot; hook: create second customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;secondCustomer = { ...customer }\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\nsecondCustomer = customerResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3b0b9050-6076-42f6-a40f-eb408727dd6b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete second customer&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 \&quot;after all\&quot; hook: delete second customer&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.patch(`/estimates/${estimateLocal.id}`)\n    .send({ \&quot;customer_id\&quot;: customerLocal.id })\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${secondCustomer.id}`)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5571e1ad-da3b-4a4a-b08c-d7e3d90a59e8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 should update an estimate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/estimates/${estimateLocal.id}`)\n    .send({ \&quot;customer_id\&quot;: secondCustomer.id })\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f746f37-05a3-4272-91e1-fa135636348f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4607ea4-9ef5-4936-a416-10b399bcc1e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update customer_id&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 should actually update customer_id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/estimates/${estimateLocal.id}`)\n    .auth(username, password)\nexpect(res.body.customer_id).to.equal(secondCustomer.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;531f6267-26eb-4a6d-914d-bc1c605e8b64&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7f746f37-05a3-4272-91e1-fa135636348f&quot;,&quot;a4607ea4-9ef5-4936-a416-10b399bcc1e4&quot;,&quot;531f6267-26eb-4a6d-914d-bc1c605e8b64&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;bd5fe203-04aa-4d91-a2c3-1f85adbff306&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE \&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:789,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\nestimateLocal.customer_id = customerResponse.body.id\nestimateLocal.site_id = customerResponse.body.site_id\nlet estimateResponse = await request.post(&#x27;/estimates&#x27;)\n    .send(estimateLocal)\n    .auth(username, password)\n    .expect(201)\nestimateLocal = estimateResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/estimates.test.mjs:288:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;9f2b71a0-5e52-4339-a688-9a27a413179d&quot;,&quot;parentUUID&quot;:&quot;bd5fe203-04aa-4d91-a2c3-1f85adbff306&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE \&quot;after all\&quot; hook: delete estimate, customer in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:294,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n    .auth(username, password)\n    .expect(404)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/estimates.test.mjs:339:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;2740b964-2d31-41c8-a8b6-6097859cce5a&quot;,&quot;parentUUID&quot;:&quot;bd5fe203-04aa-4d91-a2c3-1f85adbff306&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;cd9b7047-b990-4d0f-9714-82050f77fc87&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/estimates/${estimateLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b95a11da-16a7-4d6d-b4c3-c5c33623a456&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;258758f4-7bd7-4c86-86ad-078808991f2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b95a11da-16a7-4d6d-b4c3-c5c33623a456&quot;,&quot;258758f4-7bd7-4c86-86ad-078808991f2e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;d4f56739-d531-4747-8f87-8aaf92865729&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing estimate&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 404 should fail to delete a missing estimate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.delete(`/estimates/${missing_id}`)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43427e59-2771-40dc-83f6-a0c9c5f6a492&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9985f90b-ba95-45d1-a6ef-d6116f77d305&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;43427e59-2771-40dc-83f6-a0c9c5f6a492&quot;,&quot;9985f90b-ba95-45d1-a6ef-d6116f77d305&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;917916ca-12d7-4d80-b126-1862142df610&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\estimates.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 200 should delete an estimate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/estimates/${estimateLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c14ad3b-af37-4ebb-ac76-239a7598b801&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9cc95b3-a60e-4b0d-ae34-5f859043ab28&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;5c14ad3b-af37-4ebb-ac76-239a7598b801&quot;,&quot;c9cc95b3-a60e-4b0d-ae34-5f859043ab28&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;b46516db-a8bb-4edc-8bab-f2291c9f0acb&quot;,&quot;title&quot;:&quot;items&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2fe87155-ef75-457b-9783-fd78bf41fcb6&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;items POST \&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:673,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nlet orderResponse = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/items.test.mjs:32:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;5d7dbfce-3712-4025-9527-4f757b531895&quot;,&quot;parentUUID&quot;:&quot;2fe87155-ef75-457b-9783-fd78bf41fcb6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, jobsite, estimate, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;items POST \&quot;after all\&quot; hook: delete order, jobsite, estimate, customer in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1227,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/estimates/${orderLocal.estimate_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87a0b276-fa95-47b1-a7a1-e28f976997b8&quot;,&quot;parentUUID&quot;:&quot;2fe87155-ef75-457b-9783-fd78bf41fcb6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c7e629a0-49bd-4470-97aa-1e023e0f7630&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items POST 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/items&#x27;)\n    .send(item)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dad001b2-b03e-4111-91c7-f3fc266603e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec6a9535-db06-4d46-811d-3b7abd398ce1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;dad001b2-b03e-4111-91c7-f3fc266603e1&quot;,&quot;ec6a9535-db06-4d46-811d-3b7abd398ce1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;426c59d2-e7d2-4026-b85c-374ffb22df7a&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;items POST 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/items&#x27;)\n    .send({ &#x27;invalid&#x27;: &#x27;invalid&#x27; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b4daa79-35ee-4775-ae46-0aea3b1ed988&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7ee4a6d-8fa4-4941-a910-6444bdc38206&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;4b4daa79-35ee-4775-ae46-0aea3b1ed988&quot;,&quot;b7ee4a6d-8fa4-4941-a910-6444bdc38206&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;52a23ffc-475c-492d-877d-efd3d5aed7c1&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f80c1f10-fd89-4aa6-88ba-9419868419d4&quot;,&quot;title&quot;:&quot;order&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order \&quot;after all\&quot; hook: delete item&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemRes.body.id}`)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc86189a-0bea-4282-9d4b-91b6d6f0835d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order should create an item&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemRes = await request.post(&#x27;/items&#x27;)\n    .send(itemLocal)\n    .auth(username, password)\n    .expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5778cfb1-8374-447b-93c0-1752c8b74029&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemRes.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20a47498-585e-4e39-b69c-560d09027f2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the order&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order should be visible on the order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let orderResponse = await request.get(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nexpect(orderResponse.body.items.length).to.equal(1)\nexpect(orderResponse.body.items[0].id).to.equal(itemRes.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f0b2028-7086-4c18-abb6-928e97a2da92&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;5778cfb1-8374-447b-93c0-1752c8b74029&quot;,&quot;20a47498-585e-4e39-b69c-560d09027f2e&quot;,&quot;8f0b2028-7086-4c18-abb6-928e97a2da92&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;2e6f37ef-ec36-436a-bbff-cfe020e6687e&quot;,&quot;title&quot;:&quot;estimate&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate \&quot;after all\&quot; hook: delete item&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemRes.body.id}`)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0418bb08-39f2-4821-9c8d-f2b1f127b704&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate should create an item&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemRes = await request.post(&#x27;/items&#x27;)\n    .send(itemLocal)\n    .auth(username, password)\n    .expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3e007d6-2f61-49c8-b642-65ebe5e16c76&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemRes.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52025b85-2647-41df-9f00-28a3af6142fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the estimate&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate should be visible on the estimate&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let estimateResponse = await request.get(`/estimates/${orderLocal.estimate_id}`)\n    .auth(username, password)\n    .expect(200)\nexpect(estimateResponse.body.items.length).to.equal(1)\nexpect(estimateResponse.body.items[0].id).to.equal(itemRes.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;124b348c-d515-4f1e-b6b2-473b0f690691&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c3e007d6-2f61-49c8-b642-65ebe5e16c76&quot;,&quot;52025b85-2647-41df-9f00-28a3af6142fd&quot;,&quot;124b348c-d515-4f1e-b6b2-473b0f690691&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;7171c5d0-f513-4a11-bd22-5ebb29b392f4&quot;,&quot;title&quot;:&quot;site&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 site \&quot;after all\&quot; hook: delete item&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemRes.body.id}`)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc2f294f-fb2a-4c10-b030-4f4e45de8fdf&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 site should create an item&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemRes = await request.post(&#x27;/items&#x27;)\n    .send(itemLocal)\n    .auth(username, password)\n    .expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;730f6de1-c917-4246-9309-806f3b2834bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 201 site should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemRes.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ed6886d-caec-4d5f-92d9-affaa85357ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the site&quot;,&quot;fullTitle&quot;:&quot;items POST 201 site should be visible on the site&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let siteResponse = await request.get(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nexpect(siteResponse.body.items.length).to.equal(1)\nexpect(siteResponse.body.items[0].id).to.equal(itemRes.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77a4d03c-ebc6-4aaf-880d-d9c786967a35&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;730f6de1-c917-4246-9309-806f3b2834bf&quot;,&quot;6ed6886d-caec-4d5f-92d9-affaa85357ca&quot;,&quot;77a4d03c-ebc6-4aaf-880d-d9c786967a35&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;173bdae6-c0b5-437e-b1c8-06545ffcf279&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;items GET \&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:673,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;customerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\n// add required object references to example data before create\nitemLocal.site_id = customerResponse.body.site_id\nlet itemResponse = await request.post(&#x27;/items&#x27;)\n    .send(itemLocal)\n    .auth(username, password)\n    .expect(201)\nitemLocal = itemResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/items.test.mjs:170:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;caa02e17-ba93-40ab-a260-7b2012634e0e&quot;,&quot;parentUUID&quot;:&quot;173bdae6-c0b5-437e-b1c8-06545ffcf279&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item, job_site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;items GET \&quot;after all\&quot; hook: delete item, job_site, customer in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:310,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${itemLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${customerLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/items.test.mjs:221:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;5b3e2264-8702-40fd-bfec-ae6d5fe1851d&quot;,&quot;parentUUID&quot;:&quot;173bdae6-c0b5-437e-b1c8-06545ffcf279&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d746c07b-c811-4318-8f94-2d7bcbc84420&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items GET 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/items/${itemLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e5a2b4f-9fe1-4c83-9e98-8dac9762c4c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items GET 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7c4105b-c4f1-4d38-88fd-03dae52570ac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6e5a2b4f-9fe1-4c83-9e98-8dac9762c4c4&quot;,&quot;a7c4105b-c4f1-4d38-88fd-03dae52570ac&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;b71504e0-ceb5-4481-b4b0-e31e40f21c94&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing item&quot;,&quot;fullTitle&quot;:&quot;items GET 404 should fail to get missing item&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.get(`/items/${missing_id}`)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bfb6ca9-7b18-47cd-aec0-96ea11a49b4f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items GET 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce389d04-9b7c-4115-ae65-db282f9a3bc8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;0bfb6ca9-7b18-47cd-aec0-96ea11a49b4f&quot;,&quot;ce389d04-9b7c-4115-ae65-db282f9a3bc8&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;fe2c552c-aaa6-4abd-ae84-981c048644b6&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an item&quot;,&quot;fullTitle&quot;:&quot;items GET 200 should get an item&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/items/${itemLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b2084de-4630-442e-8d89-d112a1ae2e64&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items GET 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34331924-437b-4cee-b94e-f06a635c7424&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;8b2084de-4630-442e-8d89-d112a1ae2e64&quot;,&quot;34331924-437b-4cee-b94e-f06a635c7424&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;40dc7ff8-161c-48e5-860a-bcc617bf6edb&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;items PATCH \&quot;before all\&quot; hook: create customer, job site in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:763,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;customerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\n// add required object references to example data before create\nitemLocal.site_id = customerResponse.body.site_id\ncustomerLocal = customerResponse.body\nlet itemResponse = await request.post(&#x27;/items&#x27;)\n    .send(itemLocal)\n    .auth(username, password)\n    .expect(201)\nitemLocal = itemResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/items.test.mjs:244:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;db70938e-3938-47a9-9d90-1e708f9cfef4&quot;,&quot;parentUUID&quot;:&quot;40dc7ff8-161c-48e5-860a-bcc617bf6edb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item, estimate, site, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;items PATCH \&quot;after all\&quot; hook: delete item, estimate, site, customer in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:310,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/estimates/${customerLocal.estimate_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${customerLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${customerLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/items.test.mjs:318:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;26828f15-83f6-478d-8314-7e8160b1e17b&quot;,&quot;parentUUID&quot;:&quot;40dc7ff8-161c-48e5-860a-bcc617bf6edb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6b01359d-87b8-4e83-9420-ea83f2f5e50a&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items PATCH 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/items/${itemLocal.id}`)\n    .send(itemLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c890f7c3-45c8-4523-9d32-7e42f265c7de&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ccb2de3-312e-4a3f-b8a9-e96513e083c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c890f7c3-45c8-4523-9d32-7e42f265c7de&quot;,&quot;3ccb2de3-312e-4a3f-b8a9-e96513e083c0&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;3d721880-b1a7-43c9-820b-3282541254dd&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;items PATCH 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/items/${itemLocal.id}`)\n    .send({ &#x27;invalid&#x27;: &#x27;invalid&#x27; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a66b98d-874b-480b-b367-fffef8a39e25&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a9f0999-b563-41a8-860d-b500735603d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9a66b98d-874b-480b-b367-fffef8a39e25&quot;,&quot;7a9f0999-b563-41a8-860d-b500735603d6&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;44232404-422b-492b-ba8b-8225e3ff9889&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;items PATCH 404 should fail to update missing order body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.patch(`/items/${missing_id}`)\n    .send(itemLocal)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a75914f-dd13-42b0-8053-1aead6ce35f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96ea8a0a-2393-43b1-be5e-4c90c51bf20a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;1a75914f-dd13-42b0-8053-1aead6ce35f1&quot;,&quot;96ea8a0a-2393-43b1-be5e-4c90c51bf20a&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;a655b09a-1efa-42e3-9245-74b453a25620&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an item&quot;,&quot;fullTitle&quot;:&quot;items PATCH 200 should update an item&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/items/${itemLocal.id}`)\n    .send({ \&quot;estimate_id\&quot;: customerLocal.estimate_id, \&quot;site_id\&quot;: \&quot;\&quot; })\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47f60828-41d6-41f7-87e1-c8c89717e8a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c0bb704-8d22-4349-b5ec-4047ba9492d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update item&quot;,&quot;fullTitle&quot;:&quot;items PATCH 200 should actually update item&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/items/${itemLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nexpect(res.body.estimate_id).to.equal(customerLocal.estimate_id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75d25ee9-5044-4e2d-b9e7-84ddd7e4bb10&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;47f60828-41d6-41f7-87e1-c8c89717e8a1&quot;,&quot;5c0bb704-8d22-4349-b5ec-4047ba9492d2&quot;,&quot;75d25ee9-5044-4e2d-b9e7-84ddd7e4bb10&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;e241399f-c600-4810-9d42-1e0ad502db70&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;items DELETE \&quot;before all\&quot; hook: create customer, job site in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:754,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;customerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\n// add required object references to example data before create\nitemLocal.site_id = customerResponse.body.site_id\ncustomerLocal = customerResponse.body\nlet itemResponse = await request.post(&#x27;/items&#x27;)\n    .send(itemLocal)\n    .auth(username, password)\n    .expect(201)\nitemLocal = itemResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/items.test.mjs:342:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;7edbd274-b987-4210-a7df-4f55389aa717&quot;,&quot;parentUUID&quot;:&quot;e241399f-c600-4810-9d42-1e0ad502db70&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, item, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;items DELETE \&quot;after all\&quot; hook: delete job_site, item, customer in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:904,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemLocal.id}`)\n    .auth(username, password)\n    .expect(404)\nawait request.delete(`/sites/${customerLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${customerLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c519aab-67aa-4a69-81be-b750e245eb42&quot;,&quot;parentUUID&quot;:&quot;e241399f-c600-4810-9d42-1e0ad502db70&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4390d600-38a6-4b51-94c6-b967c5106a74&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items DELETE 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/items/${itemLocal.id}`)\n    .send(itemLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c54ec51f-ddb1-4115-a759-f4079e3f7b2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items DELETE 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;211be519-0f39-4ca4-b76b-2ea915d4911e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c54ec51f-ddb1-4115-a759-f4079e3f7b2c&quot;,&quot;211be519-0f39-4ca4-b76b-2ea915d4911e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;d771a9b0-f71c-4c41-a9f7-d6713e5b9d5e&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete missing order body&quot;,&quot;fullTitle&quot;:&quot;items DELETE 404 should fail to delete missing order body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.delete(`/items/${missing_id}`)\n    .send(itemLocal)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d06b8b62-534e-43ee-b608-758ceec0865d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items DELETE 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d205860-2786-4df4-87d0-cf34f6491cfd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d06b8b62-534e-43ee-b608-758ceec0865d&quot;,&quot;2d205860-2786-4df4-87d0-cf34f6491cfd&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;f40be950-4de2-467c-bbe4-13a81e223ffe&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\items.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\items.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an item&quot;,&quot;fullTitle&quot;:&quot;items DELETE 200 should delete an item&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/items/${itemLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c870641f-7b4f-4e87-a0eb-3c0c0e5d6a41&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items DELETE 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24eeb772-6904-44b2-81f3-c8f6ac6f9f56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c870641f-7b4f-4e87-a0eb-3c0c0e5d6a41&quot;,&quot;24eeb772-6904-44b2-81f3-c8f6ac6f9f56&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;2d2e1472-552b-4d63-8f58-c9df855549c2&quot;,&quot;title&quot;:&quot;orders&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3b56b596-3e69-469d-8c30-1a9e312e494c&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders POST \&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:766,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/orders.test.mjs:31:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;5542a8a2-c8ae-4587-92f6-e90c3e60bf46&quot;,&quot;parentUUID&quot;:&quot;3b56b596-3e69-469d-8c30-1a9e312e494c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders POST \&quot;after all\&quot; hook: delete order, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:906,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97e13fbf-b0c6-4f8b-bb76-4b5e4ab21c56&quot;,&quot;parentUUID&quot;:&quot;3b56b596-3e69-469d-8c30-1a9e312e494c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;94264de7-089b-4d89-ad0d-dab16562867b&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders POST 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c4df76f0-e962-48a1-b20b-ffd87f71f8b1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders POST 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea4d0d1d-0d98-4ec4-8368-ad5e7a462f05&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c4df76f0-e962-48a1-b20b-ffd87f71f8b1&quot;,&quot;ea4d0d1d-0d98-4ec4-8368-ad5e7a462f05&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;540e0731-1811-4a3b-82a7-7da3453546ca&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;orders POST 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/orders&#x27;)\n    .send({ &#x27;invalid&#x27;: &#x27;invalid&#x27; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6214b355-0114-4b53-a851-e1c274ef7f72&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders POST 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8f562e6-a760-46cb-ba97-43498357adb7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6214b355-0114-4b53-a851-e1c274ef7f72&quot;,&quot;f8f562e6-a760-46cb-ba97-43498357adb7&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;84c19fa4-18dc-4fbf-b719-b10b258adbd0&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an order&quot;,&quot;fullTitle&quot;:&quot;orders POST 201 should create an order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal = res.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffe73080-154e-437c-af03-f3dd65e0fa4d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders POST 201 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d68e3c34-eb75-473e-85f9-e2aa90b9e54d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ffe73080-154e-437c-af03-f3dd65e0fa4d&quot;,&quot;d68e3c34-eb75-473e-85f9-e2aa90b9e54d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;442939a8-8d2f-42e5-b10d-c78db05027cb&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders GET \&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:729,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\n// add required object references to example data before create\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nlet orderResponse = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/orders.test.mjs:98:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;1cfeb9b2-1800-4b45-9fba-83063ca0a17c&quot;,&quot;parentUUID&quot;:&quot;442939a8-8d2f-42e5-b10d-c78db05027cb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders GET \&quot;after all\&quot; hook: delete order, customer in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:853,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31ce9d21-12eb-4f49-923a-01199d98d91f&quot;,&quot;parentUUID&quot;:&quot;442939a8-8d2f-42e5-b10d-c78db05027cb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;11d99512-e93e-4155-87b9-6c5310cfd331&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders GET 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/orders/${orderLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4d53abd-3c51-4bbc-9c3d-3afff9d89499&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders GET 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f2c87c4-7cfe-43bc-98c5-97fc6169ea73&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e4d53abd-3c51-4bbc-9c3d-3afff9d89499&quot;,&quot;8f2c87c4-7cfe-43bc-98c5-97fc6169ea73&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;a4dec4a2-943c-4e64-9ead-1b06e419ed37&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing order&quot;,&quot;fullTitle&quot;:&quot;orders GET 404 should fail to get missing order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.get(`/orders/${missing_id}`)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;444b4bfd-9453-4e87-994d-5c1b9e8098fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders GET 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc695bdf-6acd-4417-a128-b149435f48c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;444b4bfd-9453-4e87-994d-5c1b9e8098fa&quot;,&quot;cc695bdf-6acd-4417-a128-b149435f48c7&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;e650e34b-98e7-49b9-9606-c32d8c0a378c&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an order&quot;,&quot;fullTitle&quot;:&quot;orders GET 200 should get an order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c23d6bc-33f7-42ad-b71f-acbcaa77c9b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders GET 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76f61a9a-08bf-4453-b740-f358b5d46ebf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;4c23d6bc-33f7-42ad-b71f-acbcaa77c9b4&quot;,&quot;76f61a9a-08bf-4453-b740-f358b5d46ebf&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;62665682-f59c-4308-8e24-d52b3262726b&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders PATCH \&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:753,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\n// add required object references to example data before create\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nlet orderResponse = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/orders.test.mjs:170:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;cf1e2e95-b721-4d5e-92e2-9edb2147234f&quot;,&quot;parentUUID&quot;:&quot;62665682-f59c-4308-8e24-d52b3262726b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders PATCH \&quot;after all\&quot; hook: delete order, customer in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:886,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d03a176d-8b28-4dee-a601-3249ca3ac3e2&quot;,&quot;parentUUID&quot;:&quot;62665682-f59c-4308-8e24-d52b3262726b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3bce713c-daf6-46e8-9055-f415564934e5&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/orders/${orderLocal.id}`)\n    .send(orderLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e98aa7ec-9374-4420-aae4-c57eedb49b9a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a498a132-071e-4334-beae-0f54e38781d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e98aa7ec-9374-4420-aae4-c57eedb49b9a&quot;,&quot;a498a132-071e-4334-beae-0f54e38781d1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;c582000b-34e1-45bb-9b23-8ac8e7dcb7fd&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/orders/${orderLocal.id}`)\n    .send({ &#x27;invalid&#x27;: &#x27;invalid&#x27; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b41ae9fe-9e4f-44ea-8333-d456b872511c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec07e29b-2dcf-4b5a-91fc-c082cc673ff4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b41ae9fe-9e4f-44ea-8333-d456b872511c&quot;,&quot;ec07e29b-2dcf-4b5a-91fc-c082cc673ff4&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;3da21dd7-da92-4f19-8977-3d0b5d19b891&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 404 should fail to update missing order body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.patch(`/orders/${missing_id}`)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8da9806-c56e-4f1b-990a-c9a9c7ff3f46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26b7fa0b-3198-4120-a957-f0a677ea9dae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;f8da9806-c56e-4f1b-990a-c9a9c7ff3f46&quot;,&quot;26b7fa0b-3198-4120-a957-f0a677ea9dae&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;7523baae-a260-43de-8246-0601677d112e&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an order&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 200 should update an order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/orders/${orderLocal.id}`)\n    .send({ \&quot;status_code\&quot;: &#x27;200&#x27; })\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;253f6082-5e29-4765-8179-3b52eadf1cad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a9c88eb4-1ef3-4654-8698-634ffceb9754&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update order&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 200 should actually update order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nexpect(res.body.status_code).to.equal(&#x27;200&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d4353268-46b1-4364-b24c-7f3d248f598d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;253f6082-5e29-4765-8179-3b52eadf1cad&quot;,&quot;a9c88eb4-1ef3-4654-8698-634ffceb9754&quot;,&quot;d4353268-46b1-4364-b24c-7f3d248f598d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;184b4a25-79b6-4607-a39b-f094160efc20&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders DELETE \&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:743,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nlet orderResponse = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/orders.test.mjs:262:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;044a4951-a213-4e66-a8a7-0ede534d6692&quot;,&quot;parentUUID&quot;:&quot;184b4a25-79b6-4607-a39b-f094160efc20&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders DELETE \&quot;after all\&quot; hook: delete order, customer in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:287,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(404)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/orders.test.mjs:313:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;9ba03dd0-1afc-4877-88f6-981bf2d3cb8d&quot;,&quot;parentUUID&quot;:&quot;184b4a25-79b6-4607-a39b-f094160efc20&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c51ab225-1a65-4126-a59f-e7da24485649&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/orders/${orderLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;975bd42e-549a-4a67-a3c1-480f7a9503d7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;492c39cd-af71-49fd-8c24-d7a4baf84c8c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;975bd42e-549a-4a67-a3c1-480f7a9503d7&quot;,&quot;492c39cd-af71-49fd-8c24-d7a4baf84c8c&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;05f5d1ff-9a38-432f-afee-482677358425&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing order&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 404 should fail to delete a missing order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.delete(`/orders/${missing_id}`)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6c27f62-0325-4f9e-aff5-38d12720a921&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d60a6259-2d53-4818-b03d-f7b1c3ad212d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e6c27f62-0325-4f9e-aff5-38d12720a921&quot;,&quot;d60a6259-2d53-4818-b03d-f7b1c3ad212d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;ebc1b2a3-e253-46dc-b0ce-d99dd6aab97f&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\orders.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\orders.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an order&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 200 should delete an order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;405983cc-d863-43c4-ba2f-7108af3cec83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18f78b85-e74b-4cd5-a9e7-c69daefb79d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;405983cc-d863-43c4-ba2f-7108af3cec83&quot;,&quot;18f78b85-e74b-4cd5-a9e7-c69daefb79d9&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;624dfc96-67b2-45d0-842b-93f2b6aacf7d&quot;,&quot;title&quot;:&quot;payments&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;65ea3690-98a8-4b35-bd71-7adffd4e6813&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments POST \&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:769,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet res = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal.customer_id = res.body.id\norderLocal.site_id = res.body.site_id\norderResponse = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\npaymentLocal.order_id = order_id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/payments.test.mjs:32:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;929f4b20-72f0-42ce-925f-2acc140a392d&quot;,&quot;parentUUID&quot;:&quot;65ea3690-98a8-4b35-bd71-7adffd4e6813&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments POST \&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:875,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;43ad41d9-8831-4d2c-a78b-d47cb44263fe&quot;,&quot;parentUUID&quot;:&quot;65ea3690-98a8-4b35-bd71-7adffd4e6813&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d274f768-a17d-48c8-a9ef-bdd095ef480d&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments POST 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/payments&#x27;)\n    .send(payment)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;958c71f6-8b24-418d-8b16-beee5738ea52&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments POST 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;35ea0d55-3db7-4354-9e2a-ccbc6145f8bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;958c71f6-8b24-418d-8b16-beee5738ea52&quot;,&quot;35ea0d55-3db7-4354-9e2a-ccbc6145f8bc&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;c6084e35-6f69-4f44-83a9-f71e635b9b41&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;payments POST 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/payments&#x27;)\n    .send({ &#x27;invalid&#x27;: &#x27;invalid&#x27; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f05cacc-b9a2-4263-a78c-c443a4185594&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments POST 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4784be59-220c-4604-8342-cc172acfed5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9f05cacc-b9a2-4263-a78c-c443a4185594&quot;,&quot;4784be59-220c-4604-8342-cc172acfed5d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;092a3ca7-d8f6-4aed-9ee1-f2a45d47d77e&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete payment&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 \&quot;after all\&quot; hook: delete payment&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db41757a-48b9-46cc-a765-395277ab502e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a payment&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 should create a payment&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/payments&#x27;)\n    .send(paymentLocal)\n    .auth(username, password)\n    .expect(201)\npaymentLocal = res.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2776393-7bb5-4129-a8cb-0a5c06635ea2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ad9056c-c983-43bb-9e84-d1de96ccf15e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the order&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 should be visible on the order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let orderResponse = await request.get(`/orders/${paymentLocal.order_id}`)\n    .query({ &#x27;payments&#x27;: &#x27;true&#x27; })\n    .auth(username, password)\n    .expect(200)\nexpect(orderResponse.body.payments.length).to.equal(1)\nexpect(orderResponse.body.payments[0].id).to.equal(paymentLocal.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58848cab-510c-4829-b73b-2d51621f072d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d2776393-7bb5-4129-a8cb-0a5c06635ea2&quot;,&quot;4ad9056c-c983-43bb-9e84-d1de96ccf15e&quot;,&quot;58848cab-510c-4829-b73b-2d51621f072d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;1cba0d3b-2ce4-4fd2-8011-2fb51f9fb91c&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments GET \&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:731,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nlet orderResponse = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\npaymentLocal.order_id = orderLocal.id\nlet paymentResponse = await request.post(&#x27;/payments&#x27;)\n    .send(paymentLocal)\n    .auth(username, password)\n    .expect(201)\npaymentLocal = paymentResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/payments.test.mjs:117:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;a7598f91-a40e-4355-bf27-657c815aefde&quot;,&quot;parentUUID&quot;:&quot;1cba0d3b-2ce4-4fd2-8011-2fb51f9fb91c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete payment, job_site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments GET \&quot;after all\&quot; hook: delete payment, job_site, customer in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:282,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/payments.test.mjs:180:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;42698159-0961-4fd1-b25f-5a3c9705982c&quot;,&quot;parentUUID&quot;:&quot;1cba0d3b-2ce4-4fd2-8011-2fb51f9fb91c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;694164fe-2419-46fe-8027-fefb1c5e862d&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments GET 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/payments/${paymentLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b30a7aed-7da3-4a23-8f70-095cc0c029ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments GET 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d74bf7f-e997-4e1d-921f-d86c262a702c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b30a7aed-7da3-4a23-8f70-095cc0c029ce&quot;,&quot;0d74bf7f-e997-4e1d-921f-d86c262a702c&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;f20aae71-13ff-4512-8621-6f4e34877bed&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing payment&quot;,&quot;fullTitle&quot;:&quot;payments GET 404 should fail to get missing payment&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.get(`/payments/${missing_id}`)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6aa8ec6d-3c6a-452f-a19b-b38eca0dee63&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments GET 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5683590e-f78c-4c0d-934a-cf50f77555ac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6aa8ec6d-3c6a-452f-a19b-b38eca0dee63&quot;,&quot;5683590e-f78c-4c0d-934a-cf50f77555ac&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;bc952a85-5679-4da2-ab54-a27078815124&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an payment&quot;,&quot;fullTitle&quot;:&quot;payments GET 200 should get an payment&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/payments/${paymentLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da736b69-2ebc-4ae5-b368-ee2a9071f898&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments GET 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8270c70d-6049-4d97-a625-1448e73064da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;da736b69-2ebc-4ae5-b368-ee2a9071f898&quot;,&quot;8270c70d-6049-4d97-a625-1448e73064da&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;60043623-94a6-4495-9ebb-658a6efbba18&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments PATCH \&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:744,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nlet orderResponse = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\npaymentLocal.order_id = orderLocal.id\nlet paymentResponse = await request.post(&#x27;/payments&#x27;)\n    .send(paymentLocal)\n    .auth(username, password)\n    .expect(201)\npaymentLocal = paymentResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/payments.test.mjs:205:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;88bf6026-985b-48e9-a00f-e82f385f1d8e&quot;,&quot;parentUUID&quot;:&quot;60043623-94a6-4495-9ebb-658a6efbba18&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments PATCH \&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:298,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/payments.test.mjs:286:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;c97fbb0c-653b-4532-99fc-5aa66383e8a0&quot;,&quot;parentUUID&quot;:&quot;60043623-94a6-4495-9ebb-658a6efbba18&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b3a7691b-b559-465f-87dc-8460d425e5f8&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/payments/${paymentLocal.id}`)\n    .send(paymentLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63132e26-b261-480e-8b45-21f962a4893f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cde8fdc4-4f0d-4a62-9663-ab0afd01e718&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;63132e26-b261-480e-8b45-21f962a4893f&quot;,&quot;cde8fdc4-4f0d-4a62-9663-ab0afd01e718&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;b49019bd-d645-49a0-813c-7c211be43a2a&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/payments/${paymentLocal.id}`)\n    .send({ &#x27;invalid&#x27;: &#x27;invalid&#x27; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b71ba780-6106-4f32-9f5c-b0513bd62813&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6120253-e350-4217-ba81-a471f4321391&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b71ba780-6106-4f32-9f5c-b0513bd62813&quot;,&quot;f6120253-e350-4217-ba81-a471f4321391&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;21e6b518-e026-43a5-81c8-8cac5ac459a9&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 404 should fail to update missing order body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.patch(`/payments/${missing_id}`)\n    .send(paymentLocal)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc254e66-f820-4ba8-b99a-adee87967289&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0805f2f4-8b5d-4cc3-9632-8ece29f52100&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;cc254e66-f820-4ba8-b99a-adee87967289&quot;,&quot;0805f2f4-8b5d-4cc3-9632-8ece29f52100&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;1b224c76-046b-40c6-82d6-087359ac5e44&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an payment&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 200 should update an payment&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/payments/${paymentLocal.id}`)\n    .send({ \&quot;payment_amount\&quot;: 500 })\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;061c22d6-d0ee-4eb1-8cbc-c4e06edfad2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb7386d0-7998-4e5a-bb04-eabab21352b4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update payment&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 200 should actually update payment&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/payments/${paymentLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nexpect(res.body.payment_amount).to.equal(500)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b62d7a50-6682-4db6-8b04-3d7ae7acd3d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;061c22d6-d0ee-4eb1-8cbc-c4e06edfad2e&quot;,&quot;cb7386d0-7998-4e5a-bb04-eabab21352b4&quot;,&quot;b62d7a50-6682-4db6-8b04-3d7ae7acd3d6&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;d0bef695-8dca-4292-87fa-a42c93dd358b&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments DELETE \&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:712,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\n\nlet orderResponse = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\npaymentLocal.order_id = orderLocal.id\nlet paymentResponse = await request.post(&#x27;/payments&#x27;)\n    .send(paymentLocal)\n    .auth(username, password)\n    .expect(201)\npaymentLocal = paymentResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/payments.test.mjs:312:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;d2a8393e-eca3-4600-9eb7-fe4437919488&quot;,&quot;parentUUID&quot;:&quot;d0bef695-8dca-4292-87fa-a42c93dd358b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments DELETE \&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1173,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n    .auth(username, password)\n    .expect(404)\nawait request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2820a31d-2727-4c2b-a926-d4a395d135a5&quot;,&quot;parentUUID&quot;:&quot;d0bef695-8dca-4292-87fa-a42c93dd358b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e1bc9e91-f667-44ad-818d-dedeb5ae293d&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/payments/${paymentLocal.id}`)\n    .send(paymentLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bca1d100-e03b-48e1-8386-170d705d8f0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93d81fb7-0167-4645-b9da-c0a3ee1b3aea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;bca1d100-e03b-48e1-8386-170d705d8f0f&quot;,&quot;93d81fb7-0167-4645-b9da-c0a3ee1b3aea&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;4c8ce186-1d6b-475a-b157-85f8f7e9e1c5&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete missing order body&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 404 should fail to delete missing order body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.delete(`/payments/${missing_id}`)\n    .send(paymentLocal)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b2a387b2-8372-4cca-95dd-530a6a8c86ea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;59c37d85-e8d6-43a8-9f9c-221b44cca708&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b2a387b2-8372-4cca-95dd-530a6a8c86ea&quot;,&quot;59c37d85-e8d6-43a8-9f9c-221b44cca708&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;644ec468-c53a-4a7d-a320-eda0bd5902aa&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\payments.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\payments.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an payment&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 200 should delete an payment&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/payments/${paymentLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe87538f-fa7a-428d-9520-b98b1cc41f46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;585800bd-4ff4-428f-afd0-3b960d8b7e96&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;fe87538f-fa7a-428d-9520-b98b1cc41f46&quot;,&quot;585800bd-4ff4-428f-afd0-3b960d8b7e96&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;56fc425c-adc8-4a9c-a595-f6d013022bae&quot;,&quot;title&quot;:&quot;sales_modifiers&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;800339b5-6e9b-4108-8df1-52162782d989&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST \&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:716,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\norderResponse = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal = orderResponse.body\nsales_modifierLocal.order_id = orderLocal.id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/sales_modifiers.test.mjs:33:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;9a2a8c06-0d39-4fcf-9676-8d7296cf5db4&quot;,&quot;parentUUID&quot;:&quot;800339b5-6e9b-4108-8df1-52162782d989&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST \&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:970,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71180e59-9c15-4366-bcd9-ed6b704f3f2f&quot;,&quot;parentUUID&quot;:&quot;800339b5-6e9b-4108-8df1-52162782d989&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;71ac51ac-d922-46ce-b7ee-a60b621e9ac3&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/sales_modifiers&#x27;)\n    .send(sales_modifierLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45af7009-fdf3-46ec-a159-3c06196e6608&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05641489-c7c8-492d-b01c-77906d33ecc4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;45af7009-fdf3-46ec-a159-3c06196e6608&quot;,&quot;05641489-c7c8-492d-b01c-77906d33ecc4&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;bbff9f1a-19a8-4231-b6ee-b51988a3a019&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/sales_modifiers&#x27;)\n    .send({ &#x27;invalid&#x27;: &#x27;invalid&#x27; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8c94a4e7-bece-4ce6-b7cc-07ccf16663fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2828982-9666-4b7a-885f-ea8c783f3ba1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;8c94a4e7-bece-4ce6-b7cc-07ccf16663fc&quot;,&quot;d2828982-9666-4b7a-885f-ea8c783f3ba1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;0bce7d39-705d-4f73-a66b-d84232328a71&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 \&quot;after all\&quot; hook: delete sales_modifier&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${res.body.id}`)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40b886ca-5e37-42f2-a435-ce6c5a483a07&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 should create a sales_modifier&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/sales_modifiers&#x27;)\n    .send(sales_modifierLocal)\n    .auth(username, password)\n    .expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39a551e3-01e4-4718-8786-aca4b551d6da&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d07f3ba-fbd9-4d2b-9c74-492dc8f4e6f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the order&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 should be visible on the order&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let orderResponse = await request.get(`/orders/${orderLocal.id}`)\n    .query({ &#x27;sales_modifiers&#x27;: &#x27;true&#x27; })\n    .auth(username, password)\n    .expect(200)\nexpect(orderResponse.body.sales_modifiers.length).to.equal(1)\nexpect(orderResponse.body.sales_modifiers[0].id).to.equal(res.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5cd56aeb-10d3-44de-baae-7137443e22cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;39a551e3-01e4-4718-8786-aca4b551d6da&quot;,&quot;3d07f3ba-fbd9-4d2b-9c74-492dc8f4e6f8&quot;,&quot;5cd56aeb-10d3-44de-baae-7137443e22cc&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;35aba05d-58a7-431d-b2f1-ec99af9cc450&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET \&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:777,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nlet orderResponse = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\n// add required object references to example data before create\norderLocal = orderResponse.body\nsales_modifierLocal.order_id = orderLocal.id\nlet sales_modifierResponse = await request.post(&#x27;/sales_modifiers&#x27;)\n    .send(sales_modifierLocal)\n    .auth(username, password)\n    .expect(201)\nsales_modifierLocal = sales_modifierResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/sales_modifiers.test.mjs:120:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;09692798-e279-4ea1-a3a0-413fbef6e7e0&quot;,&quot;parentUUID&quot;:&quot;35aba05d-58a7-431d-b2f1-ec99af9cc450&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete sales_modifier, job_site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET \&quot;after all\&quot; hook: delete sales_modifier, job_site, customer in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:290,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/sales_modifiers.test.mjs:183:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;1b1fe9e0-b605-4145-a6de-43d54a8f554d&quot;,&quot;parentUUID&quot;:&quot;35aba05d-58a7-431d-b2f1-ec99af9cc450&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fd666206-1ea3-4cd8-b3a3-827c4eafddfe&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/sales_modifiers/${sales_modifierLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba2e873e-c4d1-4a22-8a16-49ffd3c966d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa0b21a2-91d3-49af-9fc9-096ac9071804&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ba2e873e-c4d1-4a22-8a16-49ffd3c966d2&quot;,&quot;fa0b21a2-91d3-49af-9fc9-096ac9071804&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;44666be3-4cba-40c8-89b9-f01351da4c8c&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 404 should fail to get missing sales_modifier&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\n                let missing_id = &#x27;00000&#x27;\n                res = await request.get(`/sales_modifiers/${missing_id}`)\n                    .auth(username, password)\n                    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;886aa501-10e4-466e-962f-088499d1da7b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;be968be7-1a1e-429f-8766-a6a1b97d4f49&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;886aa501-10e4-466e-962f-088499d1da7b&quot;,&quot;be968be7-1a1e-429f-8766-a6a1b97d4f49&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;2a6fb4bf-5969-493f-8aff-91a840096440&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 200 should get an sales_modifier&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/sales_modifiers/${sales_modifierLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a3d9dbb-2cb5-4cb6-a958-8d6df0983867&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc2ac354-539a-43c5-a804-8cdefc7932cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9a3d9dbb-2cb5-4cb6-a958-8d6df0983867&quot;,&quot;bc2ac354-539a-43c5-a804-8cdefc7932cc&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;1711b209-5c3b-4080-b3e2-f85b0da73d1a&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH \&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:819,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nlet orderResponse = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\nsales_modifierLocal.order_id = orderLocal.id\nlet sales_modifierResponse = await request.post(&#x27;/sales_modifiers&#x27;)\n    .send(sales_modifierLocal)\n    .auth(username, password)\n    .expect(201)\nsales_modifierLocal = sales_modifierResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/sales_modifiers.test.mjs:208:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;25621863-285c-4246-89de-acd0100be14c&quot;,&quot;parentUUID&quot;:&quot;1711b209-5c3b-4080-b3e2-f85b0da73d1a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH \&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:296,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/sales_modifiers.test.mjs:288:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;6ce92372-2ca3-4793-978d-84dea0ffd587&quot;,&quot;parentUUID&quot;:&quot;1711b209-5c3b-4080-b3e2-f85b0da73d1a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c49c0d46-f9f5-4bf9-b0d5-2d925cd1dbef&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/sales_modifiers/${sales_modifierLocal.id}`)\n    .send(sales_modifierLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9779f1fd-7b50-4277-b337-31c04c52d2cf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3cda91ab-ad23-4516-b53c-218d5e61a682&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9779f1fd-7b50-4277-b337-31c04c52d2cf&quot;,&quot;3cda91ab-ad23-4516-b53c-218d5e61a682&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;aaf4b060-572d-4b7c-8f5a-b406cf32740e&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/sales_modifiers/${sales_modifierLocal.id}`)\n    .send({ &#x27;invalid&#x27;: &#x27;invalid&#x27; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2d61931f-a059-4525-b766-52d75ff6c339&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a249354-0065-47a1-8861-dbfe14c809ac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2d61931f-a059-4525-b766-52d75ff6c339&quot;,&quot;8a249354-0065-47a1-8861-dbfe14c809ac&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;5cf49d88-8cf8-4a7f-aaa3-cb111b1d17a7&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 404 should fail to update missing order body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.patch(`/sales_modifiers/${missing_id}`)\n    .send(sales_modifierLocal)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9882bf43-c4f0-4974-8fc9-1afb30a3d891&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3211048d-bf6e-4a20-b548-2a0e452c0827&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9882bf43-c4f0-4974-8fc9-1afb30a3d891&quot;,&quot;3211048d-bf6e-4a20-b548-2a0e452c0827&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;98bcd68a-7659-4a7f-b31c-e7efa790cb66&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 200 should update an sales_modifier&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/sales_modifiers/${sales_modifierLocal.id}`)\n    .send({ \&quot;value\&quot;: 500 })\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;33c02a73-2cf1-4e02-b97c-bda5c5fbc4e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a70392f-30b9-460f-a7f5-ca2cce9af4fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 200 should actually update sales_modifier&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/sales_modifiers/${sales_modifierLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nexpect(res.body.value).to.equal(500)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54e1a0d5-0c8e-41fa-909b-50cf21d4d8f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;33c02a73-2cf1-4e02-b97c-bda5c5fbc4e5&quot;,&quot;9a70392f-30b9-460f-a7f5-ca2cce9af4fa&quot;,&quot;54e1a0d5-0c8e-41fa-909b-50cf21d4d8f5&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;abb36dea-b82e-4a94-856d-577185406da0&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE \&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:705,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nlet customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customerLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nlet orderResponse = await request.post(&#x27;/orders&#x27;)\n    .send(orderLocal)\n    .auth(username, password)\n    .expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\nsales_modifierLocal.order_id = orderLocal.id\nlet sales_modifierResponse = await request.post(&#x27;/sales_modifiers&#x27;)\n    .send(sales_modifierLocal)\n    .auth(username, password)\n    .expect(201)\nsales_modifierLocal = sales_modifierResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/sales_modifiers.test.mjs:313:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;ce1d9169-e54f-4f11-b64b-1e90cb47b608&quot;,&quot;parentUUID&quot;:&quot;abb36dea-b82e-4a94-856d-577185406da0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE \&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1227,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n    .auth(username, password)\n    .expect(404)\nawait request.delete(`/orders/${orderLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;599dc766-d7a5-4f36-80ea-fcf2ca18e030&quot;,&quot;parentUUID&quot;:&quot;abb36dea-b82e-4a94-856d-577185406da0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c68bfccf-282a-4219-9e23-c19ce4ebb9c2&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60771166-365a-467c-9bfa-01eeebccf3e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20134433-4be2-4f59-a06c-6ee536f8249f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;60771166-365a-467c-9bfa-01eeebccf3e1&quot;,&quot;20134433-4be2-4f59-a06c-6ee536f8249f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;4cf71de2-36ec-4459-8c6f-a228d5033a7a&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete missing order body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 404 should fail to delete missing order body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.delete(`/sales_modifiers/${missing_id}`)\n    .auth(username, password)\n    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2eb1c55b-9e85-4b8b-b71f-5edeeff378ab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3bf79b8-2cf1-4c93-8db9-7ab28eabeaf1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2eb1c55b-9e85-4b8b-b71f-5edeeff378ab&quot;,&quot;a3bf79b8-2cf1-4c93-8db9-7ab28eabeaf1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;b1d01b1b-630b-43ba-b34d-c7b350094abe&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sales_modifiers.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 200 should delete an sales_modifier&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9223b712-77b5-4759-83d6-5d2697f8c307&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51798fed-ae76-4316-97eb-f4f361f75a09&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9223b712-77b5-4759-83d6-5d2697f8c307&quot;,&quot;51798fed-ae76-4316-97eb-f4f361f75a09&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;f538b24d-7cb2-48cf-b648-36492ca6a466&quot;,&quot;title&quot;:&quot;sites&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;521a1e49-6a48-449f-b97e-b63f4ce5607f&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites POST \&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:709,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customer)\n    .auth(username, password)\n    .expect(201)\nsiteLocal.customer_id = customerResponse.body.id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/sites.test.mjs:29:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;38f53bde-5c3c-4559-9497-6c2d23fca9c6&quot;,&quot;parentUUID&quot;:&quot;521a1e49-6a48-449f-b97e-b63f4ce5607f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites POST \&quot;after all\&quot; hook: delete site, customer in \&quot;POST\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:585,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22eb26c1-6dcd-47d3-a042-8cd2b2fbb550&quot;,&quot;parentUUID&quot;:&quot;521a1e49-6a48-449f-b97e-b63f4ce5607f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c32f6379-0e0d-40cd-b66c-e90999b4ec61&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites POST 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/sites&#x27;)\n    .send(siteLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24abd607-425b-4772-ab04-d09a0a8af728&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites POST 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8277f40f-84fc-43d3-9e98-c4476f311aca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;24abd607-425b-4772-ab04-d09a0a8af728&quot;,&quot;8277f40f-84fc-43d3-9e98-c4476f311aca&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;ae72ea9a-7c68-4655-9bbf-75e651fab316&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sites POST 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/sites&#x27;)\n    .send({ \&quot;invalid\&quot;: \&quot;invalid\&quot; })\n    .auth(username, password)\n    .expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0132cf95-49ec-4e8d-8ee4-5d201d0e7dea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites POST 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b600fff3-4b43-4276-ac36-1b8ce1ef6c1f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;0132cf95-49ec-4e8d-8ee4-5d201d0e7dea&quot;,&quot;b600fff3-4b43-4276-ac36-1b8ce1ef6c1f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;22dadb54-0757-4e88-a434-156e5bb2e894&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an site&quot;,&quot;fullTitle&quot;:&quot;sites POST 201 should create an site&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.post(&#x27;/sites&#x27;)\n    .send(siteLocal)\n    .auth(username, password)\n    .expect(201)\nsiteLocal = res.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;507bd451-e4a0-42e1-a78e-50b4473520ae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites POST 201 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8e61d74-c0ea-47b1-83c4-ee7bd7179801&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually have created a site&quot;,&quot;fullTitle&quot;:&quot;sites POST 201 should actually have created a site&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/sites/${siteLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e814c3e-0bf2-44f9-9f21-232c3d6df9fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;507bd451-e4a0-42e1-a78e-50b4473520ae&quot;,&quot;d8e61d74-c0ea-47b1-83c4-ee7bd7179801&quot;,&quot;9e814c3e-0bf2-44f9-9f21-232c3d6df9fc&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;b19e2d49-001d-4070-a47d-b52deb435fba&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites GET \&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:675,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customer)\n    .auth(username, password)\n    .expect(201)\n// add required object references to example data before create\nsiteLocal.customer_id = customerResponse.body.id\nlet siteResponse = await request.post(&#x27;/sites&#x27;)\n    .send(siteLocal)\n    .auth(username, password)\n    .expect(201)\nsiteLocal = siteResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/sites.test.mjs:93:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;eae22c6c-ee54-44ec-b18c-d1e6e52542df&quot;,&quot;parentUUID&quot;:&quot;b19e2d49-001d-4070-a47d-b52deb435fba&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites GET \&quot;after all\&quot; hook: delete site, customer in \&quot;GET\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:624,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41c9b368-1f60-434f-8453-efdf5ce79075&quot;,&quot;parentUUID&quot;:&quot;b19e2d49-001d-4070-a47d-b52deb435fba&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0077605c-2500-40f9-967e-ea427573c979&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites GET 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/sites/${siteLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b53971c-f9a3-4d5f-8e75-97990a12d873&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites GET 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5f4ed00-855e-40db-af12-0fc1b168aad1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;8b53971c-f9a3-4d5f-8e75-97990a12d873&quot;,&quot;f5f4ed00-855e-40db-af12-0fc1b168aad1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;90105f19-da23-49eb-b373-d1eb85333703&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing site&quot;,&quot;fullTitle&quot;:&quot;sites GET 404 should fail to get missing site&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\n                let missing_id = &#x27;00000&#x27;\n                res = await request.get(`/sites/${missing_id}`)\n                    .auth(username, password)\n                    .expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b431e44-9eee-430e-8969-826add565124&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites GET 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5fb1d21f-9a88-44b6-9b25-1d25e39a4d31&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;8b431e44-9eee-430e-8969-826add565124&quot;,&quot;5fb1d21f-9a88-44b6-9b25-1d25e39a4d31&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;b24a2c4e-5acf-4b07-8f13-48f49951e7e1&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get a site&quot;,&quot;fullTitle&quot;:&quot;sites GET 200 should get a site&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/sites/${siteLocal.id}`)\n    .auth(username, password)\n    .expect(200)\n// update local reference with successful response body\nsiteLocal = res.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f825f577-ea45-4d05-9b73-f9a22bafd36c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites GET 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76c20a1a-cc7c-4b30-98ab-622884f1db68&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;f825f577-ea45-4d05-9b73-f9a22bafd36c&quot;,&quot;76c20a1a-cc7c-4b30-98ab-622884f1db68&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;76f9fae0-0956-438e-b765-47c4ceb9bd51&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, site in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites PATCH \&quot;before all\&quot; hook: create customer, job site, site in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:746,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customer)\n    .auth(username, password)\n    .expect(201)\n// add required object references to example data before create\nfirstCustomerId = customerResponse.body.customer_id\nsiteLocal.customer_id = customerResponse.body.id\nlet siteResponse = await request.post(&#x27;/sites&#x27;)\n    .send(siteLocal)\n    .auth(username, password)\n    .expect(201)\nsiteLocal = siteResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/sites.test.mjs:166:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;63bccc55-1e65-4ee1-8414-03f5156aa2a3&quot;,&quot;parentUUID&quot;:&quot;76f9fae0-0956-438e-b765-47c4ceb9bd51&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites PATCH \&quot;after all\&quot; hook: delete site, customer in \&quot;PATCH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:590,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7475482d-2f2f-4774-8966-e20c15f8a9b5&quot;,&quot;parentUUID&quot;:&quot;76f9fae0-0956-438e-b765-47c4ceb9bd51&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8f2dde1c-b38b-414a-91a7-8eee21c5d888&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/sites/${siteLocal.id}`)\n    .send(siteLocal)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74fc3de6-e44c-4580-b475-5cfa62f6d85c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ded836f-e1dd-44f0-8cf1-5288fc0a1bc0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;74fc3de6-e44c-4580-b475-5cfa62f6d85c&quot;,&quot;3ded836f-e1dd-44f0-8cf1-5288fc0a1bc0&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;ea12da9a-b072-4bc8-83ad-7b0953a884c9&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 400 should fail with invalid body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/sites/${siteLocal.id}`)\n    .send({ &#x27;invalid&#x27;: &#x27;invalid&#x27; })\n    .auth(username, password)\nexpect(res.status).to.equal(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ad0233c-e431-40e0-8c11-fa8678f79b7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 400 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82779983-c14b-4c76-ab16-db4ac7bbe00f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9ad0233c-e431-40e0-8c11-fa8678f79b7d&quot;,&quot;82779983-c14b-4c76-ab16-db4ac7bbe00f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;9bad32f4-86d7-41fc-90ee-5bce758a7882&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing site body&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 404 should fail to update missing site body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.patch(`/sites/${missing_id}`)\n    .send(siteLocal)\n    .auth(username, password)\nexpect(res.status).to.equal(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4db68c2-1fe6-482f-8412-ca9f913b3a96&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee61043a-362b-419e-9cc7-c05621d1aaef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b4db68c2-1fe6-482f-8412-ca9f913b3a96&quot;,&quot;ee61043a-362b-419e-9cc7-c05621d1aaef&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;eac76715-cab9-479a-8881-2602c9d7c52d&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an site&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 200 should update an site&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.patch(`/sites/${siteLocal.id}`)\n    .send({ \&quot;project_name\&quot;: &#x27;updated&#x27; })\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a244a68f-151c-49cd-8ef3-bdcb8776e421&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;092ed0af-e512-4973-ae5a-d1b08f2b5e00&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update customer_id&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 200 should actually update customer_id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.get(`/sites/${siteLocal.id}`)\n    .auth(username, password)\n    .expect(200)\nexpect(res.body.project_name).to.equal(&#x27;updated&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78ce38ce-4821-4703-87e7-52cac0823275&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;a244a68f-151c-49cd-8ef3-bdcb8776e421&quot;,&quot;092ed0af-e512-4973-ae5a-d1b08f2b5e00&quot;,&quot;78ce38ce-4821-4703-87e7-52cac0823275&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;2ce98441-c3b5-4578-ab41-bc3c5e181727&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, site in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites DELETE \&quot;before all\&quot; hook: create customer, site in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:801,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;let customerResponse = await request.post(&#x27;/customers&#x27;)\n    .send(customer)\n    .auth(username, password)\n    .expect(201)\nsiteLocal.customer_id = customerResponse.body.id\nlet siteResponse = await request.post(&#x27;/sites&#x27;)\n    .send(siteLocal)\n    .auth(username, password)\n    .expect(201)\nsiteLocal = siteResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/sites.test.mjs:253:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;be190571-7a48-4f6c-a1a1-973149e38958&quot;,&quot;parentUUID&quot;:&quot;2ce98441-c3b5-4578-ab41-bc3c5e181727&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites DELETE \&quot;after all\&quot; hook: delete site, customer in \&quot;DELETE\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:295,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n                .auth(username, password)\n                .expect(404)\n            await request.delete(`/customers/${siteLocal.customer_id}`)\n                .auth(username, password)\n                .expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/git/modi-api/test/sites.test.mjs:304:18)\n    at processImmediate (node:internal/timers:466:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:539:35)\n    at endReadableNT (node:internal/streams/readable:1345:12)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)&quot;},&quot;uuid&quot;:&quot;5a2704fb-f828-4fe1-934f-43d1d660fa76&quot;,&quot;parentUUID&quot;:&quot;2ce98441-c3b5-4578-ab41-bc3c5e181727&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;905f26f8-2d6c-48dc-9fba-fd2234571e6f&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 401 should fail without auth&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/sites/${siteLocal.id}`)\n    .expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1d35ef68-516f-487d-a9e5-a0bb07a33fcd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 401 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;351fa65a-abf0-46c4-ab91-b60f1f894bf3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;1d35ef68-516f-487d-a9e5-a0bb07a33fcd&quot;,&quot;351fa65a-abf0-46c4-ab91-b60f1f894bf3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;e84c8306-9700-496c-a714-62b255a412ab&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing site&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 404 should fail to delete a missing site&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// TODO: replace with dynamic \&quot;missing\&quot; id rather than hardcoded\nlet missing_id = &#x27;00000&#x27;\nres = await request.delete(`/sites/${missing_id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c7faf8e-1ac9-4afe-8738-5a7a63c24b08&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 404 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77f30e51-714d-45ac-b6bb-38a44fcd70f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6c7faf8e-1ac9-4afe-8738-5a7a63c24b08&quot;,&quot;77f30e51-714d-45ac-b6bb-38a44fcd70f1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;907c2b9d-c998-42b2-99b7-a1e8450d5fd6&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\git\\modi-api\\test\\sites.test.mjs&quot;,&quot;file&quot;:&quot;\\test\\sites.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an site&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 200 should delete an site&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res = await request.delete(`/sites/${siteLocal.id}`)\n    .auth(username, password)\n    .expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bec8e845-5cf0-4ade-a027-05e8e5344b7d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 200 should satisfy api spec&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;res.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fcb2b21-0bff-453a-8b4a-56c0cc8a18d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;bec8e845-5cf0-4ade-a027-05e8e5344b7d&quot;,&quot;0fcb2b21-0bff-453a-8b4a-56c0cc8a18d3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;9.2.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;docs&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;docs&quot;,&quot;reportTitle&quot;:&quot;modi-api&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;docs\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\git\\modi-api\\docs\\index.json&quot;,&quot;htmlFile&quot;:&quot;C:\\git\\modi-api\\docs\\index.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>