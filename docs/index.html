<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:141,&quot;tests&quot;:217,&quot;passes&quot;:215,&quot;pending&quot;:0,&quot;failures&quot;:2,&quot;start&quot;:&quot;2022-09-27T21:07:53.219Z&quot;,&quot;end&quot;:&quot;2022-09-27T21:08:12.810Z&quot;,&quot;duration&quot;:19591,&quot;testsRegistered&quot;:217,&quot;passPercent&quot;:99.07834101382488,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;b01fc366-d907-4c7e-931b-37cffe1734d5&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f9e546b6-2241-47ab-a773-3e3682b60472&quot;,&quot;title&quot;:&quot;customers&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;50ddfcd1-7d0a-49b8-bdd2-705d54abca74&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;88753e29-0934-48c3-98f8-75e0749cfc9d&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;customers POST 401 should fail without auth&quot;,&quot;duration&quot;:418,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de414962-9d26-43b3-baaf-b0c56c69bc46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers POST 401 should satisfy api spec&quot;,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;069d2e2f-3b5b-4024-8d33-a56cacd9c601&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;de414962-9d26-43b3-baaf-b0c56c69bc46&quot;,&quot;069d2e2f-3b5b-4024-8d33-a56cacd9c601&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:432,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;5dad0d52-bf34-4af1-b962-4444301ff9ad&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;customers POST 400 should fail with invalid body&quot;,&quot;duration&quot;:279,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/customers&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 400 \&quot;Bad Request\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/mat/git/modi-api/test/customers.test.js:39:7)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\mat\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\mat\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\mat\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:525:35)&quot;},&quot;uuid&quot;:&quot;0c73f7bb-b4bc-4e4b-9385-e1e86241a5ec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/Users/mat/git/modi-api/test/customers.test.js:42:14)\n    at process.processImmediate (node:internal/timers:471:21)&quot;},&quot;uuid&quot;:&quot;bc5aa021-30ed-4b80-bc9e-a216501264be&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;0c73f7bb-b4bc-4e4b-9385-e1e86241a5ec&quot;,&quot;bc5aa021-30ed-4b80-bc9e-a216501264be&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:279,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f812ce10-0a2b-4d21-8a25-2393730538d8&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer in \&quot;201\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 \&quot;after all\&quot; hook: delete customer in \&quot;201\&quot;&quot;,&quot;duration&quot;:309,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee1c9a4a-7db2-4bee-96be-630c3dac9650&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a customer&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 should create a customer&quot;,&quot;duration&quot;:1193,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b47ae53-0ef8-4ebe-a638-8bbf5f469470&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 should satisfy api spec&quot;,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b44635c6-24de-4234-9ff4-a1528e3e678e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually have created a customer&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 should actually have created a customer&quot;,&quot;duration&quot;:411,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.get(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00d7a141-ab3c-4a40-99bf-ed99a2ae8aed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1b47ae53-0ef8-4ebe-a638-8bbf5f469470&quot;,&quot;b44635c6-24de-4234-9ff4-a1528e3e678e&quot;,&quot;00d7a141-ab3c-4a40-99bf-ed99a2ae8aed&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1616,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;9136c2bc-9f07-4c8d-a60e-109e1a4b2445&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers GET \&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1293,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const response = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a9a8ee8-fa20-4601-b41a-64167ec0543c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers GET \&quot;after all\&quot; hook: delete customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:391,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e89bdae2-8201-42fa-b412-b9f2e1ee697d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;36109f5f-46a2-479d-877f-9dfcd2c5998f&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get a customer without auth&quot;,&quot;fullTitle&quot;:&quot;customers GET 401 should fail to get a customer without auth&quot;,&quot;duration&quot;:387,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/customers/${customerLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;238efd32-d3b9-4878-8a22-8edcc428a3ac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers GET 401 should satisfy api spec&quot;,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e784671a-1652-4048-bc7e-95afa3fc438f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;238efd32-d3b9-4878-8a22-8edcc428a3ac&quot;,&quot;e784671a-1652-4048-bc7e-95afa3fc438f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:397,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c1ff9612-969f-4204-b88d-f6653f1b73fb&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get a missing customer&quot;,&quot;fullTitle&quot;:&quot;customers GET 404 should fail to get a missing customer&quot;,&quot;duration&quot;:576,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/customers/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62b0316a-e441-434b-908c-9d3cbe93e9dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers GET 404 should satisfy api spec&quot;,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;221e4dec-a842-48cc-8798-8fd3dac55735&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;62b0316a-e441-434b-908c-9d3cbe93e9dc&quot;,&quot;221e4dec-a842-48cc-8798-8fd3dac55735&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:586,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c72e03f2-8f4b-466f-b834-8988d4e6f31d&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get a customer&quot;,&quot;fullTitle&quot;:&quot;customers GET 200 should get a customer&quot;,&quot;duration&quot;:592,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09134e28-86a0-415c-8588-d5253d17c197&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers GET 200 should satisfy api spec&quot;,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12221de1-3b55-4b11-bf14-8466dbbe62ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;09134e28-86a0-415c-8588-d5253d17c197&quot;,&quot;12221de1-3b55-4b11-bf14-8466dbbe62ef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:611,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;6fd0aa07-e8d1-497a-b760-d70e2a4e3c95&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers PATCH \&quot;before all\&quot; hook: create customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1311,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const response = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2338975-b48b-4ebf-923c-88f3fca597b8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers PATCH \&quot;after all\&quot; hook: delete customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:322,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;15180704-9b17-4225-a19d-15ae070ed1d3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2a658601-1947-43ba-b3e3-b0a96a1bb9ef&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update a customer without auth&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 401 should fail to update a customer without auth&quot;,&quot;duration&quot;:381,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/customers/${customerLocal.id}`)\n\t.send(customer)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5369e467-2816-4d86-ae46-6f43d547f73b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97218cc3-8084-4993-839e-35152d8c8b40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5369e467-2816-4d86-ae46-6f43d547f73b&quot;,&quot;97218cc3-8084-4993-839e-35152d8c8b40&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:389,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e9c04fd0-320f-403f-a932-6abd991d6492&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update a customer with invalid body&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 400 should fail to update a customer with invalid body&quot;,&quot;duration&quot;:384,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/customers/${customerLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1906fb1e-b856-49c7-92a1-92739aed0222&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b84823a1-0ca3-44ec-9120-b825f1c42ec7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1906fb1e-b856-49c7-92a1-92739aed0222&quot;,&quot;b84823a1-0ca3-44ec-9120-b825f1c42ec7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:398,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c11abe3b-bc26-47c7-8c4d-f56553423943&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update a missing customer&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 404 should fail to update a missing customer&quot;,&quot;duration&quot;:388,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/customers/${missingId}`)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a0d4f4b-badf-489c-8d32-f96923fcd1a9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3f27d06-9f20-456e-82b8-53c1e8f72fd8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4a0d4f4b-badf-489c-8d32-f96923fcd1a9&quot;,&quot;d3f27d06-9f20-456e-82b8-53c1e8f72fd8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:398,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e8082639-9381-4c49-be7b-2898b7507345&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a customer&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 200 should update a customer&quot;,&quot;duration&quot;:298,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/customers/${customerLocal.id}`)\n\t.send({ last_name: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d2a67f4-4cc4-489d-80ec-1f7860615aa3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40927de5-0bdd-44eb-b809-1fb20348f91c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually update customer&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 200 should actually update customer&quot;,&quot;duration&quot;:479,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.last_name).to.equal(&#x27;updated&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f82b2266-c261-4588-af3e-91a4e2f58243&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8d2a67f4-4cc4-489d-80ec-1f7860615aa3&quot;,&quot;40927de5-0bdd-44eb-b809-1fb20348f91c&quot;,&quot;f82b2266-c261-4588-af3e-91a4e2f58243&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:794,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0ab232c1-3041-4bfb-9d95-45aed41cf9c6&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers DELETE \&quot;before all\&quot; hook: create customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1691,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const response = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e7861a73-23be-4bb2-91b9-eb1edef09e4f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer (should 404) in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers DELETE \&quot;after all\&quot; hook: delete customer (should 404) in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:496,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;327b2462-b836-46e2-b1cc-2cfea926cd84&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;eaf7ed81-f012-4c69-8f92-893f876851e4&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a customer without auth&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 401 should fail to delete a customer without auth&quot;,&quot;duration&quot;:384,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/customers/${customerLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4c116ecd-ab1a-4ca0-beb1-0eacee7df6c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebe81e5d-b891-4727-b483-7f0341bb3818&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4c116ecd-ab1a-4ca0-beb1-0eacee7df6c4&quot;,&quot;ebe81e5d-b891-4727-b483-7f0341bb3818&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:397,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;91f53d48-1301-46b1-a606-18f3e1afc463&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing customer&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 404 should fail to delete a missing customer&quot;,&quot;duration&quot;:381,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/customers/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e058cb6-1507-4903-9fdf-34979e09ae79&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f6af3814-d1da-4db3-b558-14325be5f6c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6e058cb6-1507-4903-9fdf-34979e09ae79&quot;,&quot;f6af3814-d1da-4db3-b558-14325be5f6c0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:390,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;501e90b2-1049-4139-80af-f7d05b6b0636&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a customer&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 200 should delete a customer&quot;,&quot;duration&quot;:399,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c23dade7-05f2-4231-9d50-f1feac914fb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e71c1318-f072-4bfc-bd9b-976bb15d849b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c23dade7-05f2-4231-9d50-f1feac914fb5&quot;,&quot;e71c1318-f072-4bfc-bd9b-976bb15d849b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:407,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;6b596bd0-7953-47b9-b586-d5da5a819f82&quot;,&quot;title&quot;:&quot;sales_modifiers&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d06df946-1332-4e7b-ac88-5ae5789b0987&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST \&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1418,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\nsales_modifierLocal.order_id = orderLocal.id&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25c14d1b-3801-4690-b207-6789283d52b1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST \&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1086,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c000f4cd-a2ed-44ef-9b86-0c0ed1012845&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;82055a69-9289-477e-8add-c1cdd8bda840&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 401 should fail without auth&quot;,&quot;duration&quot;:381,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95f5f6c5-5e54-4c21-88d7-ec6c4eeea1bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 401 should satisfy api spec&quot;,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ab534eac-6e2b-458c-b018-ae6ba4e5547b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;95f5f6c5-5e54-4c21-88d7-ec6c4eeea1bf&quot;,&quot;ab534eac-6e2b-458c-b018-ae6ba4e5547b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:397,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;7f75cf0c-7b54-40b4-87f7-7932b1eb786b&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 400 should fail with invalid body&quot;,&quot;duration&quot;:257,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5802df2-d24f-4946-9845-afe56f8a0d0c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 400 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c02fb26-e6b3-4582-8106-c3055fc402d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f5802df2-d24f-4946-9845-afe56f8a0d0c&quot;,&quot;5c02fb26-e6b3-4582-8106-c3055fc402d4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:265,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f11a5a7b-d12b-491e-932e-ab23f9346695&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete sales_modifier in \&quot;201\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 \&quot;after all\&quot; hook: delete sales_modifier in \&quot;201\&quot;&quot;,&quot;duration&quot;:319,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${response.body.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12981443-ba7b-47ff-8cc4-7400403ee0be&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 should create a sales_modifier&quot;,&quot;duration&quot;:430,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f360fc89-bcf3-4a9f-8fc8-db09e7632ce9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;efef3437-cbef-40b7-ad9a-9a8144c42421&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be visible on the order&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 should be visible on the order&quot;,&quot;duration&quot;:284,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const orderResponse = await request.get(`/orders/${orderLocal.id}`)\n\t.query({ sales_modifiers: &#x27;true&#x27; })\n\t.auth(username, password)\n\t.expect(200)\nexpect(orderResponse.body.sales_modifiers.length).to.equal(1)\nexpect(orderResponse.body.sales_modifiers[0].id).to.equal(response.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;671e1c52-ae61-4a5a-a3f5-ad1da9b1a9c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f360fc89-bcf3-4a9f-8fc8-db09e7632ce9&quot;,&quot;efef3437-cbef-40b7-ad9a-9a8144c42421&quot;,&quot;671e1c52-ae61-4a5a-a3f5-ad1da9b1a9c8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:722,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;12c9acb5-0119-4e07-9e57-1ff3c59dca86&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET \&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2692,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\norderLocal = orderResponse.body\nsales_modifierLocal.order_id = orderLocal.id\nconst sales_modifierResponse = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(201)\nsales_modifierLocal = sales_modifierResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e5a3eac-37e4-4746-8d83-66b77fabc941&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete sales_modifier, job_site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET \&quot;after all\&quot; hook: delete sales_modifier, job_site, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1375,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28898c6f-b7ca-4c63-a26b-b203d1adb036&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5072ce0f-301a-4e1e-8e3a-7e1677fd0ff3&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 401 should fail without auth&quot;,&quot;duration&quot;:308,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd26f53e-4b4b-4266-9b86-f9e34dca1f84&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 401 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c35f514-56ac-4c53-8804-e7f84cc04725&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fd26f53e-4b4b-4266-9b86-f9e34dca1f84&quot;,&quot;5c35f514-56ac-4c53-8804-e7f84cc04725&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:317,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;85cbd376-f029-4578-a5ae-b98fcf5e4aca&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 404 should fail to get missing sales_modifier&quot;,&quot;duration&quot;:309,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/sales_modifiers/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ba29294-1ab6-4b80-9d15-1f4fa10d42f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 404 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44280ff2-301f-4221-9f64-62053dacc4ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3ba29294-1ab6-4b80-9d15-1f4fa10d42f2&quot;,&quot;44280ff2-301f-4221-9f64-62053dacc4ca&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:318,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d55f54a4-89b5-457c-b4f8-0097770ed1d2&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 200 should get an sales_modifier&quot;,&quot;duration&quot;:392,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;737cec1a-136a-4f1d-af9b-c80e7f4f450d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 200 should satisfy api spec&quot;,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fba941cf-a0ae-48f3-9017-7775e65a07ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;737cec1a-136a-4f1d-af9b-c80e7f4f450d&quot;,&quot;fba941cf-a0ae-48f3-9017-7775e65a07ce&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:404,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;421eec4d-2bb6-4f44-ad11-4b43dcc22496&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE \&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:2777,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\nsales_modifierLocal.order_id = orderLocal.id\nconst sales_modifierResponse = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(201)\nsales_modifierLocal = sales_modifierResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;92c9b37d-f6a1-49cc-9257-0f649c3e5f1d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE \&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1210,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ed0163e-490a-472f-a84c-5b433a0683fd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8ec3a8fa-03c7-4c4b-9eda-5b6fcd80fb81&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 401 should fail without auth&quot;,&quot;duration&quot;:337,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa1f9b4b-78b3-45cb-8f16-522b834c68ae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4637ce73-5104-49ef-a83a-ac451dda1b51&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fa1f9b4b-78b3-45cb-8f16-522b834c68ae&quot;,&quot;4637ce73-5104-49ef-a83a-ac451dda1b51&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:351,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;865ef076-44a4-4019-bc49-4c3f322c168a&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete missing order body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 404 should fail to delete missing order body&quot;,&quot;duration&quot;:377,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/sales_modifiers/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb262519-0cfe-443e-bca2-36bf10ac0da3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4dbbe72c-d297-425e-97da-6c52cc0a2291&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eb262519-0cfe-443e-bca2-36bf10ac0da3&quot;,&quot;4dbbe72c-d297-425e-97da-6c52cc0a2291&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:387,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;96b064dc-a671-4b77-9824-e2b4470f8a5c&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 200 should delete an sales_modifier&quot;,&quot;duration&quot;:364,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c0f06aac-89cb-47c6-adc1-cccb0e432800&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a53eb8d-d7c7-46fd-bce5-79749828901f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c0f06aac-89cb-47c6-adc1-cccb0e432800&quot;,&quot;5a53eb8d-d7c7-46fd-bce5-79749828901f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:373,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d0ebcc88-9fa7-4ee7-913f-d0af64eda2b3&quot;,&quot;title&quot;:&quot;addresses&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2ff71b4a-2f8d-4aba-aaa3-a59c125f6b6d&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses POST \&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:900,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const response = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\naddressLocal.customer_id = response.body.id&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;647d31a5-cd31-453c-9e09-2f2e55adc0eb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses POST \&quot;after all\&quot; hook: delete address, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:697,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d43eddcc-eebc-4ac5-9012-4f5f923cce5a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;23c623d0-e277-4bb6-9fcb-09967b4a793c&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses POST 401 should fail without auth&quot;,&quot;duration&quot;:330,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1287f78b-97e0-4d68-939a-5654828f80b3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses POST 401 should satisfy api spec&quot;,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5dc2efee-08f7-4a0a-a0a7-35c36101fb40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1287f78b-97e0-4d68-939a-5654828f80b3&quot;,&quot;5dc2efee-08f7-4a0a-a0a7-35c36101fb40&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:345,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;83d1ce8c-eafe-4ff5-a483-21bd28ce4df6&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;addresses POST 400 should fail with invalid body&quot;,&quot;duration&quot;:385,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/addresses&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\nexpect(response.status).to.equal(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;589d5817-3e88-41b1-a943-f628000d9f20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses POST 400 should satisfy api spec&quot;,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a8c08b9f-438b-4a61-9b07-f794ad3aa1eb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;589d5817-3e88-41b1-a943-f628000d9f20&quot;,&quot;a8c08b9f-438b-4a61-9b07-f794ad3aa1eb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:392,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;777528d1-573f-4660-b845-c9633f7151e8&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an address&quot;,&quot;fullTitle&quot;:&quot;addresses POST 201 should create an address&quot;,&quot;duration&quot;:316,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cb352d7-92cd-4ab3-aa1a-ad914ae485fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses POST 201 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fa4c3ed5-3fde-4e42-92b0-7f17b149f54e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually have created an address&quot;,&quot;fullTitle&quot;:&quot;addresses POST 201 should actually have created an address&quot;,&quot;duration&quot;:368,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.get(`/addresses/${response.body.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96d8fc06-3bc3-421e-ac25-cfe87a8d7dea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9cb352d7-92cd-4ab3-aa1a-ad914ae485fc&quot;,&quot;fa4c3ed5-3fde-4e42-92b0-7f17b149f54e&quot;,&quot;96d8fc06-3bc3-421e-ac25-cfe87a8d7dea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:693,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;cd9219d5-12e0-4443-9523-06fa8b4f360f&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses GET \&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2188,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\naddressLocal.customer_id = customerResponse.body.id\nconst addressResponse = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal = addressResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56d91c5f-41d0-4c38-b329-06af546da742&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses GET \&quot;after all\&quot; hook: delete address, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:728,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99d2cab3-1e14-4fbd-ace5-2f9133126f0c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9d327706-945e-4f7f-b53f-a2ab6bdf562d&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses GET 401 should fail without auth&quot;,&quot;duration&quot;:336,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/addresses/${addressLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b15dae84-1d73-4565-a133-f7fb6630d103&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses GET 401 should satisfy api spec&quot;,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e84d3571-f30f-432b-ba38-3afbc7eac75a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b15dae84-1d73-4565-a133-f7fb6630d103&quot;,&quot;e84d3571-f30f-432b-ba38-3afbc7eac75a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:352,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;4690bab6-bbe0-4637-b9a8-87a9d3bf3875&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing address&quot;,&quot;fullTitle&quot;:&quot;addresses GET 404 should fail to get missing address&quot;,&quot;duration&quot;:384,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/addresses/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11ccbd5c-7bc7-4375-9e16-2a1fd5ced9c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses GET 404 should satisfy api spec&quot;,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;deb37691-619c-4006-b9c3-678d11add0df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;11ccbd5c-7bc7-4375-9e16-2a1fd5ced9c5&quot;,&quot;deb37691-619c-4006-b9c3-678d11add0df&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:400,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;aa196ebe-ffc7-464f-ae2c-83835fd590bf&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get a address&quot;,&quot;fullTitle&quot;:&quot;addresses GET 200 should get a address&quot;,&quot;duration&quot;:367,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5aa7802f-ed25-4681-b8cd-42dff10a83c0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses GET 200 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9da01a23-e968-4de5-a6d9-b1be6cc0a706&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5aa7802f-ed25-4681-b8cd-42dff10a83c0&quot;,&quot;9da01a23-e968-4de5-a6d9-b1be6cc0a706&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:375,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e39469f5-d271-4865-970f-4451f3dfd5b7&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, address in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH \&quot;before all\&quot; hook: create customer, address in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1641,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\naddressLocal.customer_id = customerResponse.body.id\nconst addressResponse = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal = addressResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f052fc2-ebf9-431f-9ba5-358fd13233e7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH \&quot;after all\&quot; hook: delete address, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:802,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b80e22a-204b-44dd-843b-c6fe48f8d625&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;06105cf8-0549-4c5f-89a1-6f1b2eb107a6&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 401 should fail without auth&quot;,&quot;duration&quot;:335,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/addresses/${addressLocal.id}`)\n\t.send(addressLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1a626873-af87-4f88-9c71-4f1a46d1c470&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c61c61b-886e-4821-b58f-8572846558ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1a626873-af87-4f88-9c71-4f1a46d1c470&quot;,&quot;6c61c61b-886e-4821-b58f-8572846558ef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:349,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;269b5be5-0e63-4f86-97e5-6937ae01986a&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:377,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/addresses/${addressLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ca232fa-32ba-4b83-9d42-46a9ead2e163&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58b02099-0f6c-4209-896b-62b60c3101c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0ca232fa-32ba-4b83-9d42-46a9ead2e163&quot;,&quot;58b02099-0f6c-4209-896b-62b60c3101c4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:391,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;cc12750a-3abc-49f7-a6c6-500d3413c2a0&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing address body&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 404 should fail to update missing address body&quot;,&quot;duration&quot;:376,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/addresses/${missingId}`)\n\t.send({ address: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae22dc8d-470e-4a7f-b36d-895055f285ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a203e9b0-35d0-4516-bc42-fd710e93fe91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ae22dc8d-470e-4a7f-b36d-895055f285ef&quot;,&quot;a203e9b0-35d0-4516-bc42-fd710e93fe91&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:386,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;8134ea05-74d4-438e-9f7c-f2f759aa55bf&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an address&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 200 should update an address&quot;,&quot;duration&quot;:470,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/addresses/${addressLocal.id}`)\n\t.send({ address: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f5a59a5-a2fa-486d-9e33-cc4c21553d2d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2390a036-043b-418d-9234-aec3ee06a013&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually have updated address&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 200 should actually have updated address&quot;,&quot;duration&quot;:507,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.address).to.equal(&#x27;updated&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d1d91f9-e05a-4936-9859-58f209e387e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2f5a59a5-a2fa-486d-9e33-cc4c21553d2d&quot;,&quot;2390a036-043b-418d-9234-aec3ee06a013&quot;,&quot;5d1d91f9-e05a-4936-9859-58f209e387e5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:987,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;44dd73c7-0dab-4c1d-a0f8-82396c4b8691&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, address in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE \&quot;before all\&quot; hook: create customer, job site, address in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1796,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal.customer_id = customerResponse.body.id\nconst addressResponse = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal = addressResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbff2e42-c951-46ec-9e0f-e28d45e2c89c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE \&quot;after all\&quot; hook: delete address, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:547,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3788336-1328-4676-937c-65d59081416f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c3de5dde-f748-43f1-bf70-8b152657facf&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 401 should fail without auth&quot;,&quot;duration&quot;:311,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/addresses/${addressLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc1a136c-1d61-46ce-9da0-c26e340d63e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;403e4389-e92b-416b-81ff-9d51a2ff437c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bc1a136c-1d61-46ce-9da0-c26e340d63e1&quot;,&quot;403e4389-e92b-416b-81ff-9d51a2ff437c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:319,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d69a6ad2-87dd-4d41-abfa-636c0afb290a&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing address&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 404 should fail to delete a missing address&quot;,&quot;duration&quot;:288,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/addresses/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a5b78ae-e25d-4e5d-9c5b-6727a08dc6a5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77a6e386-1002-4681-8939-70236a34488c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0a5b78ae-e25d-4e5d-9c5b-6727a08dc6a5&quot;,&quot;77a6e386-1002-4681-8939-70236a34488c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:298,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;6aca9bc3-fd8b-4e59-918e-8bcbb7017334&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an address&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 200 should delete an address&quot;,&quot;duration&quot;:370,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;193d9b3b-c12d-4cd4-8920-ac745c420edc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6814da43-9f65-4dd4-a9c3-f78e18e4ce70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;193d9b3b-c12d-4cd4-8920-ac745c420edc&quot;,&quot;6814da43-9f65-4dd4-a9c3-f78e18e4ce70&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:378,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;4f1c7fcf-5ccf-4afc-89df-af5c35dd5d39&quot;,&quot;title&quot;:&quot;sites&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;423d9bcd-0a30-4cb9-8b87-9d18e7ac4fe5&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites POST \&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:989,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal.customer_id = customerResponse.body.id&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;873f99d4-a72e-4e5d-9866-80405bd8caf0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites POST \&quot;after all\&quot; hook: delete site, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:700,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;874df786-71ca-466c-be64-2b0685fc946e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6436fea3-1b04-4177-a410-df14851a7179&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites POST 401 should fail without auth&quot;,&quot;duration&quot;:335,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6c1fef8-16fa-484a-9167-a839e8a03601&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites POST 401 should satisfy api spec&quot;,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d20d8e1-cff3-4577-b56c-4e86fe5af1c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b6c1fef8-16fa-484a-9167-a839e8a03601&quot;,&quot;8d20d8e1-cff3-4577-b56c-4e86fe5af1c2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:349,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;7ed82787-d583-4d53-8096-b33ed254dfa4&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sites POST 400 should fail with invalid body&quot;,&quot;duration&quot;:377,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sites&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9552a382-4ff0-46d2-ac2e-fd108c46f429&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites POST 400 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53bb00f3-2a93-4f75-a7ac-3cddafa00ab1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9552a382-4ff0-46d2-ac2e-fd108c46f429&quot;,&quot;53bb00f3-2a93-4f75-a7ac-3cddafa00ab1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:386,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;2f753274-069b-405a-be80-6a42c358d63a&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an site&quot;,&quot;fullTitle&quot;:&quot;sites POST 201 should create an site&quot;,&quot;duration&quot;:494,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fabf5453-ef6b-41fe-b89a-39e0fe06624c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites POST 201 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68d69a10-6eeb-4a83-9259-f41b22072d42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually have created a site&quot;,&quot;fullTitle&quot;:&quot;sites POST 201 should actually have created a site&quot;,&quot;duration&quot;:376,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a031fa24-97f8-4803-a37b-b456056f4f23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fabf5453-ef6b-41fe-b89a-39e0fe06624c&quot;,&quot;68d69a10-6eeb-4a83-9259-f41b22072d42&quot;,&quot;a031fa24-97f8-4803-a37b-b456056f4f23&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:878,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;cd47465a-b07c-425e-992d-1748f7af5cac&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites GET \&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2421,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\nsiteLocal.customer_id = customerResponse.body.id\nconst siteResponse = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal = siteResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eae3d625-d035-40d4-bab7-169e9eabe267&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites GET \&quot;after all\&quot; hook: delete site, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:689,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c055e50d-fe74-4979-b5bb-37b67ab64520&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ab894514-0eb6-45f0-84ce-814259a2da5d&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites GET 401 should fail without auth&quot;,&quot;duration&quot;:311,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sites/${siteLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f950a8f6-c91d-48f0-8b72-8df82f6cbe24&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites GET 401 should satisfy api spec&quot;,&quot;duration&quot;:19,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;518adc28-a126-47dd-95f1-2e6b066eb6d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f950a8f6-c91d-48f0-8b72-8df82f6cbe24&quot;,&quot;518adc28-a126-47dd-95f1-2e6b066eb6d6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:330,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;b5fc1a00-38ec-41f7-bb5e-f2948303cf9f&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing site&quot;,&quot;fullTitle&quot;:&quot;sites GET 404 should fail to get missing site&quot;,&quot;duration&quot;:443,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/sites/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d75646e-2b60-42fb-b02e-f5a35c7c2e5c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites GET 404 should satisfy api spec&quot;,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1e55f80-e041-4b84-a940-68f45a1210f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0d75646e-2b60-42fb-b02e-f5a35c7c2e5c&quot;,&quot;d1e55f80-e041-4b84-a940-68f45a1210f6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:457,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;504849b1-e17c-431f-9945-c9c64023ebf7&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get a site&quot;,&quot;fullTitle&quot;:&quot;sites GET 200 should get a site&quot;,&quot;duration&quot;:397,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\n// update local reference with successful response body\nsiteLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;624942f6-a6c5-454a-b1ee-f7783279cefb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites GET 200 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7e38e26-bf45-456a-af6a-58a0c4994db8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;624942f6-a6c5-454a-b1ee-f7783279cefb&quot;,&quot;b7e38e26-bf45-456a-af6a-58a0c4994db8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:405,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;ab6a4e40-5b17-46be-aa0b-2b3040406a75&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, site in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites PATCH \&quot;before all\&quot; hook: create customer, job site, site in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1899,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\nsiteLocal.customer_id = customerResponse.body.id\nconst siteResponse = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal = siteResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0332c689-633d-47de-8f42-fd595264e2ee&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites PATCH \&quot;after all\&quot; hook: delete site, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:716,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e8355b9-1f6a-4285-a036-fe87738fa61d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ec36c386-25ec-42bc-aafd-d34234a6b955&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 401 should fail without auth&quot;,&quot;duration&quot;:317,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sites/${siteLocal.id}`)\n\t.send(siteLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea10c90d-be79-4726-a44f-8c99d8678dd7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;859afa59-d09c-466c-9bc2-b9f16d415fac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ea10c90d-be79-4726-a44f-8c99d8678dd7&quot;,&quot;859afa59-d09c-466c-9bc2-b9f16d415fac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:333,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;eef15711-8072-4eb7-885c-ab05167b567f&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:475,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sites/${siteLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\nexpect(response.status).to.equal(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7df5cf42-a6e3-4318-a3d7-668896235c0e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a22e65c8-cfc0-4920-9930-1176a122ff63&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7df5cf42-a6e3-4318-a3d7-668896235c0e&quot;,&quot;a22e65c8-cfc0-4920-9930-1176a122ff63&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:486,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;68bce55b-532f-442c-a60c-9ec82176afb5&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing site body&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 404 should fail to update missing site body&quot;,&quot;duration&quot;:392,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nconst siteWithoutId = { ...siteLocal }\ndelete siteWithoutId.id\nresponse = await request.patch(`/sites/${missingId}`)\n\t.send(siteWithoutId)\n\t.auth(username, password)\nexpect(response.status).to.equal(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;30441f23-ee55-410e-aa38-0047ed68cb56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3adc7a73-25d8-4b95-9f6c-2d77437c1463&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;30441f23-ee55-410e-aa38-0047ed68cb56&quot;,&quot;3adc7a73-25d8-4b95-9f6c-2d77437c1463&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:400,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;72f3d1f5-f265-44a9-9339-1899821e3f67&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an site&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 200 should update an site&quot;,&quot;duration&quot;:478,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sites/${siteLocal.id}`)\n\t.send({ project_name: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;225a4ff0-f14b-4880-ac54-40dc712d73cf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8676309d-3cc3-4ccc-8bac-547626be35ba&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually update customer_id&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 200 should actually update customer_id&quot;,&quot;duration&quot;:392,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.project_name).to.equal(&#x27;updated&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a54e1aed-7bb9-46c1-85ef-c897a3179eea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;225a4ff0-f14b-4880-ac54-40dc712d73cf&quot;,&quot;8676309d-3cc3-4ccc-8bac-547626be35ba&quot;,&quot;a54e1aed-7bb9-46c1-85ef-c897a3179eea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:879,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;04ed345a-15ab-43d6-b1e9-be32cbe5a949&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, site in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites DELETE \&quot;before all\&quot; hook: create customer, site in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1993,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal.customer_id = customerResponse.body.id\nconst siteResponse = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal = siteResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b865349-70d6-457f-8232-2d93f07c08b9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites DELETE \&quot;after all\&quot; hook: delete site, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:508,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70dadbf6-1557-4a0e-afa6-7bd0815dcb25&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;db8b2439-a477-49ac-bbd7-ecb14223530a&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 401 should fail without auth&quot;,&quot;duration&quot;:289,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/sites/${siteLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f43f9ee2-a92b-43b6-89f7-1525c9c0c76b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6fb6bd9a-2d10-4c66-80eb-aa3508c37ef7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f43f9ee2-a92b-43b6-89f7-1525c9c0c76b&quot;,&quot;6fb6bd9a-2d10-4c66-80eb-aa3508c37ef7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:297,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;50dc8b32-fd59-4027-a445-a610646f3a53&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing site&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 404 should fail to delete a missing site&quot;,&quot;duration&quot;:282,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/sites/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eae71a32-b045-4352-bab7-c9b270dd5dcd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3adade61-c010-4fde-99f5-e8ca025cccca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eae71a32-b045-4352-bab7-c9b270dd5dcd&quot;,&quot;3adade61-c010-4fde-99f5-e8ca025cccca&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:290,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;709fc2f3-e71b-4566-b327-e809eb6a1729&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an site&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 200 should delete an site&quot;,&quot;duration&quot;:253,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00b307af-0d00-4792-8935-57c22ce1463c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;14eac2ad-11f3-4ab3-ac2d-8c8ad5ec4a54&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;00b307af-0d00-4792-8935-57c22ce1463c&quot;,&quot;14eac2ad-11f3-4ab3-ac2d-8c8ad5ec4a54&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:260,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;ee5990bd-991b-4c7e-8429-ea79e33941ef&quot;,&quot;title&quot;:&quot;orders&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;69a0d6c3-04e5-4489-be9e-05d97c1215d8&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders POST \&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1130,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3bf4e20-8dd1-4953-8d0d-1c1315abb99b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders POST \&quot;after all\&quot; hook: delete order, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1062,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;39ec60fc-cf51-40a6-9c6a-e086164dbbd6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;cacc394b-466e-4a6b-9c7b-85decec7612b&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders POST 401 should fail without auth&quot;,&quot;duration&quot;:380,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6013e7de-414e-48d2-8407-0440b8db6f0f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders POST 401 should satisfy api spec&quot;,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e3828609-0df4-4722-af55-40348a616899&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6013e7de-414e-48d2-8407-0440b8db6f0f&quot;,&quot;e3828609-0df4-4722-af55-40348a616899&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:392,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;dd9919ca-41bb-450d-ab2c-dd512cc82170&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;orders POST 400 should fail with invalid body&quot;,&quot;duration&quot;:378,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/orders&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11edbcc9-d38b-4d88-879c-61b97ba1cc14&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders POST 400 should satisfy api spec&quot;,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b9b32ee-2dd9-47bd-a9f5-21a42131f48b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;11edbcc9-d38b-4d88-879c-61b97ba1cc14&quot;,&quot;6b9b32ee-2dd9-47bd-a9f5-21a42131f48b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:385,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d470483b-b721-40c8-86de-c15147990741&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an order&quot;,&quot;fullTitle&quot;:&quot;orders POST 201 should create an order&quot;,&quot;duration&quot;:629,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27371ebd-75ac-4560-81ae-3d825260bc07&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders POST 201 should satisfy api spec&quot;,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;664d50d9-ca5d-40b4-bc9b-51ae40e35338&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;27371ebd-75ac-4560-81ae-3d825260bc07&quot;,&quot;664d50d9-ca5d-40b4-bc9b-51ae40e35338&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:645,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;3afbfcb5-5dcc-4a31-aa48-6c16b5db252d&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders GET \&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2502,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5c5c861-66cf-4339-98c2-871e7840ad3d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders GET \&quot;after all\&quot; hook: delete order, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1184,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ea06e96-c374-4f1c-94d6-128739569bad&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;45377289-c4f0-47d1-a9b9-c14a71cd2428&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders GET 401 should fail without auth&quot;,&quot;duration&quot;:386,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/orders/${orderLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;311c319d-183a-4f77-be5e-d6e768a5a383&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders GET 401 should satisfy api spec&quot;,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1aae4eb-f60e-4a99-8629-d6df65c3286e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;311c319d-183a-4f77-be5e-d6e768a5a383&quot;,&quot;e1aae4eb-f60e-4a99-8629-d6df65c3286e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:398,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;6c7ed51a-9d45-4c20-a3bf-2dd36377280b&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing order&quot;,&quot;fullTitle&quot;:&quot;orders GET 404 should fail to get missing order&quot;,&quot;duration&quot;:415,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/orders/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90cf67a3-9857-4b47-8772-08da9a9ef5c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders GET 404 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8a53bd9f-fb58-417f-be50-6d027133cea5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;90cf67a3-9857-4b47-8772-08da9a9ef5c6&quot;,&quot;8a53bd9f-fb58-417f-be50-6d027133cea5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:423,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;cab07fa1-6e1b-4df2-b96c-7b207566c41a&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an order&quot;,&quot;fullTitle&quot;:&quot;orders GET 200 should get an order&quot;,&quot;duration&quot;:362,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6ccdc4d-3946-4bc1-ae01-3aefbd12da48&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders GET 200 should satisfy api spec&quot;,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04d19a0a-1343-42e7-a0a5-b1d8c11f0b93&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c6ccdc4d-3946-4bc1-ae01-3aefbd12da48&quot;,&quot;04d19a0a-1343-42e7-a0a5-b1d8c11f0b93&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:377,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;9db8b6a8-dbf6-44a0-9ea6-0ab58638a006&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders PATCH \&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:2115,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a379374b-4a79-478b-aaab-8fa76b5cc93c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders PATCH \&quot;after all\&quot; hook: delete order, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1095,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7689bf66-8864-4e07-879d-248abc353b7a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4f1e9efa-c2a2-4a71-aafa-0ac0bf3d319d&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 401 should fail without auth&quot;,&quot;duration&quot;:412,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/orders/${orderLocal.id}`)\n\t.send(orderLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;964c2dc5-23b5-4540-8c0d-02c808cb87cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1395ec59-d52e-4224-ab3c-183acf8b65bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;964c2dc5-23b5-4540-8c0d-02c808cb87cc&quot;,&quot;1395ec59-d52e-4224-ab3c-183acf8b65bf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:427,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c573d4f1-9bd3-4ba1-9637-5d4c6c7faa65&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:367,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/orders/${orderLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c769726-ca9d-416c-bae6-5aa76e7b98d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7424fba2-24a1-464d-8353-e3e68ab68fe1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2c769726-ca9d-416c-bae6-5aa76e7b98d2&quot;,&quot;7424fba2-24a1-464d-8353-e3e68ab68fe1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:378,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;74d9de7e-2b25-44c2-bd8a-d2b2a0569cad&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 404 should fail to update missing order body&quot;,&quot;duration&quot;:311,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nconst orderWithoutId = { ...orderLocal }\ndelete orderWithoutId.id\nresponse = await request.patch(`/orders/${missingId}`)\n\t.send(orderWithoutId)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdc13e94-ec7f-4b32-bb84-c1bddd0b88b1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b0c163e-0017-4409-97c8-2575cdf2d077&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bdc13e94-ec7f-4b32-bb84-c1bddd0b88b1&quot;,&quot;2b0c163e-0017-4409-97c8-2575cdf2d077&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:320,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;5eda6c57-4d22-4bcc-b26b-6556103a9111&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an order&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 200 should update an order&quot;,&quot;duration&quot;:467,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/orders/${orderLocal.id}`)\n\t.send({ status_code: &#x27;200&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;599b6ad5-4f00-407f-b0b7-da7d21b07510&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91cb2fd3-2521-4183-b104-25e524a9e85b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually update order&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 200 should actually update order&quot;,&quot;duration&quot;:316,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.status_code).to.equal(&#x27;200&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d840e93f-99e3-4244-aceb-c92fd9f0d347&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;599b6ad5-4f00-407f-b0b7-da7d21b07510&quot;,&quot;91cb2fd3-2521-4183-b104-25e524a9e85b&quot;,&quot;d840e93f-99e3-4244-aceb-c92fd9f0d347&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:798,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;b323d2f6-2f73-4e48-a968-dd0395062211&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders DELETE \&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1363,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5dbe0f45-6091-4b13-a2d6-87114dd6d22b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders DELETE \&quot;after all\&quot; hook: delete order, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:874,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7341dc39-480b-44d5-9a33-71d6b09a8af6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ce7b5a90-e4e1-417e-bcf7-78637f36bcc8&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 401 should fail without auth&quot;,&quot;duration&quot;:255,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/orders/${orderLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6771d079-c2bf-4d1b-a497-b56252ae2ae3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8fbcae88-030a-4589-a7ab-007033904b27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6771d079-c2bf-4d1b-a497-b56252ae2ae3&quot;,&quot;8fbcae88-030a-4589-a7ab-007033904b27&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:263,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;b1db0807-d9f5-4a2e-bf78-56b57ef30a96&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing order&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 404 should fail to delete a missing order&quot;,&quot;duration&quot;:255,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/orders/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6296e642-edfe-4684-a11e-867179424635&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52a0fff3-9369-4e1c-b69e-7c77d10f7368&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6296e642-edfe-4684-a11e-867179424635&quot;,&quot;52a0fff3-9369-4e1c-b69e-7c77d10f7368&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:262,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;706c4583-8f85-4d99-839f-209a1c838ab2&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an order&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 200 should delete an order&quot;,&quot;duration&quot;:260,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1a9ebd1-cbd0-4c04-aa0f-345db1f48f46&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c07b8522-2301-4c11-bf54-04a2767137d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e1a9ebd1-cbd0-4c04-aa0f-345db1f48f46&quot;,&quot;c07b8522-2301-4c11-bf54-04a2767137d5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:267,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;81e9af22-b08d-4fd1-af16-578c9578fc64&quot;,&quot;title&quot;:&quot;estimates&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;434da953-8740-4a53-a93a-c9bf97cd2c38&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates POST \&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1043,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal.customer_id = customerResponse.body.id\nestimateLocal.site_id = customerResponse.body.site_id&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f47cfac-0cbc-45d7-b561-fccd60065e61&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates POST \&quot;after all\&quot; hook: delete estimate, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1166,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ed43ae1-3888-488a-b857-8a8759a7386b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7cf8ef02-007e-44ee-a021-59ec08a4f567&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates POST 401 should fail without auth&quot;,&quot;duration&quot;:369,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3f95075-a092-4bac-90fb-173677418f3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates POST 401 should satisfy api spec&quot;,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42580867-26d9-4fd9-94a6-ea04d2ac9f31&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c3f95075-a092-4bac-90fb-173677418f3b&quot;,&quot;42580867-26d9-4fd9-94a6-ea04d2ac9f31&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:384,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d1b4daa7-6097-4409-916a-0cac4ef518e9&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;estimates POST 400 should fail with invalid body&quot;,&quot;duration&quot;:476,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/estimates&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ddb9119d-6a31-45c0-abea-d843954af6ea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates POST 400 should satisfy api spec&quot;,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36e43d4f-406e-4bd8-8718-769ae73dcbfd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ddb9119d-6a31-45c0-abea-d843954af6ea&quot;,&quot;36e43d4f-406e-4bd8-8718-769ae73dcbfd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:483,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c444a72e-ab66-43e4-b91d-5747ef2c95da&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates POST 201 should create an estimate&quot;,&quot;duration&quot;:620,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;742acc90-eee4-476c-903c-d64b720b5544&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates POST 201 should satisfy api spec&quot;,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71a0b623-d175-442c-a34b-0e9c5a9cafbf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually have created an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates POST 201 should actually have created an estimate&quot;,&quot;duration&quot;:275,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.get(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6af9142a-fd12-4032-92dd-24f2dbcf7284&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;742acc90-eee4-476c-903c-d64b720b5544&quot;,&quot;71a0b623-d175-442c-a34b-0e9c5a9cafbf&quot;,&quot;6af9142a-fd12-4032-92dd-24f2dbcf7284&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:909,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;a19e49e1-d499-40a2-bd89-fbc73d2aa99e&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates GET \&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2631,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\nestimateLocal.customer_id = customerResponse.body.id\nestimateLocal.site_id = customerResponse.body.site_id\nconst estimateResponse = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal = estimateResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;66c6efdf-3012-4e27-bd28-08dc4651fffa&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates GET \&quot;after all\&quot; hook: delete estimate, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1177,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d7181cae-097b-44d7-8acc-0408ef50a023&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6fb956ef-89ca-4014-baa2-f69364655275&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates GET 401 should fail without auth&quot;,&quot;duration&quot;:417,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/estimates/${estimateLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d02f70be-15cc-43c1-aece-e1094c772f41&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates GET 401 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d90805e-2d7c-490d-b87d-23e8df26fde3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d02f70be-15cc-43c1-aece-e1094c772f41&quot;,&quot;0d90805e-2d7c-490d-b87d-23e8df26fde3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:426,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;24434a9d-180d-4e17-b11b-6b3d76d170f6&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing estimate&quot;,&quot;fullTitle&quot;:&quot;estimates GET 404 should fail to get missing estimate&quot;,&quot;duration&quot;:358,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/estimates/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05c25201-e38b-438a-be33-7e04d6b05f37&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates GET 404 should satisfy api spec&quot;,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c9c51ae-f286-4662-89ab-c9b9b629589c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;05c25201-e38b-438a-be33-7e04d6b05f37&quot;,&quot;7c9c51ae-f286-4662-89ab-c9b9b629589c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:371,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;42613d93-03bc-4daa-9737-ae9669e6ca5e&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates GET 200 should get an estimate&quot;,&quot;duration&quot;:396,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4b934e1-9d33-4f56-9c4d-57a709c07e8e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates GET 200 should satisfy api spec&quot;,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1f627d7-4bf3-4a39-b6b1-fb12d740603d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f4b934e1-9d33-4f56-9c4d-57a709c07e8e&quot;,&quot;f1f627d7-4bf3-4a39-b6b1-fb12d740603d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:407,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;b2f994af-d3e3-44ea-b509-7b5a1e443286&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH \&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:2199,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;customerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = customerResponse.body\n// Add required object references to example data before create\nestimateLocal.customer_id = customerLocal.id\nestimateLocal.site_id = customerLocal.site_id\nconst estimateResponse = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal = estimateResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8185301f-cd24-477f-9b1d-53b508e9fcd3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH \&quot;after all\&quot; hook: delete estimate, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:782,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0333d3c-43af-48f6-a382-f44136aec289&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;889f31a5-386b-4aee-9767-4686c2755e77&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 401 should fail without auth&quot;,&quot;duration&quot;:317,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/estimates/${estimateLocal.id}`)\n\t.send(estimateLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;093b93e9-ca9d-403d-89f6-12376e5f9e34&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ccd56e1-576d-4d0e-9444-d6ca2af7b720&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;093b93e9-ca9d-403d-89f6-12376e5f9e34&quot;,&quot;7ccd56e1-576d-4d0e-9444-d6ca2af7b720&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:333,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;091e7e26-08d1-423d-81cb-f104a1e98e04&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:256,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/estimates/${estimateLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c9fdd33-0707-4ad4-8c29-620a8d21a712&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d2e6230-eff7-4684-8361-3270f427d972&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9c9fdd33-0707-4ad4-8c29-620a8d21a712&quot;,&quot;0d2e6230-eff7-4684-8361-3270f427d972&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:266,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;599b8b73-27bc-46aa-a79f-16684eb84685&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing estimate body&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 404 should fail to update missing estimate body&quot;,&quot;duration&quot;:394,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nconst estimateLocalWithoutId = { ...estimateLocal }\ndelete estimateLocalWithoutId.id\nresponse = await request.patch(`/estimates/${missingId}`)\n\t.send(estimateLocalWithoutId)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4b8dc09-edce-4b8d-b48b-ee5e4217df1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2061fdf1-3081-4b5a-a8dd-12caa50544cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f4b8dc09-edce-4b8d-b48b-ee5e4217df1c&quot;,&quot;2061fdf1-3081-4b5a-a8dd-12caa50544cc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:403,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;8c980e55-4807-4865-b029-619eb1bfd634&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create second customer in \&quot;200\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 \&quot;before all\&quot; hook: create second customer in \&quot;200\&quot;&quot;,&quot;duration&quot;:1410,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;secondCustomer = { ...customer }\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(secondCustomer)\n\t.auth(username, password)\n\t.expect(201)\nsecondCustomer = customerResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9d2cb94-db8d-44bd-b4ef-ba3d6f69a566&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete second customer in \&quot;200\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 \&quot;after all\&quot; hook: delete second customer in \&quot;200\&quot;&quot;,&quot;duration&quot;:553,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.patch(`/estimates/${estimateLocal.id}`)\n\t.send({ customer_id: customerLocal.id })\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${secondCustomer.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bac7fa9b-aa09-409b-b151-bce36c9e98af&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 should update an estimate&quot;,&quot;duration&quot;:288,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/estimates/${estimateLocal.id}`)\n\t.send({ customer_id: secondCustomer.id })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e74e5a1-edc1-44b1-a4b0-fa46d47ac094&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3800883-a93f-45fc-b128-d77f96192983&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually update customer_id&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 should actually update customer_id&quot;,&quot;duration&quot;:305,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\nexpect(response.body.customer_id).to.equal(secondCustomer.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d217a398-4bda-4d0f-8d84-1fc4b2177061&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3e74e5a1-edc1-44b1-a4b0-fa46d47ac094&quot;,&quot;d3800883-a93f-45fc-b128-d77f96192983&quot;,&quot;d217a398-4bda-4d0f-8d84-1fc4b2177061&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:608,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;77ea2bc0-17b3-493e-80c7-40b21748964a&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE \&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1312,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal.customer_id = customerResponse.body.id\nestimateLocal.site_id = customerResponse.body.site_id\nconst estimateResponse = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal = estimateResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9362286-ce06-48a0-aaf5-e28b6e701870&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE \&quot;after all\&quot; hook: delete estimate, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:788,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ccba14a4-32a6-4371-9efd-cf7f400512a0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6c3e6d3d-4bea-4a04-ab78-51bede831052&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 401 should fail without auth&quot;,&quot;duration&quot;:266,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/estimates/${estimateLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd2623a3-3d6c-404c-b1f0-6fd0de9e2e5d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9b799b4-0d4f-4865-8b17-e94e5f221c4c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dd2623a3-3d6c-404c-b1f0-6fd0de9e2e5d&quot;,&quot;d9b799b4-0d4f-4865-8b17-e94e5f221c4c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:274,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;5791ac9d-90c0-4a67-97cb-60a9a8e1c09c&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing estimate&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 404 should fail to delete a missing estimate&quot;,&quot;duration&quot;:245,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/estimates/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f138f6d3-2cbe-4fda-aa82-fbcc1af548e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc1b99a0-f851-4ce8-92dc-25050c623066&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f138f6d3-2cbe-4fda-aa82-fbcc1af548e2&quot;,&quot;cc1b99a0-f851-4ce8-92dc-25050c623066&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:254,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;5e885115-1c9e-4b21-b27d-9f7913fca75a&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 200 should delete an estimate&quot;,&quot;duration&quot;:263,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb93d988-8c33-4fa4-ac7e-cee6da26e65b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1d3294e-8e8b-45e6-9b6d-c97815926115&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bb93d988-8c33-4fa4-ac7e-cee6da26e65b&quot;,&quot;e1d3294e-8e8b-45e6-9b6d-c97815926115&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:270,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;20d5c085-ef4b-466a-81c4-19938817f01c&quot;,&quot;title&quot;:&quot;items&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;70c3d990-da71-4ea5-806c-b4d974e14b8e&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;items POST \&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;duration&quot;:2036,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\norderLocal.estimate_id = customerResponse.body.estimate_id&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;286d0f48-4e2b-43dd-b8c7-84d18903d1cd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, jobsite, estimate, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;items POST \&quot;after all\&quot; hook: delete order, jobsite, estimate, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1506,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/estimates/${orderLocal.estimate_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61a3dc07-72b2-40a1-aa8b-c808eff18626&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;82ebf109-c63d-4be5-93f9-98df5c4f7c94&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items POST 401 should fail without auth&quot;,&quot;duration&quot;:454,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/items&#x27;)\n\t.send(item)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffc52ef8-9dcf-4c57-9d76-e70fa2dabaac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 401 should satisfy api spec&quot;,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3046bd96-d021-40c3-89b1-7762265b9a50&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ffc52ef8-9dcf-4c57-9d76-e70fa2dabaac&quot;,&quot;3046bd96-d021-40c3-89b1-7762265b9a50&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:468,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;5526812a-4058-48fd-aaf5-b42603feb2a2&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;items POST 400 should fail with invalid body&quot;,&quot;duration&quot;:249,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/items&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d446273a-96b5-4db3-8222-be9dd6437e10&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 400 should satisfy api spec&quot;,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d28e2db-0dc9-458a-95d9-f9eb0737cb30&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d446273a-96b5-4db3-8222-be9dd6437e10&quot;,&quot;5d28e2db-0dc9-458a-95d9-f9eb0737cb30&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:256,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d4243061-6844-4af7-b0b7-3e5859be13a3&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ee6c2118-b0ad-4805-8b5b-24a999463524&quot;,&quot;title&quot;:&quot;order&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item in \&quot;order\&quot;&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order \&quot;after all\&quot; hook: delete item in \&quot;order\&quot;&quot;,&quot;duration&quot;:421,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemResponse.body.id}`)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb1b70ec-c7b8-4305-8a8e-b90fcc116ecc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order should create an item&quot;,&quot;duration&quot;:449,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemLocal.order_id = orderLocal.id\nitemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;833ab7f8-1372-45f5-9a68-1cbb16a4360f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order should satisfy api spec&quot;,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d1daf0b-e1f3-487b-a5ec-c4fc926e1755&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be visible on the order&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order should be visible on the order&quot;,&quot;duration&quot;:467,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const orderResponse = await request\n\t.get(`/orders/${orderLocal.id}`)\n\t.query({ items: true })\n\t.auth(username, password)\n\t.expect(200)\nexpect(orderResponse.body.items.length).to.equal(1)\nexpect(orderResponse.body.items[0].id).to.equal(itemResponse.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d75cc904-8590-448b-886a-41c828199958&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;833ab7f8-1372-45f5-9a68-1cbb16a4360f&quot;,&quot;7d1daf0b-e1f3-487b-a5ec-c4fc926e1755&quot;,&quot;d75cc904-8590-448b-886a-41c828199958&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:928,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f4b5b334-52e6-40c0-b554-b59c0b1b73ae&quot;,&quot;title&quot;:&quot;estimate&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item in \&quot;estimate\&quot;&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate \&quot;after all\&quot; hook: delete item in \&quot;estimate\&quot;&quot;,&quot;duration&quot;:412,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemResponse.body.id}`)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3083fd4-0031-4656-81f2-6ec48f0d7a28&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate should create an item&quot;,&quot;duration&quot;:401,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemLocal.estimate_id = orderLocal.estimate_id\nitemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28684b36-c20b-4797-8cc4-96599b344322&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate should satisfy api spec&quot;,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b47e64b-ccd6-4dca-98dc-2a224e87609a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be visible on the estimate&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate should be visible on the estimate&quot;,&quot;duration&quot;:467,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const estimateResponse = await request.get(`/estimates/${orderLocal.estimate_id}`)\n\t.query({ items: true })\n\t.auth(username, password)\n\t.expect(200)\nexpect(estimateResponse.body.items.length).to.equal(1)\nexpect(estimateResponse.body.items[0].id).to.equal(itemResponse.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc6ca8f7-6eea-431f-8732-3cfcd9b4a864&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;28684b36-c20b-4797-8cc4-96599b344322&quot;,&quot;9b47e64b-ccd6-4dca-98dc-2a224e87609a&quot;,&quot;cc6ca8f7-6eea-431f-8732-3cfcd9b4a864&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:880,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c0541c4b-fa68-41f4-9920-9b9b2bf1feba&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;items GET \&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1614,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;customerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\ncustomerLocal = customerResponse.body\nitemLocal.estimate_id = customerResponse.body.estimate_id\nconst itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)\nitemLocal = itemResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4dc1364e-5e43-44c4-82c0-1d66f357952f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item, estimate, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;items GET \&quot;after all\&quot; hook: delete item, estimate, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1618,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/estimates/${customerLocal.estimate_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${customerLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40837f17-6886-4147-b7b2-729f67d0cd6d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1e6c35b7-7bef-4bca-b173-2b2b28cf5bb6&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items GET 401 should fail without auth&quot;,&quot;duration&quot;:373,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/items/${itemLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ccfb4994-d90b-4ec6-ac1d-0c82abf48e53&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items GET 401 should satisfy api spec&quot;,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e570d20-0f07-4d1d-8045-b295db4e96e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ccfb4994-d90b-4ec6-ac1d-0c82abf48e53&quot;,&quot;6e570d20-0f07-4d1d-8045-b295db4e96e9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:388,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;1c9c5fec-e456-4849-9098-d44771c339aa&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing item&quot;,&quot;fullTitle&quot;:&quot;items GET 404 should fail to get missing item&quot;,&quot;duration&quot;:379,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/items/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9c61907-f7ed-4cd3-a427-4be982ecbbf9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items GET 404 should satisfy api spec&quot;,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ee1c1c7-4867-4890-851a-04d8efc0b56f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f9c61907-f7ed-4cd3-a427-4be982ecbbf9&quot;,&quot;2ee1c1c7-4867-4890-851a-04d8efc0b56f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:392,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f9b8e96a-fd94-4756-9cf6-0c7cdfa62c09&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an item&quot;,&quot;fullTitle&quot;:&quot;items GET 200 should get an item&quot;,&quot;duration&quot;:384,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;89039ce5-ee98-431c-84af-c2fb33f395cd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items GET 200 should satisfy api spec&quot;,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd095bd6-89cf-4b5f-81b4-65453f92ff66&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;89039ce5-ee98-431c-84af-c2fb33f395cd&quot;,&quot;fd095bd6-89cf-4b5f-81b4-65453f92ff66&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:398,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f724d975-86fe-485c-af78-d047dfb49e0f&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;items PATCH \&quot;before all\&quot; hook: create customer, job site in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1697,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;customerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\nitemLocal.estimate_id = customerResponse.body.estimate_id\ncustomerLocal = customerResponse.body\nconst itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)\nitemLocal = itemResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53e58f93-7d2e-4079-80e4-71d4c1917dd8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item, estimate, site, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;items PATCH \&quot;after all\&quot; hook: delete item, estimate, site, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1016,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/estimates/${customerLocal.estimate_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${customerLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50abf8b4-1cfe-4e79-b2e2-6e048399c4dd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8f757b09-8240-4509-8eb5-0b9ec443fa9b&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items PATCH 401 should fail without auth&quot;,&quot;duration&quot;:305,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/items/${itemLocal.id}`)\n\t.send(itemLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;083205cf-4522-47b5-aa7f-f00c20943137&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a7ee5d02-8b44-4db8-b40c-d8f44bda6065&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;083205cf-4522-47b5-aa7f-f00c20943137&quot;,&quot;a7ee5d02-8b44-4db8-b40c-d8f44bda6065&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:314,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e96df753-f8de-40c2-817f-ca308bd8f62c&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;items PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:306,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/items/${itemLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;09c5071f-e0ac-4d74-bb07-1e450613e9c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c562e6f1-741a-4fdc-bddc-72657ba23643&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;09c5071f-e0ac-4d74-bb07-1e450613e9c5&quot;,&quot;c562e6f1-741a-4fdc-bddc-72657ba23643&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:314,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;bdb839e4-753d-4fb3-ba87-ec6ec6a8f26b&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;items PATCH 404 should fail to update missing order body&quot;,&quot;duration&quot;:282,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/items/${missingId}`)\n\t.send({ notes: &#x27;test patch&#x27; })\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af9502e4-f680-44a0-9d2f-d3c279e49f8f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;88cbd62c-e829-41b6-8bba-ff131dd060d9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;af9502e4-f680-44a0-9d2f-d3c279e49f8f&quot;,&quot;88cbd62c-e829-41b6-8bba-ff131dd060d9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:290,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f93197c2-9968-403c-8115-3ffba03c6e08&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an item&quot;,&quot;fullTitle&quot;:&quot;items PATCH 200 should update an item&quot;,&quot;duration&quot;:373,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/items/${itemLocal.id}`)\n\t.send({ room: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e2347e7-61e3-4e1f-a090-a79857c72e28&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3f05306-cddd-4c7f-a03f-4428e9d84b9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually update item&quot;,&quot;fullTitle&quot;:&quot;items PATCH 200 should actually update item&quot;,&quot;duration&quot;:283,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.room).to.equal(&#x27;updated&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9da3bb96-f3ea-41a7-a7e9-60dbf5ae7b27&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7e2347e7-61e3-4e1f-a090-a79857c72e28&quot;,&quot;d3f05306-cddd-4c7f-a03f-4428e9d84b9d&quot;,&quot;9da3bb96-f3ea-41a7-a7e9-60dbf5ae7b27&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:667,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;40b12fb8-a2a5-4887-8bc8-4217678f4667&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;items DELETE \&quot;before all\&quot; hook: create customer, job site in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1174,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;customerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\nitemLocal.estimate_id = customerResponse.body.estimate_id\ncustomerLocal = customerResponse.body\nconst itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)\nitemLocal = itemResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f90b8de6-f659-408e-a478-c5456eca5f22&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimtae, job_site, item, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;items DELETE \&quot;after all\&quot; hook: delete estimtae, job_site, item, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1033,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/sites/${customerLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/estimates/${customerLocal.estimate_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60594e6a-547e-46fe-b436-ac0af9a547da&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;79d23272-b7f6-4fb7-8e32-a9985e6c4362&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items DELETE 401 should fail without auth&quot;,&quot;duration&quot;:252,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/items/${itemLocal.id}`)\n\t.send(itemLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fdc23e74-1d46-485f-990c-1d3175754878&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fd62a0a-f797-4f05-a71b-588414a5ff8c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fdc23e74-1d46-485f-990c-1d3175754878&quot;,&quot;1fd62a0a-f797-4f05-a71b-588414a5ff8c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:260,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;a207207d-6ce8-4adb-9bed-2032c38dedcd&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete missing order body&quot;,&quot;fullTitle&quot;:&quot;items DELETE 404 should fail to delete missing order body&quot;,&quot;duration&quot;:256,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/items/${missingId}`)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec027c85-7803-4c08-a2e5-cd6e38f85ca6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11dc830b-c7fb-4538-bfaa-aadfd2c574ed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ec027c85-7803-4c08-a2e5-cd6e38f85ca6&quot;,&quot;11dc830b-c7fb-4538-bfaa-aadfd2c574ed&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:263,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;898aec86-c583-4c1d-9102-f863b5af2a05&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an item&quot;,&quot;fullTitle&quot;:&quot;items DELETE 200 should delete an item&quot;,&quot;duration&quot;:280,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1aa706a3-0714-4fb1-8879-95b0088d103c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2ae55d9-14bc-4c9c-8ef5-42230309c5bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1aa706a3-0714-4fb1-8879-95b0088d103c&quot;,&quot;e2ae55d9-14bc-4c9c-8ef5-42230309c5bd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:287,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;673f19e1-f307-421b-b512-62fee24a6873&quot;,&quot;title&quot;:&quot;payments&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6e3c8fc0-8944-4838-aace-d30b47995faf&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments POST \&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1697,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst response = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = response.body.id\norderLocal.site_id = response.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\npaymentLocal.order_id = orderResponse.body.id&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce4ff650-bb15-42d2-b8a8-1fd3a5cbadf5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments POST \&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1382,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e24787e-ac8e-440d-b56d-2c56ffe08c1e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ffadb55f-1a54-4a3a-81d5-04b110c21c30&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments POST 401 should fail without auth&quot;,&quot;duration&quot;:311,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/payments&#x27;)\n\t.send(payment)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5564871a-bb2b-4a64-a50b-17a3fcb86417&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments POST 401 should satisfy api spec&quot;,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba2dc7e0-1f13-4817-a1e2-56c610924042&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5564871a-bb2b-4a64-a50b-17a3fcb86417&quot;,&quot;ba2dc7e0-1f13-4817-a1e2-56c610924042&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:326,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0b1b684e-471e-45f4-a35d-8ffeb0b38951&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;payments POST 400 should fail with invalid body&quot;,&quot;duration&quot;:390,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/payments&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;156fb0c4-8e28-42d4-a1e7-c46450d94ad3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments POST 400 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3540eeb8-4e5e-4dd2-8fb9-46a19f4a833b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;156fb0c4-8e28-42d4-a1e7-c46450d94ad3&quot;,&quot;3540eeb8-4e5e-4dd2-8fb9-46a19f4a833b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:399,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;ddd0d93e-9591-416e-a065-b163b22a2612&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete payment in \&quot;201\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 \&quot;after all\&quot; hook: delete payment in \&quot;201\&quot;&quot;,&quot;duration&quot;:328,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2460439a-49cf-4979-b16d-8f4c0fed93b9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a payment&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 should create a payment&quot;,&quot;duration&quot;:265,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/payments&#x27;)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;acba0d6c-6331-41d0-a141-52cf129e607f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1d3944a-cad9-4a98-bc26-224d9f940f34&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be visible on the order&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 should be visible on the order&quot;,&quot;duration&quot;:309,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const orderResponse = await request.get(`/orders/${paymentLocal.order_id}`)\n\t.query({ payments: &#x27;true&#x27; })\n\t.auth(username, password)\n\t.expect(200)\nexpect(orderResponse.body.payments.length).to.equal(1)\nexpect(orderResponse.body.payments[0].id).to.equal(paymentLocal.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;140c2384-9293-48b6-abca-5c61562eae4c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;acba0d6c-6331-41d0-a141-52cf129e607f&quot;,&quot;d1d3944a-cad9-4a98-bc26-224d9f940f34&quot;,&quot;140c2384-9293-48b6-abca-5c61562eae4c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:583,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;4da59682-7df3-4b06-ac15-6e4662feea86&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments GET \&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2609,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\npaymentLocal.order_id = orderLocal.id\nconst paymentResponse = await request.post(&#x27;/payments&#x27;)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal = paymentResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c3d08c1-5d5e-4d83-a523-e75472244b68&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete payment, job_site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments GET \&quot;after all\&quot; hook: delete payment, job_site, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1493,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8153f3b0-e1c6-461c-900d-0e73cdde332f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;09008427-364e-41d2-9638-dfec71187840&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments GET 401 should fail without auth&quot;,&quot;duration&quot;:404,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/payments/${paymentLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52695acc-91c1-43c5-942f-76f05d4d926f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments GET 401 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c4087df-cbdb-482a-8378-0a611293c073&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;52695acc-91c1-43c5-942f-76f05d4d926f&quot;,&quot;7c4087df-cbdb-482a-8378-0a611293c073&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:413,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;9113e6dc-0a6b-4f0f-bf55-dda196d74b32&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing payment&quot;,&quot;fullTitle&quot;:&quot;payments GET 404 should fail to get missing payment&quot;,&quot;duration&quot;:378,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/payments/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fff5cde8-53cf-4e29-b1a5-011f2ef6ce6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments GET 404 should satisfy api spec&quot;,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bcbb9aa-1634-4cba-84e6-fc5d17690128&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fff5cde8-53cf-4e29-b1a5-011f2ef6ce6c&quot;,&quot;3bcbb9aa-1634-4cba-84e6-fc5d17690128&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:392,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;83c8fe69-b4bd-4b30-a9ae-a37b0ca97b08&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an payment&quot;,&quot;fullTitle&quot;:&quot;payments GET 200 should get an payment&quot;,&quot;duration&quot;:369,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9ce4a0a6-7569-47cb-b4a1-e7b321f2762d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments GET 200 should satisfy api spec&quot;,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5256d2a-649c-4c68-a389-d2403439b925&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9ce4a0a6-7569-47cb-b4a1-e7b321f2762d&quot;,&quot;d5256d2a-649c-4c68-a389-d2403439b925&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:380,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;6097261f-9db2-4909-a434-1eda29a1806b&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments PATCH \&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:2722,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\npaymentLocal.order_id = orderLocal.id\nconst paymentResponse = await request.post(&#x27;/payments&#x27;)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal = paymentResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b431058-78ee-42ee-8937-17e40843171e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments PATCH \&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1043,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;403e53e3-d0c7-4418-9de5-e293ab4d0168&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0b3f1d38-a178-42dd-a069-8a72708fb07d&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 401 should fail without auth&quot;,&quot;duration&quot;:382,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/payments/${paymentLocal.id}`)\n\t.send(paymentLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b3f9f52f-8dd9-4f0a-bdcb-6718de1550d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8cfc799-aaac-4518-b1ec-52cafb16f5ea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b3f9f52f-8dd9-4f0a-bdcb-6718de1550d4&quot;,&quot;b8cfc799-aaac-4518-b1ec-52cafb16f5ea&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:397,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;cf8cb14f-8155-48a5-8f90-f330e027bab8&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:388,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/payments/${paymentLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9b078cc0-63b6-460f-95e9-96baf25f820e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;428b91e8-7043-485e-8d3c-4410ccb4f4a5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9b078cc0-63b6-460f-95e9-96baf25f820e&quot;,&quot;428b91e8-7043-485e-8d3c-4410ccb4f4a5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:398,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;06a242b6-bb94-4e53-a501-051e2efc3e4c&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 404 should fail to update missing order body&quot;,&quot;duration&quot;:263,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/payments/${missingId}`)\n\t.send({ payment_amount: 10000 })\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c3cf2d33-9e07-4827-8cf2-b80e14d34482&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d29d8c00-952f-48d1-ad1b-844a17d6b53a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c3cf2d33-9e07-4827-8cf2-b80e14d34482&quot;,&quot;d29d8c00-952f-48d1-ad1b-844a17d6b53a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:271,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;52a5b991-fd6a-485b-a84e-6f947c713330&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an payment&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 200 should update an payment&quot;,&quot;duration&quot;:414,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/payments/${paymentLocal.id}`)\n\t.send({ payment_amount: 500 })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f52801ee-9839-4a5c-ac20-b474fc1b7e6a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47beb87d-c392-4c22-8495-24a96a878202&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually update payment&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 200 should actually update payment&quot;,&quot;duration&quot;:290,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.payment_amount).to.equal(500)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a772b86e-4506-4469-a580-ea4b61b76de1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f52801ee-9839-4a5c-ac20-b474fc1b7e6a&quot;,&quot;47beb87d-c392-4c22-8495-24a96a878202&quot;,&quot;a772b86e-4506-4469-a580-ea4b61b76de1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:713,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;2b931883-97de-4d12-aa2f-3313c27cb352&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments DELETE \&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1539,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\npaymentLocal.order_id = orderLocal.id\nconst paymentResponse = await request.post(&#x27;/payments&#x27;)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal = paymentResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d786b8f-ee78-443d-af51-612178257e43&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments DELETE \&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1078,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9ebdbe7-1d19-4978-99ad-e819af2a5fe5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9b8b373b-c833-412b-b1e4-f201a4ba1273&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 401 should fail without auth&quot;,&quot;duration&quot;:257,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/payments/${paymentLocal.id}`)\n\t.send(paymentLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a91c2052-8430-46f0-be62-cefc1c0b7d88&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd28bcc1-7dd8-42a0-996d-dd25bc90c87d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a91c2052-8430-46f0-be62-cefc1c0b7d88&quot;,&quot;dd28bcc1-7dd8-42a0-996d-dd25bc90c87d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:265,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;756fbdea-2140-4484-86a7-7c1c493996ad&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete missing order body&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 404 should fail to delete missing order body&quot;,&quot;duration&quot;:273,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/payments/${missingId}`)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1ea10dc7-71f4-4896-960a-0b579acd08d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7f5cf44-4ce2-4553-a651-4936fff22888&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1ea10dc7-71f4-4896-960a-0b579acd08d2&quot;,&quot;f7f5cf44-4ce2-4553-a651-4936fff22888&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:281,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;5390cbfa-8dc3-4555-aa0a-0c4b4467a82f&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an payment&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 200 should delete an payment&quot;,&quot;duration&quot;:260,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;073082a1-6fb4-4997-86f1-6a56d02eb32b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f234bdb4-2edb-4910-bba0-4de0aa742b28&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;073082a1-6fb4-4997-86f1-6a56d02eb32b&quot;,&quot;f234bdb4-2edb-4910-bba0-4de0aa742b28&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:268,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;9.2.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;docs&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;docs&quot;,&quot;reportTitle&quot;:&quot;modi-api&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;docs\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\docs\\index.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\mat\\git\\modi-api\\docs\\index.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>