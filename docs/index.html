<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:46,&quot;tests&quot;:14,&quot;passes&quot;:8,&quot;pending&quot;:0,&quot;failures&quot;:6,&quot;start&quot;:&quot;2022-04-14T19:49:51.327Z&quot;,&quot;end&quot;:&quot;2022-04-14T19:50:11.064Z&quot;,&quot;duration&quot;:19737,&quot;testsRegistered&quot;:229,&quot;passPercent&quot;:3.4934497816593884,&quot;pendingPercent&quot;:0,&quot;other&quot;:42,&quot;hasOther&quot;:true,&quot;skipped&quot;:215,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;42e0ab0a-b2ef-4814-be57-b78f31ccc1af&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;85c5874d-2acc-46ec-b0e7-1886e1fbc013&quot;,&quot;title&quot;:&quot;customers&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b9c9a46b-f2c9-441b-b90b-bac597da7258&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9b862a9c-81fa-40a2-9793-3b920b29a363&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;customers POST 401 should fail without auth&quot;,&quot;duration&quot;:687,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;916d5811-121c-4bfc-b2c6-7169021cb39c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers POST 401 should satisfy api spec&quot;,&quot;duration&quot;:38,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;168944bf-628f-4b8d-93c8-0daa06f28a2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;916d5811-121c-4bfc-b2c6-7169021cb39c&quot;,&quot;168944bf-628f-4b8d-93c8-0daa06f28a2b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:725,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;02385ba4-b847-4b70-85e6-1d4423db8103&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;customers POST 400 should fail with invalid body&quot;,&quot;duration&quot;:581,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/customers&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22c9d277-d0db-4a28-8843-d962eb54f314&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers POST 400 should satisfy api spec&quot;,&quot;duration&quot;:32,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc61aec4-5246-4782-944e-06b74c8309d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;22c9d277-d0db-4a28-8843-d962eb54f314&quot;,&quot;bc61aec4-5246-4782-944e-06b74c8309d6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:613,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0aef2827-d220-4399-a342-3ffcd3c48c95&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer in \&quot;201\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 \&quot;after all\&quot; hook: delete customer in \&quot;201\&quot;&quot;,&quot;duration&quot;:388,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3171e935-bf0b-42c7-ae00-632f1b78f22e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a customer&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 should create a customer&quot;,&quot;duration&quot;:1459,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = response.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.js:51:7)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;fbd3de08-787c-4cdf-92d4-67e39e4ab626&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.js:55:14)\n    at processImmediate (node:internal/timers:464:21)&quot;},&quot;uuid&quot;:&quot;eaa1bacf-43ad-4e89-be3f-ab54cc7424dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually have created a customer&quot;,&quot;fullTitle&quot;:&quot;customers POST 201 should actually have created a customer&quot;,&quot;duration&quot;:295,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.get(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.js:60:7)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;5626d89a-30cf-464f-ad0b-0f6bbf298861&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;fbd3de08-787c-4cdf-92d4-67e39e4ab626&quot;,&quot;eaa1bacf-43ad-4e89-be3f-ab54cc7424dd&quot;,&quot;5626d89a-30cf-464f-ad0b-0f6bbf298861&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1754,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f64415e8-cdd4-4de2-8480-439ef8a5a371&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers GET \&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2096,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const response = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = response.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.js:76:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;f31cf797-af83-4963-8f44-f4ab02fef7ae&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers GET \&quot;after all\&quot; hook: delete customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:405,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56b86eac-9bf5-4d91-bad0-cfead735d796&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9a73b9eb-e027-4570-8342-4233ea6e603e&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get a customer without auth&quot;,&quot;fullTitle&quot;:&quot;customers GET 401 should fail to get a customer without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/customers/${customerLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c58fb409-8f79-48d3-b984-ed4e7e2018d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53e6b1d4-a4a7-4988-ae7a-ce637bfc9e88&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c58fb409-8f79-48d3-b984-ed4e7e2018d6&quot;,&quot;53e6b1d4-a4a7-4988-ae7a-ce637bfc9e88&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;2c2440e7-d0c2-49ae-934e-301cf16f118b&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get a missing customer&quot;,&quot;fullTitle&quot;:&quot;customers GET 404 should fail to get a missing customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/customers/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5da405d3-b4f0-4c62-ad8a-bc2c73782f41&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;464105a3-d5d9-454f-8578-a1dfb0d3b418&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;5da405d3-b4f0-4c62-ad8a-bc2c73782f41&quot;,&quot;464105a3-d5d9-454f-8578-a1dfb0d3b418&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;7d2c0d6e-d333-49eb-bafd-c0e803a66b8a&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get a customer&quot;,&quot;fullTitle&quot;:&quot;customers GET 200 should get a customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99cf83fe-5691-4ffb-9055-1c6030602381&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd1f5ce3-9e66-420a-85bd-6fcfbb614c89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;99cf83fe-5691-4ffb-9055-1c6030602381&quot;,&quot;fd1f5ce3-9e66-420a-85bd-6fcfbb614c89&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0358e29b-ab18-404e-84ae-8a629d4c86dc&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers PATCH \&quot;before all\&quot; hook: create customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1540,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const response = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = response.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.js:126:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;f6222835-6642-4e82-b1c7-715150ae919f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers PATCH \&quot;after all\&quot; hook: delete customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;id&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;id&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.js:185:53)\n    at processImmediate (node:internal/timers:464:21)&quot;},&quot;uuid&quot;:&quot;3d838f61-563b-4b7d-bd7b-eb3abf90075f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fb9f00be-3347-4659-aac2-7e6cf266a37c&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update a customer without auth&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 401 should fail to update a customer without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/customers/${customerLocal.id}`)\n\t.send(customer)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e852edd9-2b5a-4024-8d3d-aff46eee23e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;999cd4e1-800d-4568-8194-03124f446e2b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e852edd9-2b5a-4024-8d3d-aff46eee23e8&quot;,&quot;999cd4e1-800d-4568-8194-03124f446e2b&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;5d2f4eed-af4a-44d2-bb3b-43f6b0180a8f&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update a customer with invalid body&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 400 should fail to update a customer with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/customers/${customerLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd6e1163-2e80-4989-8b43-b774339c78fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51a7fbc1-7f72-4566-9f35-a5e0323bceec&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;bd6e1163-2e80-4989-8b43-b774339c78fc&quot;,&quot;51a7fbc1-7f72-4566-9f35-a5e0323bceec&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;2e7640f3-9b39-4c60-9581-9a2b044c193c&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update a missing customer&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 404 should fail to update a missing customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/customers/${missingId}`)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56ea07e6-9df9-43f5-b46d-2b5ed2bc9134&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ea01ea88-74ba-4c41-bfbf-9a88c95efbe5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;56ea07e6-9df9-43f5-b46d-2b5ed2bc9134&quot;,&quot;ea01ea88-74ba-4c41-bfbf-9a88c95efbe5&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;4ee8a540-5aec-4e9a-96ad-b27a44c8aa71&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a customer&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 200 should update a customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/customers/${customerLocal.id}`)\n\t.send({ last_name: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7768be51-fbe6-4e85-af3d-f05c6e6360ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00f79edf-4b41-4aa0-8351-deded3ff2146&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update customer&quot;,&quot;fullTitle&quot;:&quot;customers PATCH 200 should actually update customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.last_name).to.equal(&#x27;updated&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7fd9bba-f4a6-42ec-9ec9-1a58e73c88c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7768be51-fbe6-4e85-af3d-f05c6e6360ad&quot;,&quot;00f79edf-4b41-4aa0-8351-deded3ff2146&quot;,&quot;f7fd9bba-f4a6-42ec-9ec9-1a58e73c88c5&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;cf121add-6fac-4076-9e68-d88a17c34315&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers DELETE \&quot;before all\&quot; hook: create customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:2192,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const response = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = response.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.js:196:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;5f08979c-b298-46d9-9b5e-932a39faf659&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete customer (should 404) in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;customers DELETE \&quot;after all\&quot; hook: delete customer (should 404) in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:571,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/customers.test.js:235:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:402:35)\n    at endReadableNT (node:internal/streams/readable:1343:12)&quot;},&quot;uuid&quot;:&quot;72c406da-00ee-40ac-b7e4-57414befe52e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e22f89d7-44ff-426f-8d45-f2acde688079&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a customer without auth&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 401 should fail to delete a customer without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/customers/${customerLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d2ec0a81-be76-4236-935f-ffe72c86a49c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9865ff26-46e4-4ad2-88a8-c8f2b0ba8c93&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d2ec0a81-be76-4236-935f-ffe72c86a49c&quot;,&quot;9865ff26-46e4-4ad2-88a8-c8f2b0ba8c93&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;2e2ab1e0-b579-4426-8dc2-de29fe8a63a0&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing customer&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 404 should fail to delete a missing customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/customers/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bf51ea4-af8f-4d69-a63c-a3169c8d73fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a1d6030-035e-48ac-b788-95d4175a741d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;3bf51ea4-af8f-4d69-a63c-a3169c8d73fd&quot;,&quot;5a1d6030-035e-48ac-b788-95d4175a741d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;b3d68923-e404-4688-91ea-ba39b9af863b&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\customers.test.js&quot;,&quot;file&quot;:&quot;\\test\\customers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a customer&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 200 should delete a customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6caddfd-fecb-4661-8ce2-e4a1b7cb301c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;customers DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e6d2a9eb-2ba3-4c2a-b1d1-652def7ebc6d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b6caddfd-fecb-4661-8ce2-e4a1b7cb301c&quot;,&quot;e6d2a9eb-2ba3-4c2a-b1d1-652def7ebc6d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f9d5eabb-d791-4623-9616-c485ea2fb5de&quot;,&quot;title&quot;:&quot;addresses&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9b3a93aa-7357-4814-9c35-5bd63c8be15c&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses POST \&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:2326,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;const response = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\naddressLocal.customer_id = response.body.id&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;72ab77c2-d358-40dc-9576-8f430d5cea35&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses POST \&quot;after all\&quot; hook: delete address, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:888,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8db60011-0213-43b4-996f-a8481984ca12&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4447620a-b766-46f1-ab72-cde5e0d807f5&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses POST 401 should fail without auth&quot;,&quot;duration&quot;:333,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0fb675a1-a7df-43d5-b0fb-32ab24c8cb9f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses POST 401 should satisfy api spec&quot;,&quot;duration&quot;:43,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bf96ba7b-e542-4a59-907e-a17f5adbe727&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0fb675a1-a7df-43d5-b0fb-32ab24c8cb9f&quot;,&quot;bf96ba7b-e542-4a59-907e-a17f5adbe727&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:376,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;6a9d3464-5848-4ab5-8eef-77c40b8f97cb&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;addresses POST 400 should fail with invalid body&quot;,&quot;duration&quot;:294,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/addresses&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\nexpect(response.status).to.equal(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6007dfc6-4882-46e4-b50e-3af7b6808d00&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses POST 400 should satisfy api spec&quot;,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c6161eaf-879e-4f7d-9cf2-6cfd1e20066c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6007dfc6-4882-46e4-b50e-3af7b6808d00&quot;,&quot;c6161eaf-879e-4f7d-9cf2-6cfd1e20066c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:323,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;b07e5aad-37d6-4166-8488-b657d3376d24&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an address&quot;,&quot;fullTitle&quot;:&quot;addresses POST 201 should create an address&quot;,&quot;duration&quot;:403,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal = response.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.js:57:7)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;de95e1c0-a0d2-47c2-b876-e61a6c7ec21c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses POST 201 should satisfy api spec&quot;,&quot;duration&quot;:1,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;should&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.js:61:14)\n    at processImmediate (node:internal/timers:464:21)&quot;},&quot;uuid&quot;:&quot;b5c8c6df-1e27-4f72-9b9b-c51cac0bd050&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should actually have created an address&quot;,&quot;fullTitle&quot;:&quot;addresses POST 201 should actually have created an address&quot;,&quot;duration&quot;:1,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.get(`/addresses/${response.body.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;body&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;body&#x27;)\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.js:64:46)\n    at processImmediate (node:internal/timers:464:21)&quot;},&quot;uuid&quot;:&quot;67d6b26b-1dfa-458a-a501-97ea655a5f57&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;de95e1c0-a0d2-47c2-b876-e61a6c7ec21c&quot;,&quot;b5c8c6df-1e27-4f72-9b9b-c51cac0bd050&quot;,&quot;67d6b26b-1dfa-458a-a501-97ea655a5f57&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:405,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;4ba94289-bca7-4242-868a-c6703d627f62&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses GET \&quot;before all\&quot; hook: create customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1951,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\naddressLocal.customer_id = customerResponse.body.id\nconst addressResponse = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal = addressResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.js:87:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;03e7c63c-9a6c-4bad-b05a-806d0a921b33&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses GET \&quot;after all\&quot; hook: delete address, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:915,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c0df5df-c7b8-4c59-bca9-0af550d369f1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;22e8b5b9-55d0-4a8e-9942-05e2378c4f7f&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/addresses/${addressLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b206a50-b4f3-45c7-8b71-84d525ae962c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a76b8a64-6390-4af8-938d-ccaede735d0d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;4b206a50-b4f3-45c7-8b71-84d525ae962c&quot;,&quot;a76b8a64-6390-4af8-938d-ccaede735d0d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;aa90f589-5904-44f8-8e38-6c8393e0cabd&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing address&quot;,&quot;fullTitle&quot;:&quot;addresses GET 404 should fail to get missing address&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/addresses/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;249dc086-4479-4679-91c5-1f37f8d5bd49&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af1c13a7-9a1e-4f96-8875-1b514f14615e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;249dc086-4479-4679-91c5-1f37f8d5bd49&quot;,&quot;af1c13a7-9a1e-4f96-8875-1b514f14615e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;545487f9-2829-4d29-83c6-94545f84d436&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get a address&quot;,&quot;fullTitle&quot;:&quot;addresses GET 200 should get a address&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f5cf07d-9a8a-40b3-bb87-1e2641edd1f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23c19b5c-43b8-491f-9a45-2eca98d879fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;0f5cf07d-9a8a-40b3-bb87-1e2641edd1f8&quot;,&quot;23c19b5c-43b8-491f-9a45-2eca98d879fa&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;8eaf55a7-7dd9-4eca-94f9-5234958f7418&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, address in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH \&quot;before all\&quot; hook: create customer, address in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1965,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\naddressLocal.customer_id = customerResponse.body.id\nconst addressResponse = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal = addressResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.js:150:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;2e7f3098-8c39-4b86-80ef-84b78163944d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH \&quot;after all\&quot; hook: delete address, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1010,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;763ceab6-e2d1-43c5-a0b4-b8e3365a1d0c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2352ba7b-23cf-431d-a310-347d936e924f&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/addresses/${addressLocal.id}`)\n\t.send(addressLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bae155fb-836d-4ce6-b83e-c1028e86ebca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6664264a-178a-4e1c-adf4-acae0ff67b32&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;bae155fb-836d-4ce6-b83e-c1028e86ebca&quot;,&quot;6664264a-178a-4e1c-adf4-acae0ff67b32&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;85d587a9-5c4e-4dca-ad00-aa73d5ade42d&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/addresses/${addressLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bc4d29a7-5335-4794-9635-2547f45a4d99&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;752785ef-3d5d-4aed-a542-20a08bac768d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;bc4d29a7-5335-4794-9635-2547f45a4d99&quot;,&quot;752785ef-3d5d-4aed-a542-20a08bac768d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;8b534b30-af1e-486d-8c40-4ebd1f32d931&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing address body&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 404 should fail to update missing address body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/addresses/${missingId}`)\n\t.send({ address: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;200faf5d-9e7a-44f3-a87c-d94b396b868b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7c74ef6-b436-4815-9652-dce7796e48cc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;200faf5d-9e7a-44f3-a87c-d94b396b868b&quot;,&quot;c7c74ef6-b436-4815-9652-dce7796e48cc&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e1b34df5-0555-4d47-9deb-613d7c6ae6d4&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an address&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 200 should update an address&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/addresses/${addressLocal.id}`)\n\t.send({ address: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8925aa4e-882f-4dbf-8d5a-39da8b81ce39&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;69af4840-5c4a-45ab-947d-f71415988d42&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually have updated address&quot;,&quot;fullTitle&quot;:&quot;addresses PATCH 200 should actually have updated address&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.address).to.equal(&#x27;updated&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;79f9cee5-6ebb-4a4a-9e31-f2c2c84ce9e8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;8925aa4e-882f-4dbf-8d5a-39da8b81ce39&quot;,&quot;69af4840-5c4a-45ab-947d-f71415988d42&quot;,&quot;79f9cee5-6ebb-4a4a-9e31-f2c2c84ce9e8&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;72358e48-a976-4d02-ab5c-cf6cf84f6fcc&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, address in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE \&quot;before all\&quot; hook: create customer, job site, address in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1710,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal.customer_id = customerResponse.body.id\nconst addressResponse = await request.post(&#x27;/addresses&#x27;)\n\t.send(addressLocal)\n\t.auth(username, password)\n\t.expect(201)\naddressLocal = addressResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.js:234:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;dbfa750d-d9a0-4f6b-886c-b63e5c565781&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete address, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE \&quot;after all\&quot; hook: delete address, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:493,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/customers/${addressLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/addresses.test.js:280:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:402:35)\n    at endReadableNT (node:internal/streams/readable:1343:12)&quot;},&quot;uuid&quot;:&quot;ad3e1c28-b2b6-485a-a5c7-d01f7bb915d1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;aac8ad3f-bef5-4585-818e-06f510517287&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/addresses/${addressLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de8037b0-f7cc-4a04-a4ef-eaa4268c6dc0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81cb4551-60ed-422d-a048-75db581f77a1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;de8037b0-f7cc-4a04-a4ef-eaa4268c6dc0&quot;,&quot;81cb4551-60ed-422d-a048-75db581f77a1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;55771803-7666-4c5f-83c3-eabc5573837e&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing address&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 404 should fail to delete a missing address&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/addresses/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;298810ae-4b5e-40c5-ba6a-723348a69b87&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;845f0768-c77c-4c94-9281-a1a2e1ffef56&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;298810ae-4b5e-40c5-ba6a-723348a69b87&quot;,&quot;845f0768-c77c-4c94-9281-a1a2e1ffef56&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;eea8b2dd-ef5e-496e-ae30-6c61c7ecc059&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\addresses.test.js&quot;,&quot;file&quot;:&quot;\\test\\addresses.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an address&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 200 should delete an address&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/addresses/${addressLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e25d6d52-6883-468d-8927-685eb5facc38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;addresses DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3e932e64-ff50-4fd7-8a90-ae9771d484b1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e25d6d52-6883-468d-8927-685eb5facc38&quot;,&quot;3e932e64-ff50-4fd7-8a90-ae9771d484b1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;aa5b0dcf-ec14-4d97-8261-285e9874a40c&quot;,&quot;title&quot;:&quot;sales_modifiers&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5276dcde-fe1d-43f4-b369-dc35435a6fe0&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST \&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;duration&quot;:2422,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\nsales_modifierLocal.order_id = orderLocal.id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sales_modifiers.test.js:30:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;f7fb8748-f73e-4206-a736-2fef26a7003a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST \&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:982,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82c2c299-f9a4-47eb-a147-ba8c8db7b052&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1dfd74ff-8f73-4100-a9a6-370262b65041&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff5bef72-8e00-4d01-ab46-5dc77d90fa20&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90384d88-ea61-4931-b70d-7ddf5f1f198a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ff5bef72-8e00-4d01-ab46-5dc77d90fa20&quot;,&quot;90384d88-ea61-4931-b70d-7ddf5f1f198a&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;1a5925cd-5507-4784-ad02-ac13f6179044&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82b91209-9e6e-4824-85e2-c982ebafafb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11455aa0-2e16-4347-ac33-ba1a2b375256&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;82b91209-9e6e-4824-85e2-c982ebafafb9&quot;,&quot;11455aa0-2e16-4347-ac33-ba1a2b375256&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;95160cbd-7f8e-407d-8747-10919a25cddc&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 \&quot;after all\&quot; hook: delete sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${response.body.id}`)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0f273f4d-4871-41b1-a1f7-d423c2ca372a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 should create a sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b94d8d8-b685-40e8-a16e-1e33b03eb4e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f988e0b-77cd-46ec-985b-2f257fa75a0b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the order&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers POST 201 should be visible on the order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const orderResponse = await request.get(`/orders/${orderLocal.id}`)\n\t.query({ sales_modifiers: &#x27;true&#x27; })\n\t.auth(username, password)\n\t.expect(200)\nexpect(orderResponse.body.sales_modifiers.length).to.equal(1)\nexpect(orderResponse.body.sales_modifiers[0].id).to.equal(response.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84d4a9ec-8e30-475e-a368-f9314e8f93bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7b94d8d8-b685-40e8-a16e-1e33b03eb4e4&quot;,&quot;7f988e0b-77cd-46ec-985b-2f257fa75a0b&quot;,&quot;84d4a9ec-8e30-475e-a368-f9314e8f93bd&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;5b08f6fb-ee54-4a5e-8a75-17d6a3c915af&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET \&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2316,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\norderLocal = orderResponse.body\nsales_modifierLocal.order_id = orderLocal.id\nconst sales_modifierResponse = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(201)\nsales_modifierLocal = sales_modifierResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sales_modifiers.test.js:116:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;a2abdcec-4467-4c61-8a39-4be8056fcea6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete sales_modifier, job_site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET \&quot;after all\&quot; hook: delete sales_modifier, job_site, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:293,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sales_modifiers.test.js:174:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;011d1be8-39c2-457d-916a-15f096d3d576&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;63d776e5-7c4a-4dea-a98e-86d286011b9d&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ded7330-c461-4d7d-acff-5116cb0ae873&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df0aa835-b03b-4703-8a6e-38ea4a6b9149&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;4ded7330-c461-4d7d-acff-5116cb0ae873&quot;,&quot;df0aa835-b03b-4703-8a6e-38ea4a6b9149&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;68f6ccb4-1c06-43ae-b2af-1400ed4e3c50&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 404 should fail to get missing sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/sales_modifiers/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;64b60588-e70a-46d1-906c-19d1f5a763fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93401546-0015-4222-a3e9-20b44fb668a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;64b60588-e70a-46d1-906c-19d1f5a763fa&quot;,&quot;93401546-0015-4222-a3e9-20b44fb668a2&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;362e0765-d123-42b3-a012-44af29ce96ef&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 200 should get an sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b0260d9-869c-4fae-9626-8712319a568f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;944ef49a-c605-4040-ae02-66e2dc2f955f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;0b0260d9-869c-4fae-9626-8712319a568f&quot;,&quot;944ef49a-c605-4040-ae02-66e2dc2f955f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;34b7cc93-626d-4106-83da-86fddac20102&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH \&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:2244,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\nsales_modifierLocal.order_id = orderLocal.id\nconst sales_modifierResponse = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(201)\nsales_modifierLocal = sales_modifierResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sales_modifiers.test.js:199:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;46e71546-e9b8-495d-b842-a6345f3d9e48&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH \&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:466,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sales_modifiers.test.js:277:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;16016b1e-d85a-41ad-9f24-3099ffa5a16e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;19f7c8f3-9fef-44a5-94ed-72c93041f860&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.send(sales_modifierLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58dedc80-1a22-4bf3-9a66-6901f05cde10&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2fdb0a20-af2b-4852-b67f-be481f75bf5f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;58dedc80-1a22-4bf3-9a66-6901f05cde10&quot;,&quot;2fdb0a20-af2b-4852-b67f-be481f75bf5f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;b44fb4c6-b643-45d1-bce8-05ed0a689cb5&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1cc41338-6c13-44a2-a55e-d1eb2f9708f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef1cda95-d3e0-45a9-9ee9-cf10374920d2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;1cc41338-6c13-44a2-a55e-d1eb2f9708f9&quot;,&quot;ef1cda95-d3e0-45a9-9ee9-cf10374920d2&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;9cc4d65c-c090-4486-b895-0817dd8914a2&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 404 should fail to update missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/sales_modifiers/${missingId}`)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;612f3686-b8f5-4d5b-8877-9efac18cc644&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c0c6969b-ee5c-45c5-bc8b-5159afa1b974&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;612f3686-b8f5-4d5b-8877-9efac18cc644&quot;,&quot;c0c6969b-ee5c-45c5-bc8b-5159afa1b974&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d8c69aa9-5601-41da-9dcd-0e926019dca5&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 200 should update an sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.send({ value: 500 })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0b6ec28a-6d3e-4515-8e96-59a611383241&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29037e19-5138-49f5-b1e2-20189a863f11&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers PATCH 200 should actually update sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.value).to.equal(500)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9aca4394-8069-4878-b2b2-65f7bb238f9f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;0b6ec28a-6d3e-4515-8e96-59a611383241&quot;,&quot;29037e19-5138-49f5-b1e2-20189a863f11&quot;,&quot;9aca4394-8069-4878-b2b2-65f7bb238f9f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0df1ee49-2d54-4fe8-a91f-61780fade6ee&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE \&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1773,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\nsales_modifierLocal.order_id = orderLocal.id\nconst sales_modifierResponse = await request.post(&#x27;/sales_modifiers&#x27;)\n\t.send(sales_modifierLocal)\n\t.auth(username, password)\n\t.expect(201)\nsales_modifierLocal = sales_modifierResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sales_modifiers.test.js:302:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;6ea6005a-196c-48a4-ae7f-e7b7780513b8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE \&quot;after all\&quot; hook: delete job_site, sales_modifier, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1918,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6faf2d9-d211-4109-a660-10c71841af3e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a81991d5-b9bc-4bb0-bc4f-1aab368b1b00&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;386b51fe-e04f-4eda-bb2d-d3ce594be363&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f10f35ad-b9d2-46d4-a397-376bf2a72b32&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;386b51fe-e04f-4eda-bb2d-d3ce594be363&quot;,&quot;f10f35ad-b9d2-46d4-a397-376bf2a72b32&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;213fca0c-075b-43fc-9595-90a9776caf2c&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete missing order body&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 404 should fail to delete missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/sales_modifiers/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b5edb83-97d8-4239-9972-c06db2709153&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9d5c47c-193a-4242-9d0e-e3552abad461&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;1b5edb83-97d8-4239-9972-c06db2709153&quot;,&quot;b9d5c47c-193a-4242-9d0e-e3552abad461&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;36f1ed5f-55df-44a8-b3fc-0acdb126418b&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sales_modifiers.test.js&quot;,&quot;file&quot;:&quot;\\test\\sales_modifiers.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an sales_modifier&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 200 should delete an sales_modifier&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/sales_modifiers/${sales_modifierLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce024e2b-8dd5-4c58-825c-7fc306162455&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sales_modifiers DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;173cb396-8206-4d49-837e-8840456eb93d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ce024e2b-8dd5-4c58-825c-7fc306162455&quot;,&quot;173cb396-8206-4d49-837e-8840456eb93d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f782e27a-0d3a-4d4a-9f39-ebb859889655&quot;,&quot;title&quot;:&quot;items&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b9128975-0224-4942-af8b-95b026a11ca4&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;items POST \&quot;before all\&quot; hook: create customer, jobsite, estimate in \&quot;POST\&quot;&quot;,&quot;duration&quot;:2213,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/items.test.js:29:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;daddc8f3-c2ee-421a-8101-1bbf564702e0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, jobsite, estimate, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;items POST \&quot;after all\&quot; hook: delete order, jobsite, estimate, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1406,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/estimates/${orderLocal.estimate_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aac9f2f1-69b4-4016-85a3-7e6a2c82a8a8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e8a22ff4-2aa4-4467-9deb-96b69780818e&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items POST 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/items&#x27;)\n\t.send(item)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86f0ffaf-bc7a-4804-beed-069e326cac74&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a108a91-6ed4-473e-a378-fd4502c4302c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;86f0ffaf-bc7a-4804-beed-069e326cac74&quot;,&quot;0a108a91-6ed4-473e-a378-fd4502c4302c&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d1509b90-679d-49e5-9bb3-6a71cacaeb45&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;items POST 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/items&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;86fa5f16-f5f2-47a6-bd00-7cc2d5627cc1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;323ac921-a38a-400e-b7e8-b567ea2eb6f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;86fa5f16-f5f2-47a6-bd00-7cc2d5627cc1&quot;,&quot;323ac921-a38a-400e-b7e8-b567ea2eb6f5&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;cd24dd53-0fd6-4715-80ae-47051ce51268&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;98c5e585-d6b7-4f27-b9cc-f90bcea819ab&quot;,&quot;title&quot;:&quot;order&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order \&quot;after all\&quot; hook: delete item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemResponse.body.id}`)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f992f86-2891-4490-9740-5d4926cc59cc&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order should create an item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e4dc605c-ac55-4fb7-9d49-1a44264a0071&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;83340c56-9bc4-4a1a-8eee-9f607430ea69&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the order&quot;,&quot;fullTitle&quot;:&quot;items POST 201 order should be visible on the order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const orderResponse = await request.get(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(orderResponse.body.items.length).to.equal(1)\nexpect(orderResponse.body.items[0].id).to.equal(itemResponse.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8af32e96-eb5a-404f-9c97-474bcc01a8cb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e4dc605c-ac55-4fb7-9d49-1a44264a0071&quot;,&quot;83340c56-9bc4-4a1a-8eee-9f607430ea69&quot;,&quot;8af32e96-eb5a-404f-9c97-474bcc01a8cb&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;4b891b8d-62b0-4314-bedd-58c44e17e2b8&quot;,&quot;title&quot;:&quot;estimate&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate \&quot;after all\&quot; hook: delete item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemResponse.body.id}`)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;97109bea-70fc-4bf5-8a5d-c331d5f202c9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate should create an item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;064b460e-965a-4419-9fd4-cdaf6a42a989&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ab29862-6a80-40df-9d71-6dbdb0c12522&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the estimate&quot;,&quot;fullTitle&quot;:&quot;items POST 201 estimate should be visible on the estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const estimateResponse = await request.get(`/estimates/${orderLocal.estimate_id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(estimateResponse.body.items.length).to.equal(1)\nexpect(estimateResponse.body.items[0].id).to.equal(itemResponse.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dfe10436-35c1-479e-904f-29e8f3ef5952&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;064b460e-965a-4419-9fd4-cdaf6a42a989&quot;,&quot;7ab29862-6a80-40df-9d71-6dbdb0c12522&quot;,&quot;dfe10436-35c1-479e-904f-29e8f3ef5952&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;ef327fbd-0550-452c-b025-d703cda2c0af&quot;,&quot;title&quot;:&quot;site&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 site \&quot;after all\&quot; hook: delete item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemResponse.body.id}`)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0bc58c7e-8998-4d5e-a826-307578606c7a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an item&quot;,&quot;fullTitle&quot;:&quot;items POST 201 site should create an item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ccab2310-499a-4b15-bc52-9c4b76ffd97f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items POST 201 site should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;itemResponse.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e46dc2af-842b-4b79-be66-b4c63032987e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the site&quot;,&quot;fullTitle&quot;:&quot;items POST 201 site should be visible on the site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const siteResponse = await request.get(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(siteResponse.body.items.length).to.equal(1)\nexpect(siteResponse.body.items[0].id).to.equal(itemResponse.body.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9fd2275-0478-48f3-8690-1ed10f109d9c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ccab2310-499a-4b15-bc52-9c4b76ffd97f&quot;,&quot;e46dc2af-842b-4b79-be66-b4c63032987e&quot;,&quot;e9fd2275-0478-48f3-8690-1ed10f109d9c&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;bbff219f-052b-4fe6-8dde-b94430c2e17a&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;items GET \&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2522,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;customerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\nitemLocal.site_id = customerResponse.body.site_id\nconst itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)\nitemLocal = itemResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/items.test.js:165:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;e1cf7cad-0d4d-487b-bc1d-f690c0044306&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item, job_site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;items GET \&quot;after all\&quot; hook: delete item, job_site, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:380,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${itemLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/items.test.js:214:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;8a2f5184-28f1-4831-b155-f2ba18f5c456&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3effbcab-e52b-4a63-a9b6-aa9fb036d1e1&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/items/${itemLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c61d15da-fe15-4477-8e07-33eb7125ba1d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;905f97c1-cb52-4c76-98bc-d2a64313dec9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c61d15da-fe15-4477-8e07-33eb7125ba1d&quot;,&quot;905f97c1-cb52-4c76-98bc-d2a64313dec9&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;00a16040-23a8-4eae-bddf-2196b78a651f&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing item&quot;,&quot;fullTitle&quot;:&quot;items GET 404 should fail to get missing item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/items/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a2642f1-8f58-46d5-a954-b16f6a2c2246&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00aa94a8-252f-483e-87ca-9677b508ec9f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6a2642f1-8f58-46d5-a954-b16f6a2c2246&quot;,&quot;00aa94a8-252f-483e-87ca-9677b508ec9f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;8a7f0c7b-9b6b-4e07-a211-a7d91ec963ac&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an item&quot;,&quot;fullTitle&quot;:&quot;items GET 200 should get an item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5a8fca4-a92f-497d-b5a1-d16a2a12bb3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1974431-a20e-4a35-b539-222fd2274ff4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d5a8fca4-a92f-497d-b5a1-d16a2a12bb3f&quot;,&quot;c1974431-a20e-4a35-b539-222fd2274ff4&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;db2436ab-9d50-44e9-ba7c-735267c5ff3d&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;items PATCH \&quot;before all\&quot; hook: create customer, job site in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:2259,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;customerLocal.create_job_site = true\ncustomerLocal.create_estimate = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\nitemLocal.site_id = customerResponse.body.site_id\ncustomerLocal = customerResponse.body\nconst itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)\nitemLocal = itemResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/items.test.js:236:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;e1cc8e66-61d6-47e1-842f-7c8c487be0c8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete item, estimate, site, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;items PATCH \&quot;after all\&quot; hook: delete item, estimate, site, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:412,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/estimates/${customerLocal.estimate_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${customerLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/items.test.js:306:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;6b01e3fa-039e-4cb2-b2d9-f252e8e72b03&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4128b213-bbd4-4ee4-90fc-2a05b9f3ed5f&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/items/${itemLocal.id}`)\n\t.send(itemLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f142cfab-eb6b-458a-94da-35d334822147&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e32a905-6470-4934-bef2-be42a2ee9b17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;f142cfab-eb6b-458a-94da-35d334822147&quot;,&quot;9e32a905-6470-4934-bef2-be42a2ee9b17&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;8cb54d8d-a7d8-40d2-a4c8-5416f0d175a9&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;items PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/items/${itemLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53b22988-f042-47dc-87ed-87098913f9af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;293b6386-aea8-467f-b3de-ce0ada3cc745&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;53b22988-f042-47dc-87ed-87098913f9af&quot;,&quot;293b6386-aea8-467f-b3de-ce0ada3cc745&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d9fe8b32-62e7-4b77-921f-48376cbf7303&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;items PATCH 404 should fail to update missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/items/${missingId}`)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c7fbcd05-7585-4e62-bb63-ba2790d26636&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18e47977-df55-4632-9728-ec476fe1c05c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c7fbcd05-7585-4e62-bb63-ba2790d26636&quot;,&quot;18e47977-df55-4632-9728-ec476fe1c05c&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0153707c-2499-4b08-ab7c-23a4e58170d2&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an item&quot;,&quot;fullTitle&quot;:&quot;items PATCH 200 should update an item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/items/${itemLocal.id}`)\n\t.send({ estimate_id: customerLocal.estimate_id, site_id: &#x27;&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd73c489-f626-4138-bcf8-dd672e42157e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6c611ea-27ca-4177-8e53-ecef33c0c4f4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update item&quot;,&quot;fullTitle&quot;:&quot;items PATCH 200 should actually update item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.estimate_id).to.equal(customerLocal.estimate_id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e12341b-5a32-45f4-a086-ccdf7cd7d640&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;bd73c489-f626-4138-bcf8-dd672e42157e&quot;,&quot;b6c611ea-27ca-4177-8e53-ecef33c0c4f4&quot;,&quot;9e12341b-5a32-45f4-a086-ccdf7cd7d640&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;bc935924-e430-4345-83af-730f620726b3&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;items DELETE \&quot;before all\&quot; hook: create customer, job site in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:2199,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;customerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\nitemLocal.site_id = customerResponse.body.site_id\ncustomerLocal = customerResponse.body\nconst itemResponse = await request.post(&#x27;/items&#x27;)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(201)\nitemLocal = itemResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/items.test.js:330:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;a27fc1fa-5b3e-49e6-8f57-242ba8565065&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, item, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;items DELETE \&quot;after all\&quot; hook: delete job_site, item, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1307,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/sites/${customerLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${customerLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07afa01f-9936-49a6-bf8f-bceefb501a58&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1b75d3ac-d725-43e0-87e4-ce752c8517ed&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;items DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/items/${itemLocal.id}`)\n\t.send(itemLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e63d032a-467a-42ee-bfdc-85f0c8219bca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;289e3870-16f0-4339-b6ff-567c04946383&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e63d032a-467a-42ee-bfdc-85f0c8219bca&quot;,&quot;289e3870-16f0-4339-b6ff-567c04946383&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c1467b7d-0622-4e53-8d9b-6acfdae7e984&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete missing order body&quot;,&quot;fullTitle&quot;:&quot;items DELETE 404 should fail to delete missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/items/${missingId}`)\n\t.send(itemLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;314d89bd-93ed-41b7-a3af-387c6d95781e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3264b0e-da89-4f2a-885c-f21ce841fdc7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;314d89bd-93ed-41b7-a3af-387c6d95781e&quot;,&quot;f3264b0e-da89-4f2a-885c-f21ce841fdc7&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;a708bb90-cda5-43ce-92f6-076c059d9ede&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\items.test.js&quot;,&quot;file&quot;:&quot;\\test\\items.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an item&quot;,&quot;fullTitle&quot;:&quot;items DELETE 200 should delete an item&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/items/${itemLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d0281283-86e1-4e6a-816d-c934998dfcb5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;items DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c6ff686-56ce-463b-a0e4-d650dd134e3a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d0281283-86e1-4e6a-816d-c934998dfcb5&quot;,&quot;2c6ff686-56ce-463b-a0e4-d650dd134e3a&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e486af14-a0ad-4daf-bf44-fd435c6505e4&quot;,&quot;title&quot;:&quot;estimates&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2b1a1f43-45ec-4f3a-8c1d-4c65b9112d63&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates POST \&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:2441,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal.customer_id = customerResponse.body.id\nestimateLocal.site_id = customerResponse.body.site_id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/estimates.test.js:28:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;cadf65ae-41f0-4671-a58e-33b198c5f4a3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates POST \&quot;after all\&quot; hook: delete estimate, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1052,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56fd4418-dfd0-415f-9efc-04d1fe19b650&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;8660fc02-fda6-42e1-b71e-0e96af1a45b5&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates POST 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;214a42a4-7532-440d-ab6f-ce4043ccdfae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates POST 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5b5dcfc4-bb81-46c8-af57-5deeb1f44caf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;214a42a4-7532-440d-ab6f-ce4043ccdfae&quot;,&quot;5b5dcfc4-bb81-46c8-af57-5deeb1f44caf&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;9f19d2ea-58bc-4480-9a8f-520ee1733667&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;estimates POST 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/estimates&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;449220f7-0997-4123-9487-cfb5bffec3e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d20308e9-efb8-437a-ab6f-2b3fefb40572&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;449220f7-0997-4123-9487-cfb5bffec3e9&quot;,&quot;d20308e9-efb8-437a-ab6f-2b3fefb40572&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;4da0fe5e-8e52-4e01-bfac-e81c6961241b&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates POST 201 should create an estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2354f844-f02d-41eb-8c5a-06c9b2e28257&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;995d5661-bf43-42bd-937e-28da20aeaaf8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually have created an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates POST 201 should actually have created an estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await request.get(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f08abdf-46c7-4dcd-8dc9-e4b1cc1534c5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2354f844-f02d-41eb-8c5a-06c9b2e28257&quot;,&quot;995d5661-bf43-42bd-937e-28da20aeaaf8&quot;,&quot;6f08abdf-46c7-4dcd-8dc9-e4b1cc1534c5&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;cb705230-4b98-4bab-a0f4-3e51a4cc04e7&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates GET \&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2296,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// Add required object references to example data before create\nestimateLocal.customer_id = customerResponse.body.id\nestimateLocal.site_id = customerResponse.body.site_id\nconst estimateResponse = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal = estimateResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/estimates.test.js:98:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;2eeb7e66-d886-41f4-8628-98fca7dcaf46&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates GET \&quot;after all\&quot; hook: delete estimate, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1123,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c56a04f-8645-4deb-8fe6-f004cf49c8e2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;23ae095b-9af6-47d0-b9c8-800cfd231abc&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/estimates/${estimateLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;095ba7b7-bdb4-4c8a-81d0-142740019414&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;da5e417f-b4fd-4f3b-accd-9b6259584c55&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;095ba7b7-bdb4-4c8a-81d0-142740019414&quot;,&quot;da5e417f-b4fd-4f3b-accd-9b6259584c55&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;7f15b32c-e0ff-4ea6-b6c3-eff74db1c855&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing estimate&quot;,&quot;fullTitle&quot;:&quot;estimates GET 404 should fail to get missing estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/estimates/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3f7a6a72-37b7-4b7b-94a1-31f82daf66f9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d83a4676-e4aa-455d-863d-5510080d1927&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;3f7a6a72-37b7-4b7b-94a1-31f82daf66f9&quot;,&quot;d83a4676-e4aa-455d-863d-5510080d1927&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d78834aa-1210-4570-9a28-5aeb90439d99&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates GET 200 should get an estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6265a1ba-90ff-4f49-82ee-323c6fd60104&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa71cba8-ef29-40e9-b521-91c6d06b19c4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6265a1ba-90ff-4f49-82ee-323c6fd60104&quot;,&quot;aa71cba8-ef29-40e9-b521-91c6d06b19c4&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;eb472113-4947-46a3-82d8-305b98aa0b46&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH \&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:2104,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;customerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\ncustomerLocal = customerResponse.body\n// Add required object references to example data before create\nestimateLocal.customer_id = customerLocal.id\nestimateLocal.site_id = customerLocal.site_id\nconst estimateResponse = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal = estimateResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/estimates.test.js:168:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;b4c8874a-9892-4a4f-b82e-855f0e1db5e6&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH \&quot;after all\&quot; hook: delete estimate, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1486,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76efa1a7-c478-4163-a470-aa198b5805d5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3632d7a6-4880-439e-865a-f7a85cf73544&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/estimates/${estimateLocal.id}`)\n\t.send(estimateLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2c87751-3126-405f-89cb-537ae0cdfea5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9e431d57-404a-483c-8b0a-8e67be4c9965&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;f2c87751-3126-405f-89cb-537ae0cdfea5&quot;,&quot;9e431d57-404a-483c-8b0a-8e67be4c9965&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;690d0fff-faed-4e50-9a95-9bb3385d99b0&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/estimates/${estimateLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee3f0ab3-ed7d-4d13-b85e-cb47092bbb6c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;87e0c517-865f-46f0-9cea-9715a329ceb2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ee3f0ab3-ed7d-4d13-b85e-cb47092bbb6c&quot;,&quot;87e0c517-865f-46f0-9cea-9715a329ceb2&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c43c0424-f90e-4f69-968a-3140b772d1d9&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing estimate body&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 404 should fail to update missing estimate body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/estimates/${missingId}`)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d6a42fc-1363-4b6f-a300-432dc9a4f294&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0cb182d9-16b8-47ee-927e-4506e80e7a28&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;0d6a42fc-1363-4b6f-a300-432dc9a4f294&quot;,&quot;0cb182d9-16b8-47ee-927e-4506e80e7a28&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;b7d63e28-6e0b-4ee4-ab78-dc5767e1b147&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create second customer&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 \&quot;before all\&quot; hook: create second customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;secondCustomer = { ...customer }\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\nsecondCustomer = customerResponse.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdcec91d-dc39-420b-a48b-1b99e7a3f0c2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete second customer&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 \&quot;after all\&quot; hook: delete second customer&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.patch(`/estimates/${estimateLocal.id}`)\n\t.send({ customer_id: customerLocal.id })\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${secondCustomer.id}`)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d31a305-1a29-4b70-93e6-e12d6c415afa&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 should update an estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/estimates/${estimateLocal.id}`)\n\t.send({ customer_id: secondCustomer.id })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a78932d1-94bc-461a-9bbb-c8b282c60f55&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d79da7f9-7be7-4fa2-986b-3e7f15f76508&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update customer_id&quot;,&quot;fullTitle&quot;:&quot;estimates PATCH 200 should actually update customer_id&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\nexpect(response.body.customer_id).to.equal(secondCustomer.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2cf8f589-6f75-40fe-b41f-481d15cc660f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;a78932d1-94bc-461a-9bbb-c8b282c60f55&quot;,&quot;d79da7f9-7be7-4fa2-986b-3e7f15f76508&quot;,&quot;2cf8f589-6f75-40fe-b41f-481d15cc660f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;355cfdbf-4f56-4450-bd66-d28a92e5e238&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE \&quot;before all\&quot; hook: create customer, job site, estimate in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1911,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal.customer_id = customerResponse.body.id\nestimateLocal.site_id = customerResponse.body.site_id\nconst estimateResponse = await request.post(&#x27;/estimates&#x27;)\n\t.send(estimateLocal)\n\t.auth(username, password)\n\t.expect(201)\nestimateLocal = estimateResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/estimates.test.js:275:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;c3c58068-1e5c-4090-a56e-f3f1e3339423&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete estimate, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE \&quot;after all\&quot; hook: delete estimate, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:381,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/sites/${estimateLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${estimateLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/estimates.test.js:322:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:402:35)\n    at endReadableNT (node:internal/streams/readable:1343:12)&quot;},&quot;uuid&quot;:&quot;4580b560-1b7e-4003-801f-dfc25be79a13&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b1b91890-98c7-4737-98ec-542b820eecd4&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/estimates/${estimateLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;113a1325-0837-4b14-95a8-d080157da3c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06563c57-b519-4946-acee-a6109468e648&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;113a1325-0837-4b14-95a8-d080157da3c1&quot;,&quot;06563c57-b519-4946-acee-a6109468e648&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;2aa76d0f-e946-4c61-b695-c8d2d23d4a18&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing estimate&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 404 should fail to delete a missing estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/estimates/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a4970dce-5aa7-4a5a-8d9d-58d79a6cb3df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e901b21-a29a-4092-9f24-2a169893e532&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;a4970dce-5aa7-4a5a-8d9d-58d79a6cb3df&quot;,&quot;0e901b21-a29a-4092-9f24-2a169893e532&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f7b570e6-e8e4-4078-97a4-685b065c50bd&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\estimates.test.js&quot;,&quot;file&quot;:&quot;\\test\\estimates.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an estimate&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 200 should delete an estimate&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/estimates/${estimateLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ae61c552-b366-464d-91fd-268ce06afff0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;estimates DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2508393f-57ad-4f9f-b8e0-fc02dcb69e3f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ae61c552-b366-464d-91fd-268ce06afff0&quot;,&quot;2508393f-57ad-4f9f-b8e0-fc02dcb69e3f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e401b30c-01ec-47ca-b71d-683e161635d3&quot;,&quot;title&quot;:&quot;payments&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3d1bf859-cc2e-4ec1-84df-c0bf26dda700&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments POST \&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:2413,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst response = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = response.body.id\norderLocal.site_id = response.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal.order_id = orderResponse.id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/payments.test.js:29:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;e68d252c-e251-467f-b89f-3e6f14ad9db3&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments POST \&quot;after all\&quot; hook: delete order, jobsite, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:1089,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76035a38-efe0-4080-98e3-3b5e29e7d819&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;28e57a98-c8af-475d-8815-c6d30b417fef&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments POST 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/payments&#x27;)\n\t.send(payment)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;098c97ae-bc6f-47b1-8325-571f5e4ab34a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments POST 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28ecd479-bd93-4617-bfd6-4ce3aab8b45e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;098c97ae-bc6f-47b1-8325-571f5e4ab34a&quot;,&quot;28ecd479-bd93-4617-bfd6-4ce3aab8b45e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d28d89b8-1658-47f8-b237-e81aaf99cd00&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;payments POST 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/payments&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;378625e2-8532-468b-814d-4c0380254664&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98945e4f-e80c-4811-bd01-c8521db393f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;378625e2-8532-468b-814d-4c0380254664&quot;,&quot;98945e4f-e80c-4811-bd01-c8521db393f3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d74db4fd-df1c-4552-b93b-b4488de16fad&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete payment&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 \&quot;after all\&quot; hook: delete payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75a1a284-66b0-4a08-abf8-db081d812f3c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a payment&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 should create a payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/payments&#x27;)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;47f73e33-cec5-478b-b5f0-a448a49aa4fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b331bf4e-3730-481c-80e9-9ae6b034253b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be visible on the order&quot;,&quot;fullTitle&quot;:&quot;payments POST 201 should be visible on the order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const orderResponse = await request.get(`/orders/${paymentLocal.order_id}`)\n\t.query({ payments: &#x27;true&#x27; })\n\t.auth(username, password)\n\t.expect(200)\nexpect(orderResponse.body.payments.length).to.equal(1)\nexpect(orderResponse.body.payments[0].id).to.equal(paymentLocal.id)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8b5bf70-b783-4dc3-b769-c4f91bae15dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;47f73e33-cec5-478b-b5f0-a448a49aa4fd&quot;,&quot;b331bf4e-3730-481c-80e9-9ae6b034253b&quot;,&quot;f8b5bf70-b783-4dc3-b769-c4f91bae15dc&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;0237f82f-3405-48e9-adfe-ec1fc9b1b11d&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments GET \&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2464,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\npaymentLocal.order_id = orderLocal.id\nconst paymentResponse = await request.post(&#x27;/payments&#x27;)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal = paymentResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/payments.test.js:113:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;59b87f0a-c612-4b44-a907-65605e45ee4f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete payment, job_site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments GET \&quot;after all\&quot; hook: delete payment, job_site, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:331,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/payments.test.js:172:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;f34288ac-7927-40a2-99da-57990fc42990&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5c40c604-2e17-42a7-9040-ba08c56c2adb&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/payments/${paymentLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a23979a7-cb6c-4e59-a696-6c7ff1813e7f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5c37084-2f51-4497-a727-fc131158b8f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;a23979a7-cb6c-4e59-a696-6c7ff1813e7f&quot;,&quot;c5c37084-2f51-4497-a727-fc131158b8f5&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e2a76af6-c92a-4800-8430-a96aa66a3d27&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing payment&quot;,&quot;fullTitle&quot;:&quot;payments GET 404 should fail to get missing payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/payments/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c171be62-287e-4ba8-bfa0-ebbc49105942&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b29d2784-fa51-4bd3-8153-5d50865b4dcd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c171be62-287e-4ba8-bfa0-ebbc49105942&quot;,&quot;b29d2784-fa51-4bd3-8153-5d50865b4dcd&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;2221ec8a-efb1-4748-a72d-535f8e52a34a&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an payment&quot;,&quot;fullTitle&quot;:&quot;payments GET 200 should get an payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a4132d9-ee6f-4416-a375-2f00635b8d19&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10f3f33b-7492-45ef-b770-d581a82ee67d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9a4132d9-ee6f-4416-a375-2f00635b8d19&quot;,&quot;10f3f33b-7492-45ef-b770-d581a82ee67d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d19fe9f4-8be8-4768-b6da-982c87c3258d&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments PATCH \&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:2091,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\npaymentLocal.order_id = orderLocal.id\nconst paymentResponse = await request.post(&#x27;/payments&#x27;)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal = paymentResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/payments.test.js:197:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;6a0f5dd5-8974-45fd-bade-b3dbf697c645&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments PATCH \&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:482,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 200 \&quot;OK\&quot;, got 404 \&quot;Not Found\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/payments.test.js:275:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:943:3)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;dbe428c4-c74c-4e4e-ba35-3df808f1c46b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d86bb0be-64ef-43e5-86ce-ff71c01b55e2&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/payments/${paymentLocal.id}`)\n\t.send(paymentLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db321f53-1b60-43b7-b6c6-7b39357d6ec7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e048c76-0e4b-4e13-aaa4-300dfe545a58&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;db321f53-1b60-43b7-b6c6-7b39357d6ec7&quot;,&quot;6e048c76-0e4b-4e13-aaa4-300dfe545a58&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c60903b6-8416-4d32-a113-89c667677c9e&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/payments/${paymentLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fc2de2f7-ff1d-4777-b9ae-65f77de0f29b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a47d6892-6120-4a6c-ae3d-2c0ee85c12b2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;fc2de2f7-ff1d-4777-b9ae-65f77de0f29b&quot;,&quot;a47d6892-6120-4a6c-ae3d-2c0ee85c12b2&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;58095fb2-41dd-416a-b8f7-9ba032f3141c&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 404 should fail to update missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/payments/${missingId}`)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b9ff161f-6b0a-4e10-a76c-fd96d0e6bfed&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99e4b0f7-5e6c-4a39-91b6-73591972ff4b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b9ff161f-6b0a-4e10-a76c-fd96d0e6bfed&quot;,&quot;99e4b0f7-5e6c-4a39-91b6-73591972ff4b&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;3b99c766-755f-4fd4-b5bd-88b50e75ce39&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an payment&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 200 should update an payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/payments/${paymentLocal.id}`)\n\t.send({ payment_amount: 500 })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ed6a89b2-f48c-4ae5-8fdd-f586b1189dce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;80291db5-e867-4127-a38b-72eb45f5bfa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update payment&quot;,&quot;fullTitle&quot;:&quot;payments PATCH 200 should actually update payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.payment_amount).to.equal(500)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;55759368-543a-4fb1-ad98-d1f43204ea8e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ed6a89b2-f48c-4ae5-8fdd-f586b1189dce&quot;,&quot;80291db5-e867-4127-a38b-72eb45f5bfa4&quot;,&quot;55759368-543a-4fb1-ad98-d1f43204ea8e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;6408a5af-30b3-4a4d-9921-e48f6061fdde&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments DELETE \&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:2012,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body\n// add required object references to example data before create\npaymentLocal.order_id = orderLocal.id\nconst paymentResponse = await request.post(&#x27;/payments&#x27;)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(201)\npaymentLocal = paymentResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/payments.test.js:300:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;2e822ce8-ae2e-4129-9e8d-1a3cd5f4114f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;payments DELETE \&quot;after all\&quot; hook: delete job_site, payment, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1851,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8a0100d-90ef-45d0-a3db-a9d0adaa14cf&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3ec60bb7-b974-4d34-a3a2-6337838d2aaa&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/payments/${paymentLocal.id}`)\n\t.send(paymentLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a86561b8-8060-4854-9451-0f6277d10c1e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8de1ba7b-df21-4589-a444-087562fd91f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;a86561b8-8060-4854-9451-0f6277d10c1e&quot;,&quot;8de1ba7b-df21-4589-a444-087562fd91f5&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;b71bf941-e45f-4049-bff1-d3b1253db5bf&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete missing order body&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 404 should fail to delete missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/payments/${missingId}`)\n\t.send(paymentLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05b8fa97-5b62-414f-a9ba-e315bc23aebf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12f39319-ac62-4132-9fd0-3bf21870545f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;05b8fa97-5b62-414f-a9ba-e315bc23aebf&quot;,&quot;12f39319-ac62-4132-9fd0-3bf21870545f&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d10e1ac2-04cd-4adb-8aea-a9ddb0b58407&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\payments.test.js&quot;,&quot;file&quot;:&quot;\\test\\payments.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an payment&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 200 should delete an payment&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/payments/${paymentLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;de1219f4-0234-4393-bfdd-1fcdb06a709b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;payments DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d40bde1-f6a8-402b-91b2-8c05b96d0475&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;de1219f4-0234-4393-bfdd-1fcdb06a709b&quot;,&quot;8d40bde1-f6a8-402b-91b2-8c05b96d0475&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;38974736-4da5-4671-9658-5fdf95f6789d&quot;,&quot;title&quot;:&quot;orders&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;42b85f6e-36d8-49de-82a1-e2adaa40eefa&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders POST \&quot;before all\&quot; hook: create customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:2604,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/orders.test.js:28:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;38230949-8ae9-4169-8718-cd25e96e494e&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders POST \&quot;after all\&quot; hook: delete order, customer, jobsite in \&quot;POST\&quot;&quot;,&quot;duration&quot;:973,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22b8e4d3-cf93-42cd-9e31-fb374a98ddc0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;edab99a7-1ea8-4531-938f-81b0b6286f7a&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders POST 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ca32e59e-85ef-4c05-a802-6625f232d53a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders POST 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0274d81f-94cd-48cb-b8e0-153eee9123bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ca32e59e-85ef-4c05-a802-6625f232d53a&quot;,&quot;0274d81f-94cd-48cb-b8e0-153eee9123bf&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;8f41730d-c070-404d-be36-4d1dd74ec4f4&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;orders POST 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/orders&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;960afd98-e29d-4e4e-814c-0fb2d97d1f83&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;605cb480-f6ce-48e3-b888-4cae3bade372&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;960afd98-e29d-4e4e-814c-0fb2d97d1f83&quot;,&quot;605cb480-f6ce-48e3-b888-4cae3bade372&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;de023313-7cf4-4893-9cb5-549a9b653cf5&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an order&quot;,&quot;fullTitle&quot;:&quot;orders POST 201 should create an order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;828a48b4-c298-4d28-9379-9929ef1300ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f06caae1-9f8e-4ef7-a133-d6c9d14f2fe8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;828a48b4-c298-4d28-9379-9929ef1300ce&quot;,&quot;f06caae1-9f8e-4ef7-a133-d6c9d14f2fe8&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d591711b-7363-43f6-bcbf-b0c65d8d17c6&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders GET \&quot;before all\&quot; hook: create customer, job site, order in \&quot;GET\&quot;&quot;,&quot;duration&quot;:2540,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/orders.test.js:93:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;2fd4e7dc-f4ad-4a9e-90ed-8dcc91f2cb45&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders GET \&quot;after all\&quot; hook: delete order, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:1575,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bec2f363-2348-4f0c-b6c3-5e1d310d8991&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a730050a-3621-4995-ada6-3ffa25512492&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/orders/${orderLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ce2a28bd-93bc-47e9-9a3c-9a46935961e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe62e1d7-0139-40bb-a16b-fac7a94c4069&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ce2a28bd-93bc-47e9-9a3c-9a46935961e6&quot;,&quot;fe62e1d7-0139-40bb-a16b-fac7a94c4069&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;aee2d100-5dcc-47b1-9fa3-c15d756ae9dc&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing order&quot;,&quot;fullTitle&quot;:&quot;orders GET 404 should fail to get missing order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/orders/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;23592cf7-70a9-44c9-ac8f-39ceecec61a5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e753b781-b47b-4ec5-a0c9-e52807059e9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;23592cf7-70a9-44c9-ac8f-39ceecec61a5&quot;,&quot;e753b781-b47b-4ec5-a0c9-e52807059e9b&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;fbe55d61-811b-445d-96e4-f8e0ce88ca3a&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get an order&quot;,&quot;fullTitle&quot;:&quot;orders GET 200 should get an order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;466ed31a-c4fc-4765-b6df-04f5048176e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0a6d4c18-d126-4d1a-b104-8437743ca426&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;466ed31a-c4fc-4765-b6df-04f5048176e2&quot;,&quot;0a6d4c18-d126-4d1a-b104-8437743ca426&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;d3bfa72c-c4de-40ec-93e2-74cd4c613809&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders PATCH \&quot;before all\&quot; hook: create customer, job site, order in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1774,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/orders.test.js:163:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;325199f8-1091-4297-820b-a5e06374ed74&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders PATCH \&quot;after all\&quot; hook: delete order, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:1514,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaaa474c-48f3-4fa5-88c4-de5823147ca9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;6e8958bc-ec9c-4fd6-816b-61cb33d48e5e&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/orders/${orderLocal.id}`)\n\t.send(orderLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a1372ff-cc8a-491c-bdbc-8576ccb8d12f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;49ae851a-576f-44e9-87e3-7f07b37c67b1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;2a1372ff-cc8a-491c-bdbc-8576ccb8d12f&quot;,&quot;49ae851a-576f-44e9-87e3-7f07b37c67b1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;29b46f0b-ba3a-4a2c-a0a5-3bd742f3634f&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/orders/${orderLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;491e1b9b-099a-4255-90e6-2d79e2184d38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd7dfced-8794-4cdf-ba54-caca470766c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;491e1b9b-099a-4255-90e6-2d79e2184d38&quot;,&quot;bd7dfced-8794-4cdf-ba54-caca470766c3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;79d35341-6f83-4770-ab37-a8cce2d3b899&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing order body&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 404 should fail to update missing order body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/orders/${missingId}`)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8452268c-f80b-41bf-98f8-571008d1faf5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d000b96-f188-4c91-b395-20287fd9468d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;8452268c-f80b-41bf-98f8-571008d1faf5&quot;,&quot;9d000b96-f188-4c91-b395-20287fd9468d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;3fd4cb9c-d2ed-4c38-9680-56b44af88fc7&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an order&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 200 should update an order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/orders/${orderLocal.id}`)\n\t.send({ status_code: &#x27;200&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03b3700e-cc8e-44f1-9273-8d3f4d8a5c1e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f231c19b-f571-4dd4-bf3e-915d890602dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update order&quot;,&quot;fullTitle&quot;:&quot;orders PATCH 200 should actually update order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.status_code).to.equal(&#x27;200&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08666da1-b24c-4f8b-9ad4-2b976484a38e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;03b3700e-cc8e-44f1-9273-8d3f4d8a5c1e&quot;,&quot;f231c19b-f571-4dd4-bf3e-915d890602dd&quot;,&quot;08666da1-b24c-4f8b-9ad4-2b976484a38e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;ad2338eb-c51d-40c6-b3bd-d9f496e1dad5&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders DELETE \&quot;before all\&quot; hook: create customer, job site, order in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:1743,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerLocal = { ...customer }\ncustomerLocal.create_job_site = true\nconst customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customerLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal.customer_id = customerResponse.body.id\norderLocal.site_id = customerResponse.body.site_id\nconst orderResponse = await request.post(&#x27;/orders&#x27;)\n\t.send(orderLocal)\n\t.auth(username, password)\n\t.expect(201)\norderLocal = orderResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/orders.test.js:253:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;6f97010e-362f-41cc-a220-0837ae7d96db&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete order, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;orders DELETE \&quot;after all\&quot; hook: delete order, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:297,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/sites/${orderLocal.site_id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${orderLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/orders.test.js:300:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:402:35)\n    at endReadableNT (node:internal/streams/readable:1343:12)&quot;},&quot;uuid&quot;:&quot;418b4957-9362-4f32-9278-0abe695da476&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b57e93be-7b0b-4025-b49c-0bad447273a0&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/orders/${orderLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac06b9f0-c599-4898-85af-0361ee62ad16&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9f939098-49c2-49a2-862c-4c773308df1a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ac06b9f0-c599-4898-85af-0361ee62ad16&quot;,&quot;9f939098-49c2-49a2-862c-4c773308df1a&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;3619f21c-ef76-4c27-97e2-b145c159bea5&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing order&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 404 should fail to delete a missing order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/orders/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c9c8f506-ab92-4d3d-ad33-930190e9bed2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6455e644-af6d-4c77-8528-6c42972c4e88&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;c9c8f506-ab92-4d3d-ad33-930190e9bed2&quot;,&quot;6455e644-af6d-4c77-8528-6c42972c4e88&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;1d7b6dc4-ec51-4595-b262-0f142d177e44&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\orders.test.js&quot;,&quot;file&quot;:&quot;\\test\\orders.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an order&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 200 should delete an order&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/orders/${orderLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bac6279-293b-47b2-b35c-d203b29d9daf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;orders DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;126918e6-fd01-4a9b-97f6-774be45f6024&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;9bac6279-293b-47b2-b35c-d203b29d9daf&quot;,&quot;126918e6-fd01-4a9b-97f6-774be45f6024&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c0c7b4b3-86d1-49cf-a978-399f38db52cb&quot;,&quot;title&quot;:&quot;sites&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fa5ebce2-57fb-46b1-8589-1b0fe0de08d4&quot;,&quot;title&quot;:&quot;POST&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites POST \&quot;before all\&quot; hook: create customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:2076,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal.customer_id = customerResponse.body.id&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sites.test.js:26:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;2f6bb688-1492-462d-89c0-ff16d1cfe809&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;POST\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites POST \&quot;after all\&quot; hook: delete site, customer in \&quot;POST\&quot;&quot;,&quot;duration&quot;:562,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f264d08a-b9f2-483c-b024-6675dc87b2d4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f2424d98-6f27-4a8f-8665-1af76ec6675c&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites POST 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4558ef73-e702-4843-9558-63d9033f41ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites POST 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ad9ee5e-35c8-478d-9f81-54a1619554df&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;4558ef73-e702-4843-9558-63d9033f41ef&quot;,&quot;2ad9ee5e-35c8-478d-9f81-54a1619554df&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;c888ae8d-2345-470b-b9ae-917a96af0f59&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sites POST 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sites&#x27;)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\n\t.expect(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90ed1a92-0b24-4dbf-afb7-13e6440418f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites POST 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5d4f37e5-caaf-46ed-ad98-70a6dd83c031&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;90ed1a92-0b24-4dbf-afb7-13e6440418f0&quot;,&quot;5d4f37e5-caaf-46ed-ad98-70a6dd83c031&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f27a758f-625f-404b-892c-28a7ef8303a4&quot;,&quot;title&quot;:&quot;201&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create an site&quot;,&quot;fullTitle&quot;:&quot;sites POST 201 should create an site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f1004446-832c-4312-b429-e1cbf3c201e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites POST 201 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cd22062-0fca-43b5-ad1e-02bb18a544ac&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually have created a site&quot;,&quot;fullTitle&quot;:&quot;sites POST 201 should actually have created a site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5cc4e64e-ac21-4006-803e-e64044d95690&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;f1004446-832c-4312-b429-e1cbf3c201e4&quot;,&quot;9cd22062-0fca-43b5-ad1e-02bb18a544ac&quot;,&quot;5cc4e64e-ac21-4006-803e-e64044d95690&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;ee282b5f-dbc8-4092-9ef4-5da6f71731d4&quot;,&quot;title&quot;:&quot;GET&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites GET \&quot;before all\&quot; hook: create customer, job site in \&quot;GET\&quot;&quot;,&quot;duration&quot;:798,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\nsiteLocal.customer_id = customerResponse.body.id\nconst siteResponse = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal = siteResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sites.test.js:88:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;0aa5f4a4-cc5c-444b-ba68-a49b4c48f39d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;GET\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites GET \&quot;after all\&quot; hook: delete site, customer in \&quot;GET\&quot;&quot;,&quot;duration&quot;:614,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b82ae0d5-2cca-4fe8-930d-b7aa44fd553a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;bda26ad5-5bc8-4653-8921-6e5546d31b6a&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites GET 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sites/${siteLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4d09e74b-2ab1-4d01-a075-ca87b71a6475&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites GET 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f25f881e-7db4-4eb4-99c9-5af901a38aa5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;4d09e74b-2ab1-4d01-a075-ca87b71a6475&quot;,&quot;f25f881e-7db4-4eb4-99c9-5af901a38aa5&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;38c909e5-0c3f-43d9-8c07-e40a3230d816&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to get missing site&quot;,&quot;fullTitle&quot;:&quot;sites GET 404 should fail to get missing site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.get(`/sites/${missingId}`)\n\t.auth(username, password)\n\t.expect(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36caff7d-aa10-4fa5-8e2e-2bc4623b1632&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites GET 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;26fbc968-7419-4c85-86ee-24d49a181e2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;36caff7d-aa10-4fa5-8e2e-2bc4623b1632&quot;,&quot;26fbc968-7419-4c85-86ee-24d49a181e2e&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;a676e85c-83ab-4463-991f-e282e95059d4&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should get a site&quot;,&quot;fullTitle&quot;:&quot;sites GET 200 should get a site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\n// update local reference with successful response body\nsiteLocal = response.body&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;03b127b3-6317-44ff-8a5a-4fa72a5130ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites GET 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;365123eb-712b-46bf-999a-027263ddd157&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;03b127b3-6317-44ff-8a5a-4fa72a5130ad&quot;,&quot;365123eb-712b-46bf-999a-027263ddd157&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;ee027be8-c374-433a-8b33-fcadc1dfef18&quot;,&quot;title&quot;:&quot;PATCH&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, job site, site in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites PATCH \&quot;before all\&quot; hook: create customer, job site, site in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:811,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\n// add required object references to example data before create\nsiteLocal.customer_id = customerResponse.body.id\nconst siteResponse = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal = siteResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sites.test.js:154:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;b03d71d0-14f9-47e1-925a-f0e3ad9ac1a8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;PATCH\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites PATCH \&quot;after all\&quot; hook: delete site, customer in \&quot;PATCH\&quot;&quot;,&quot;duration&quot;:587,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52d40889-b2ab-4e58-a96d-6d99c2412db0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a054ab9d-77e2-4d0a-90e8-007e34a33575&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sites/${siteLocal.id}`)\n\t.send(siteLocal)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;098823d2-38cb-447c-a3e0-89bd36b4bd80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38ff918a-b099-4006-abeb-c2876a16db9d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;098823d2-38cb-447c-a3e0-89bd36b4bd80&quot;,&quot;38ff918a-b099-4006-abeb-c2876a16db9d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;6bd91421-8ee0-4c4b-a90d-de02f0a2cdd8&quot;,&quot;title&quot;:&quot;400&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail with invalid body&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 400 should fail with invalid body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sites/${siteLocal.id}`)\n\t.send({ invalid: &#x27;invalid&#x27; })\n\t.auth(username, password)\nexpect(response.status).to.equal(400)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8ed7910-2884-480a-a051-7fcde0acae96&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 400 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41e48fe6-4c03-48e7-9f8c-a52de3d7e483&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d8ed7910-2884-480a-a051-7fcde0acae96&quot;,&quot;41e48fe6-4c03-48e7-9f8c-a52de3d7e483&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;66f6f1d3-15d6-43b6-be7e-d2deaed6f52a&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to update missing site body&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 404 should fail to update missing site body&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.patch(`/sites/${missingId}`)\n\t.send(siteLocal)\n\t.auth(username, password)\nexpect(response.status).to.equal(404)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;766163ab-e87d-4cf6-9463-38f0bc6d3931&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;96f7752d-37c8-4532-b831-363f3fb98175&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;766163ab-e87d-4cf6-9463-38f0bc6d3931&quot;,&quot;96f7752d-37c8-4532-b831-363f3fb98175&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;e2026524-6fb8-435c-bea7-2342689f7573&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update an site&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 200 should update an site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.patch(`/sites/${siteLocal.id}`)\n\t.send({ project_name: &#x27;updated&#x27; })\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;21084e24-767f-4f42-9e4f-468e895708a5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;305ae4b1-6ce7-41a8-a9a4-9d483de01441&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should actually update customer_id&quot;,&quot;fullTitle&quot;:&quot;sites PATCH 200 should actually update customer_id&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.get(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)\nexpect(response.body.project_name).to.equal(&#x27;updated&#x27;)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;48cc0fdc-0b78-468d-b656-4f813b9aceaa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;21084e24-767f-4f42-9e4f-468e895708a5&quot;,&quot;305ae4b1-6ce7-41a8-a9a4-9d483de01441&quot;,&quot;48cc0fdc-0b78-468d-b656-4f813b9aceaa&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;9f29b4fa-eec8-4fb7-a55c-03abd7c81a2a&quot;,&quot;title&quot;:&quot;DELETE&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: create customer, site in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites DELETE \&quot;before all\&quot; hook: create customer, site in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:947,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;const customerResponse = await request.post(&#x27;/customers&#x27;)\n\t.send(customer)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal.customer_id = customerResponse.body.id\nconst siteResponse = await request.post(&#x27;/sites&#x27;)\n\t.send(siteLocal)\n\t.auth(username, password)\n\t.expect(201)\nsiteLocal = siteResponse.body&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 201 \&quot;Created\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sites.test.js:237:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\superagent\\lib\\node\\index.js:1165:20\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\parsers\\json.js:22:7)\n    at IncomingMessage.emit (node:events:402:35)&quot;},&quot;uuid&quot;:&quot;d641cc01-deb5-4c26-aeeb-ec484a910e87&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook: delete site, customer in \&quot;DELETE\&quot;&quot;,&quot;fullTitle&quot;:&quot;sites DELETE \&quot;after all\&quot; hook: delete site, customer in \&quot;DELETE\&quot;&quot;,&quot;duration&quot;:437,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;code&quot;:&quot;await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(404)\nawait request.delete(`/customers/${siteLocal.customer_id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;&quot;,&quot;estack&quot;:&quot;Error: expected 404 \&quot;Not Found\&quot;, got 200 \&quot;OK\&quot;\n    at Context.&lt;anonymous&gt; (file:///C:/Users/Indow/git/modi-api/test/sites.test.js:283:6)\n    at processImmediate (node:internal/timers:464:21)\n----\n    at Test._assertStatus (node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:306:17\n    at Test._assertFunction (node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (node_modules\\supertest\\lib\\test.js:164:23)\n    at localAssert (node_modules\\supertest\\lib\\test.js:120:14)\n    at C:\\Users\\Indow\\git\\modi-api\\node_modules\\supertest\\lib\\test.js:125:7\n    at Test.Request.callback (node_modules\\superagent\\lib\\node\\index.js:932:12)\n    at IncomingMessage.&lt;anonymous&gt; (node_modules\\superagent\\lib\\node\\index.js:1165:20)\n    at IncomingMessage.emit (node:events:402:35)\n    at endReadableNT (node:internal/streams/readable:1343:12)&quot;},&quot;uuid&quot;:&quot;8a558586-fb2a-4685-90ca-b2576645943f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;cd0e2eb6-fd05-4841-ab1c-1c1e432d5e43&quot;,&quot;title&quot;:&quot;401&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail without auth&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 401 should fail without auth&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/sites/${siteLocal.id}`)\n\t.expect(401)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1432c2c-2c1a-4d17-9d36-ac75105b5479&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 401 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;954067e1-21eb-46c3-85fd-472e25a134b2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;e1432c2c-2c1a-4d17-9d36-ac75105b5479&quot;,&quot;954067e1-21eb-46c3-85fd-472e25a134b2&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;84f17d25-413a-414b-a316-6ebf508efcef&quot;,&quot;title&quot;:&quot;404&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should fail to delete a missing site&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 404 should fail to delete a missing site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const missingId = &#x27;00000&#x27;\nresponse = await request.delete(`/sites/${missingId}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b4cea585-fb7f-4b8f-99c9-26bb09663915&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 404 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cd898766-e949-420e-ae2e-e54538e799db&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b4cea585-fb7f-4b8f-99c9-26bb09663915&quot;,&quot;cd898766-e949-420e-ae2e-e54538e799db&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false},{&quot;uuid&quot;:&quot;f927d626-a3ab-4560-8cbe-a29502cae92e&quot;,&quot;title&quot;:&quot;200&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\test\\sites.test.js&quot;,&quot;file&quot;:&quot;\\test\\sites.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete an site&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 200 should delete an site&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response = await request.delete(`/sites/${siteLocal.id}`)\n\t.auth(username, password)\n\t.expect(200)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c2f8bab-0a9c-4492-a60d-73f236e234b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should satisfy api spec&quot;,&quot;fullTitle&quot;:&quot;sites DELETE 200 should satisfy api spec&quot;,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;response.should.satisfyApiSpec&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c02b820-9d41-4168-8ee4-0b63a6ff4251&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7c2f8bab-0a9c-4492-a60d-73f236e234b8&quot;,&quot;1c02b820-9d41-4168-8ee4-0b63a6ff4251&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;9.2.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;docs&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;docs&quot;,&quot;reportTitle&quot;:&quot;modi-api&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;docs\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\docs\\index.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\Indow\\git\\modi-api\\docs\\index.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>